<!doctype html><html lang="en" class="no-js"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta http-equiv="x-ua-compatible" content="ie=edge"><meta name="description" content="ABCI Users Guide, English version"><link rel="canonical" href="https://docs.abci.ai/en/abci-cloudstorage/acl/"><meta name="author" content="AIST"><meta name="lang:clipboard.copy" content="Copy to clipboard"><meta name="lang:clipboard.copied" content="Copied to clipboard"><meta name="lang:search.language" content="en"><meta name="lang:search.pipeline.stopwords" content="True"><meta name="lang:search.pipeline.trimmer" content="True"><meta name="lang:search.result.none" content="No matching documents"><meta name="lang:search.result.one" content="1 matching document"><meta name="lang:search.result.other" content="# matching documents"><meta name="lang:search.tokenizer" content="[\s\-]+"><link rel="shortcut icon" href="../../assets/images/favicon.png"><meta name="generator" content="mkdocs-1.1.2, mkdocs-material-4.3.1"><title>Access Control (1)  - ABCI Users Guide</title><link rel="stylesheet" href="../../assets/stylesheets/application.4031d38b.css"><link rel="stylesheet" href="../../assets/stylesheets/application-palette.224b79ff.css"><meta name="theme-color" content="#ef5350"><script src="../../assets/javascripts/modernizr.74668098.js"></script><link href="https://fonts.gstatic.com" rel="preconnect" crossorigin><link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700|Roboto+Mono&display=swap"><style>body,input{font-family:"Roboto","Helvetica Neue",Helvetica,Arial,sans-serif}code,kbd,pre{font-family:"Roboto Mono","Courier New",Courier,monospace}</style><link rel="stylesheet" href="../../assets/fonts/material-icons.css"><script>window.ga = window.ga || function() {
    (ga.q = ga.q || []).push(arguments)
  }
  ga.l = +new Date
  /* Setup integration and send page view */
  ga("create", "UA-118371652-2", "auto")
  ga("set", "anonymizeIp", true)
  ga("send", "pageview")
  /* Register handler to log search on blur */
  document.addEventListener("DOMContentLoaded", () => {
    if (document.forms.search) {
      var query = document.forms.search.query
      query.addEventListener("blur", function() {
        if (this.value) {
          var path = document.location.pathname;
          ga("send", "pageview", path + "?q=" + this.value)
        }
      })
    }
  })</script><script async src="https://www.google-analytics.com/analytics.js"></script></head><body dir="ltr" data-md-color-primary="red" data-md-color-accent="red"><svg class="md-svg"><defs><svg xmlns="http://www.w3.org/2000/svg" width="416" height="448" viewBox="0 0 416 448" id="__github"><path fill="currentColor" d="M160 304q0 10-3.125 20.5t-10.75 19T128 352t-18.125-8.5-10.75-19T96 304t3.125-20.5 10.75-19T128 256t18.125 8.5 10.75 19T160 304zm160 0q0 10-3.125 20.5t-10.75 19T288 352t-18.125-8.5-10.75-19T256 304t3.125-20.5 10.75-19T288 256t18.125 8.5 10.75 19T320 304zm40 0q0-30-17.25-51T296 232q-10.25 0-48.75 5.25Q229.5 240 208 240t-39.25-2.75Q130.75 232 120 232q-29.5 0-46.75 21T56 304q0 22 8 38.375t20.25 25.75 30.5 15 35 7.375 37.25 1.75h42q20.5 0 37.25-1.75t35-7.375 30.5-15 20.25-25.75T360 304zm56-44q0 51.75-15.25 82.75-9.5 19.25-26.375 33.25t-35.25 21.5-42.5 11.875-42.875 5.5T212 416q-19.5 0-35.5-.75t-36.875-3.125-38.125-7.5-34.25-12.875T37 371.5t-21.5-28.75Q0 312 0 260q0-59.25 34-99-6.75-20.5-6.75-42.5 0-29 12.75-54.5 27 0 47.5 9.875t47.25 30.875Q171.5 96 212 96q37 0 70 8 26.25-20.5 46.75-30.25T376 64q12.75 25.5 12.75 54.5 0 21.75-6.75 42 34 40 34 99.5z"/></svg></defs></svg> <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off"> <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off"> <label class="md-overlay" data-md-component="overlay" for="__drawer"></label><a href="#access-control-1-acl-" tabindex="1" class="md-skip">Skip to content </a><header class="md-header" data-md-component="header"><nav class="md-header-nav md-grid"><div class="md-flex"><div class="md-flex__cell md-flex__cell--shrink"><a href="https://docs.abci.ai/en/" title="ABCI Users Guide" class="md-header-nav__button md-logo"><i class="md-icon">cloud</i></a></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--menu md-header-nav__button" for="__drawer"></label></div><div class="md-flex__cell md-flex__cell--stretch"><div class="md-flex__ellipsis md-header-nav__title" data-md-component="title"><span class="md-header-nav__topic">ABCI Users Guide</span><span class="md-header-nav__topic">Access Control (1) </span></div></div><div class="md-flex__cell md-flex__cell--shrink"><label class="md-icon md-icon--search md-header-nav__button" for="__search"></label><div class="md-search" data-md-component="search" role="dialog"><label class="md-search__overlay" for="__search"></label><div class="md-search__inner" role="search"><form class="md-search__form" name="search"><input type="text" class="md-search__input" name="query" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="query" data-md-state="active"> <label class="md-icon md-search__icon" for="__search"></label> <button type="reset" class="md-icon md-search__icon" data-md-component="reset" tabindex="-1">&#xE5CD;</button></form><div class="md-search__output"><div class="md-search__scrollwrap" data-md-scrollfix><div class="md-search-result" data-md-component="result"><div class="md-search-result__meta">Type to start searching</div><ol class="md-search-result__list"></ol></div></div></div></div></div></div><div class="md-flex__cell md-flex__cell--shrink"><div class="md-header-nav__source"><a href="https://github.com/aistairc/abci-docs/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div></div></div></nav></header><div class="md-container"><main class="md-main"><div class="md-main__inner md-grid" data-md-component="container"><div class="md-sidebar md-sidebar--primary" data-md-component="navigation"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--primary" data-md-level="0"><label class="md-nav__title md-nav__title--site" for="__drawer"><a href="https://docs.abci.ai/en/" title="ABCI Users Guide" class="md-nav__button md-logo"><i class="md-icon">cloud</i></a>ABCI Users Guide</label><div class="md-nav__source"><a href="https://github.com/aistairc/abci-docs/" title="Go to repository" class="md-source" data-md-source="github"><div class="md-source__icon"><svg viewBox="0 0 24 24" width="24" height="24"><use xlink:href="#__github" width="24" height="24"></use></svg></div><div class="md-source__repository">GitHub</div></a></div><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../.." title="Introduction" class="md-nav__link">Introduction</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-2" type="checkbox" id="nav-2"><label class="md-nav__link" for="nav-2">Users Guide</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-2">Users Guide</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../01/" title="1. ABCI System Overview" class="md-nav__link">1. ABCI System Overview</a></li><li class="md-nav__item"><a href="../../02/" title="2. ABCI System User Environment" class="md-nav__link">2. ABCI System User Environment</a></li><li class="md-nav__item"><a href="../../03/" title="3. Job Execution Environment" class="md-nav__link">3. Job Execution Environment</a></li><li class="md-nav__item"><a href="../../04/" title="4. Storage" class="md-nav__link">4. Storage</a></li><li class="md-nav__item"><a href="../../05/" title="5. Environment Modules" class="md-nav__link">5. Environment Modules</a></li><li class="md-nav__item"><a href="../../06/" title="6. Python" class="md-nav__link">6. Python</a></li><li class="md-nav__item"><a href="../../07/" title="7. GPU" class="md-nav__link">7. GPU</a></li><li class="md-nav__item"><a href="../../08/" title="8. MPI" class="md-nav__link">8. MPI</a></li><li class="md-nav__item"><a href="../../09/" title="9. Linux Containers" class="md-nav__link">9. Linux Containers</a></li><li class="md-nav__item"><a href="../../10/" title="10. Software Development Environment" class="md-nav__link">10. Software Development Environment</a></li><li class="md-nav__item"><a href="../../appendix1/" title="Appendix 1. Configuration of Installed Software" class="md-nav__link">Appendix 1. Configuration of Installed Software</a></li><li class="md-nav__item"><a href="../../appendix2/" title="Appendix 2. Use of ABCI System for HPCI" class="md-nav__link">Appendix 2. Use of ABCI System for HPCI </a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-3" type="checkbox" id="nav-3"><label class="md-nav__link" for="nav-3">Applications</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-3">Applications</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../apps/" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../../apps/tensorflow/" title="TensorFlow" class="md-nav__link">TensorFlow</a></li><li class="md-nav__item"><a href="../../apps/chainer/" title="Chainer" class="md-nav__link">Chainer</a></li><li class="md-nav__item"><a href="../../apps/others/" title="Others" class="md-nav__link">Others</a></li></ul></nav></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-4" type="checkbox" id="nav-4"><label class="md-nav__link" for="nav-4">Tips</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-4">Tips</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../../tips/remote-desktop/" title="Remote Desktop" class="md-nav__link">Remote Desktop</a></li><li class="md-nav__item"><a href="../../tips/awscli/" title="AWS CLI" class="md-nav__link">AWS CLI</a></li><li class="md-nav__item"><a href="../../tips/putty/" title="PuTTY" class="md-nav__link">PuTTY</a></li><li class="md-nav__item"><a href="../../tips/jupyter-notebook/" title="Jupyter Notebook" class="md-nav__link">Jupyter Notebook</a></li><li class="md-nav__item"><a href="../../tips/sregistry-cli/" title="Singularity Global Client" class="md-nav__link">Singularity Global Client</a></li><li class="md-nav__item"><a href="../../tips/spack/" title="Spack" class="md-nav__link">Spack</a></li><li class="md-nav__item"><a href="../../tips/datasets/" title="Datasets" class="md-nav__link">Datasets</a></li><li class="md-nav__item"><a href="../../tips/dl-amazon-ecr/" title="Amazon ECR" class="md-nav__link">Amazon ECR</a></li></ul></nav></li><li class="md-nav__item"><a href="../../ngc/" title="NVIDIA NGC" class="md-nav__link">NVIDIA NGC</a></li><li class="md-nav__item md-nav__item--active md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-6" type="checkbox" id="nav-6" checked><label class="md-nav__link" for="nav-6">ABCI Cloud Storage</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-6">ABCI Cloud Storage</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="../" title="Overview" class="md-nav__link">Overview</a></li><li class="md-nav__item"><a href="../cs-account/" title="Accounts and Access keys" class="md-nav__link">Accounts and Access keys</a></li><li class="md-nav__item"><a href="../usage/" title="Usage" class="md-nav__link">Usage</a></li><li class="md-nav__item"><a href="../encryption/" title="Data encryption" class="md-nav__link">Data encryption</a></li><li class="md-nav__item md-nav__item--active"><input class="md-toggle md-nav__toggle" data-md-toggle="toc" type="checkbox" id="__toc"><label class="md-nav__link md-nav__link--active" for="__toc">Access Control (1) </label><a href="./" title="Access Control (1)" class="md-nav__link md-nav__link--active">Access Control (1) </a><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#what-to-configure" title="What to Configure" class="md-nav__link">What to Configure</a></li><li class="md-nav__item"><a href="#how-to-set-acl-examples" title="How to Set ACL (Examples)" class="md-nav__link">How to Set ACL (Examples)</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#share-objects-between-abci-groups" title="Share Objects between ABCI Groups" class="md-nav__link">Share Objects between ABCI Groups</a></li><li class="md-nav__item"><a href="#open-to-all-accounts-on-abci-cloud-storage" title="Open to All Accounts on ABCI Cloud Storage" class="md-nav__link">Open to All Accounts on ABCI Cloud Storage</a></li><li class="md-nav__item"><a href="#public-access" title="Public Access" class="md-nav__link">Public Access</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#public-buckets" title="Public Buckets" class="md-nav__link">Public Buckets</a></li><li class="md-nav__item"><a href="#public-objects" title="Public Objects" class="md-nav__link">Public Objects</a></li></ul></nav></li></ul></nav></li></ul></nav></li><li class="md-nav__item"><a href="../policy/" title="Access Control (2)" class="md-nav__link">Access Control (2) </a></li></ul></nav></li><li class="md-nav__item"><a href="../../faq/" title="FAQ" class="md-nav__link">FAQ</a></li><li class="md-nav__item"><a href="../../known-issues/" title="Known Issues" class="md-nav__link">Known Issues</a></li><li class="md-nav__item"><a href="../../system-updates/" title="System Updates" class="md-nav__link">System Updates</a></li><li class="md-nav__item"><a href="https://abci.ai/en/about_abci/info.html" title="Operation Status" class="md-nav__link">Operation Status</a></li><li class="md-nav__item"><a href="../../contact/" title="Contact" class="md-nav__link">Contact</a></li><li class="md-nav__item md-nav__item--nested"><input class="md-toggle md-nav__toggle" data-md-toggle="nav-12" type="checkbox" id="nav-12"><label class="md-nav__link" for="nav-12">Links</label><nav class="md-nav" data-md-component="collapsible" data-md-level="1"><label class="md-nav__title" for="nav-12">Links</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="https://abci.ai/" title="ABCI Web page" class="md-nav__link">ABCI Web page</a></li><li class="md-nav__item"><a href="https://docs.abci.ai/portal/en/" title="ABCI User Portal Guide" class="md-nav__link">ABCI User Portal Guide</a></li><li class="md-nav__item"><a href="https://portal.abci.ai/user/project_register_app.php?lang=en" title="ABCI User Portal (Registration)" class="md-nav__link">ABCI User Portal (Registration)</a></li><li class="md-nav__item"><a href="https://portal.abci.ai/user/login.php?lang=en" title="ABCI User Portal (Login)" class="md-nav__link">ABCI User Portal (Login)</a></li></ul></nav></li><li class="md-nav__item"><a href="https://docs.abci.ai/ja/" title="Japanese version" class="md-nav__link">Japanese version</a></li></ul></nav></div></div></div><div class="md-sidebar md-sidebar--secondary" data-md-component="toc"><div class="md-sidebar__scrollwrap"><div class="md-sidebar__inner"><nav class="md-nav md-nav--secondary"><label class="md-nav__title" for="__toc">Table of contents</label><ul class="md-nav__list" data-md-scrollfix><li class="md-nav__item"><a href="#what-to-configure" title="What to Configure" class="md-nav__link">What to Configure</a></li><li class="md-nav__item"><a href="#how-to-set-acl-examples" title="How to Set ACL (Examples)" class="md-nav__link">How to Set ACL (Examples)</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#share-objects-between-abci-groups" title="Share Objects between ABCI Groups" class="md-nav__link">Share Objects between ABCI Groups</a></li><li class="md-nav__item"><a href="#open-to-all-accounts-on-abci-cloud-storage" title="Open to All Accounts on ABCI Cloud Storage" class="md-nav__link">Open to All Accounts on ABCI Cloud Storage</a></li><li class="md-nav__item"><a href="#public-access" title="Public Access" class="md-nav__link">Public Access</a><nav class="md-nav"><ul class="md-nav__list"><li class="md-nav__item"><a href="#public-buckets" title="Public Buckets" class="md-nav__link">Public Buckets</a></li><li class="md-nav__item"><a href="#public-objects" title="Public Objects" class="md-nav__link">Public Objects</a></li></ul></nav></li></ul></nav></li></ul></nav></div></div></div><div class="md-content"><article class="md-content__inner md-typeset"><a href="https://github.com/aistairc/abci-docs/edit/master/en/docs/abci-cloudstorage/acl.md" title="Edit this page" class="md-icon md-content__icon">&#xE3C9;</a><h1 id="access-control-1-acl-">Access Control (1) - ACL -</h1>
<p>By defining Access Control List (ACL), users manage groups who has accessibility to buckets and objects. The default ACL grants the resource owner accessibility to their group's data. By changing default setting, ACL grants control to specific ABCI groups or everyone.</p>
<h2 id="what-to-configure">What to Configure</h2>
<p>For each bucket and object, ACL configures who is grantee and what permission is granted. </p>
<p>The table below lists grantees. ABCI group is the smallest grantee unit. Therefore, specific single Cloud Storage Account can not be the grantee.</p>
<table>
<thead>
<tr>
<th align="left">Grantee</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">ABCI group</td>
<td align="left">Specific groups can be allowed to access buckets and object that belong to other groups. All accounts under the group obtain accessibility.</td>
</tr>
<tr>
<td align="left">Everyone who has ABCI Storage Account</td>
<td align="left">everyone who has ABCI Cloud Storage account can access resources. Access Key is required for authentication.</td>
</tr>
<tr>
<td align="left">Anyone</td>
<td align="left">Anyone can access with no authentication.</td>
</tr>
</tbody>
</table>
<p>Buckets and Objects have different lists of permissions.</p>
<p>Here is a table for buckets.</p>
<table>
<thead>
<tr>
<th align="left">Permission</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">read</td>
<td align="left">Allows grantee to list the objects in the bucket</td>
</tr>
<tr>
<td align="left">write</td>
<td align="left">Allows grantee to create, delete and overwrite objects in the bucket</td>
</tr>
<tr>
<td align="left">read-acp</td>
<td align="left">Allows grantee to overwrite the ACL of the bucket</td>
</tr>
<tr>
<td align="left">write-acp</td>
<td align="left">Allows grantee to overwrite the ACL of the bucket</td>
</tr>
<tr>
<td align="left">full-control</td>
<td align="left">Grants all permissions listed above to grantee</td>
</tr>
</tbody>
</table>
<p>The table below is for objetcs.</p>
<table>
<thead>
<tr>
<th align="left">Permission</th>
<th align="left">Description</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">read</td>
<td align="left">Allows grantee to read the object data</td>
</tr>
<tr>
<td align="left">write</td>
<td align="left">Not applicable</td>
</tr>
<tr>
<td align="left">read-acp</td>
<td align="left">Allows grantee to read the ACL of the object</td>
</tr>
<tr>
<td align="left">write-acp</td>
<td align="left">Allows grantee to overwrite the ACL of the object</td>
</tr>
<tr>
<td align="left">full-control</td>
<td align="left">Grants all permissions listed above to grantee</td>
</tr>
</tbody>
</table>
<p>A default ACL grants full control to belonged ABCI group for the buckets and objects.</p>
<p>As for ACL includes typical pairs of grantees and permissions for general situation, such as opening to the internet, the standard ACLs are available. The standard ACLs are shown in later section.</p>
<h2 id="how-to-set-acl-examples">How to Set ACL (Examples)</h2>
<h3 id="share-objects-between-abci-groups">Share Objects between ABCI Groups</h3>
<p>This part explains how to share objects between ABCI groups.
For example, we grant the ABCI Group 'gaa11111' permission to the object 'testdata' under the ABCI group 'gaa0000'.</p>
<table>
<thead>
<tr>
<th align="left">Source ABCI group</th>
<th align="left">Shared ABCI group</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">gaa00000</td>
<td align="left">gaa11111</td>
</tr>
</tbody>
</table>
<p>Detail</p>
<table>
<thead>
<tr>
<th align="left">Bucket name</th>
<th align="left">prefix</th>
<th align="left">Object name</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">test-share</td>
<td align="left">test/</td>
<td align="left">testdata</td>
</tr>
</tbody>
</table>
<p>At first, the owner needs to get ID of the grantee. Ask the grantee to run the commaned 's3 list-bucket', obtain the ID and let the source know it.</p>
<div class="codehilite"><pre><span></span><code>$ aws --endpoint-url https://s3.abci.ai s3api list-buckets
<span class="o">{</span>
    <span class="s2">&quot;Buckets&quot;</span>: <span class="o">[</span>
        <span class="o">{</span>
            <span class="s2">&quot;Name&quot;</span>: <span class="s2">&quot;gaa11111-bucket-1&quot;</span>,
            <span class="s2">&quot;CreationDate&quot;</span>: <span class="s2">&quot;2019-08-22T11:36:17.523Z&quot;</span>
        <span class="o">}</span>
    <span class="o">]</span>,
    <span class="s2">&quot;Owner&quot;</span>: <span class="o">{</span>
        <span class="s2">&quot;DisplayName&quot;</span>: <span class="s2">&quot;gaa11111&quot;</span>,
regular ID-&gt;<span class="s2">&quot;ID&quot;</span>: <span class="s2">&quot;1a2bc03fa4ee5ba678b90cc1a234f5f67f890f1f2341fa56a78901234cc5fad6&quot;</span>
    <span class="o">}</span>
<span class="o">}</span>
</code></pre></div>


<p>Then the source sets ACL of the object as shown below. To grant 'read', use option '--grant-read' and specify the grantee's ID.</p>
<div class="codehilite"><pre><span></span><code><span class="err">[username@es1 ~]$ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --grant-read id=1a2bc03fa4ee5ba678b90cc1a234f5f67f890f1f2341fa56a78901234cc5fad6 --bucket test-share --key test/testdata</span>
</code></pre></div>


<p>Confirm if it has been done successfully. As shown below, the Grants element indentifies 'gaa11111' as a grantee with permission 'READ'.</p>
<div class="codehilite"><pre><span></span><code><span class="err">[username@es1 ~]$ aws --endpoint-url https://s3.abci.ai s3api get-object-acl --bucket test-share --key test/testdata</span>
<span class="err">{</span>
<span class="err">    &quot;Owner&quot;: {</span>
<span class="err">        &quot;DisplayName&quot;: &quot;gaa00000&quot;,</span>
<span class="err">        &quot;ID&quot;: &quot;f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda&quot;</span>
<span class="err">    },</span>
<span class="err">    &quot;Grants&quot;: [</span>
<span class="err">        {</span>
<span class="err">            &quot;Grantee&quot;: {</span>
<span class="err">                &quot;DisplayName&quot;: &quot;gaa11111&quot;,</span>
<span class="err">                &quot;ID&quot;: &quot;1a2bc03fa4ee5ba678b90cc1a234f5f67f890f1f2341fa56a78901234cc5fad6&quot;,</span>
<span class="err">                &quot;Type&quot;: &quot;CanonicalUser&quot;</span>
<span class="err">            },</span>
<span class="err">            &quot;Permission&quot;: &quot;READ&quot;</span>
<span class="err">        }</span>
<span class="err">    ]</span>
<span class="err">}</span>
</code></pre></div>


<p>By setting ACL to private as following, user can retrieve default ACL setting.</p>
<div class="codehilite"><pre><span></span><code><span class="err">[username@es1 ~]$ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --acl private --bucket test-share --key test/testdata</span>
</code></pre></div>


<p>When a user not belonging to your ABCI group puts objects on your bucket, your ABCI group is charged for them.</p>
<h3 id="open-to-all-accounts-on-abci-cloud-storage">Open to All Accounts on ABCI Cloud Storage</h3>
<p>In order to open a object to all accounts on ABCI Cloud Storage, specify <code>authenticated-read</code> for <code>--acl</code>.
The following example opens the object 'dataset.txt' under the bucket 'gaa00000-bucket-2' to the public.</p>
<div class="codehilite"><pre><span></span><code><span class="err">[username@es1 ~]$ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --acl authenticated-read  --bucket gaa00000-bucket-2 --key dataset.txt</span>
</code></pre></div>


<p>When adding an object to a bucket by running the <code>aws s3api put-object</code>, acl setting mentioned above can be done simultaneously. See the help that is shown by <code>aws s3api put-object help</code>.</p>
<h3 id="public-access">Public Access</h3>
<p>Two standard ACLs open buckets and objects to the public, which enable any internet users to access data. See the table below.</p>
<table>
<thead>
<tr>
<th align="left">Standard ACL</th>
<th align="left">Bucket</th>
<th align="left">Object</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">public-read</td>
<td align="left">Opens the list of objects under specified bucket to the internet.</td>
<td align="left">Opens specified objects to the internet. Users with appropreate account can do this.</td>
</tr>
<tr>
<td align="left">public-read-write</td>
<td align="left">Anyone on the internet can read and overwite the objects under the bucket and set ACL of the bucket.</td>
<td align="left">Anyone on the internet can read and overwite the objects and set ACL of the object.</td>
</tr>
</tbody>
</table>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Before you grant read access to everyone in the world, please read the following agreements carefully, and make sure it is appropriate to do so.</p>
<ul>
<li><a href="https://abci.ai/en/how_to_use/">ABCI agreement and rules</a></li>
<li><a href="https://abci.ai/en/how_to_use/data/cloudstorage-agreement.pdf">ABCI Cloud Storage Terms of Use</a></li>
</ul>
</div>
<div class="admonition caution">
<p class="admonition-title">Caution</p>
<p>Please do not use 'public-read-write' due to the possibility of unintended use by a third party.</p>
</div>
<p>Default standard ACL is set to be private. To terminate public access, use standard ACLs.</p>
<h4 id="public-buckets">Public Buckets</h4>
<p>By applying the standard ACL 'public-read' to a bucket, the list of objects in the bucket is opened to public. Here is an example.</p>
<table>
<thead>
<tr>
<th align="left">ACL to be applied</th>
<th align="left">Bucket to be opened</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">public-read</td>
<td align="left">test-pub</td>
</tr>
</tbody>
</table>
<p>Configure 'public-read' with 'put-bucket-acl'. To check the current configuration, run the command <code>get-bucket-acl</code>. Make sure that the grantee with URI "http://acs.amazonaws.com/groups/global/AllUsers" meaning public is added and permission 'READ' is given to it.</p>
<div class="codehilite"><pre><span></span><code><span class="err">[username@es1 ~]$ aws --endpoint-url https://s3.abci.ai s3api put-bucket-acl --acl public-read --bucket test-pub</span>
<span class="err">[username@es1 ~]$ aws --endpoint-url https://s3.abci.ai s3api get-bucket-acl --bucket test-pub</span>
<span class="err">{</span>
<span class="err">    &quot;Owner&quot;: {</span>
<span class="err">        &quot;DisplayName&quot;: &quot;gxx00000&quot;,</span>
<span class="err">        &quot;ID&quot;: &quot;f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda&quot;</span>
<span class="err">    },</span>
<span class="err">    &quot;Grants&quot;: [</span>
<span class="err">        {</span>
<span class="err">            &quot;Grantee&quot;: {</span>
<span class="err">                &quot;DisplayName&quot;: &quot;gxx00000&quot;,</span>
<span class="err">                &quot;ID&quot;: &quot;f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda&quot;,</span>
<span class="err">                &quot;Type&quot;: &quot;CanonicalUser&quot;</span>
<span class="err">            },</span>
<span class="err">            &quot;Permission&quot;: &quot;FULL_CONTROL&quot;</span>
<span class="err">        },</span>
<span class="err">        {</span>
<span class="err">            &quot;Grantee&quot;: {</span>
<span class="err">                &quot;Type&quot;: &quot;Group&quot;,</span>
<span class="err">                &quot;URI&quot;: &quot;http://acs.amazonaws.com/groups/global/AllUsers&quot;</span>
<span class="err">            },</span>
<span class="err">            &quot;Permission&quot;: &quot;READ&quot;</span>
<span class="err">        }</span>
<span class="err">    ]</span>
<span class="err">}</span>
</code></pre></div>


<p>To confirm if it works properly, access https://test-pub.s3.abci.ai by any internet browser.  If using Firefox, an XML including the list of objects will be shown.</p>
<p>The example following shows how to stop opening to the public and retrieve default setting.
Confirm that the grantee added before is deleted and the permission of the ABCI group is 'FULL_CONTROL'.</p>
<div class="codehilite"><pre><span></span><code><span class="err">[username@es1 ~]$ aws --endpoint-url https://s3.abci.ai s3api put-bucket-acl --acl private --bucket test-pub</span>
<span class="err">[username@es1 ~]$ aws --endpoint-url https://s3.abci.ai s3api get-bucket-acl --bucket test-pub</span>
<span class="err">{</span>
<span class="err">    &quot;Owner&quot;: {</span>
<span class="err">        &quot;DisplayName&quot;: &quot;gxx00000&quot;,</span>
<span class="err">        &quot;ID&quot;: &quot;f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda&quot;</span>
<span class="err">    },</span>
<span class="err">    &quot;Grants&quot;: [</span>
<span class="err">        {</span>
<span class="err">            &quot;Grantee&quot;: {</span>
<span class="err">                &quot;DisplayName&quot;: &quot;gxx00000&quot;,</span>
<span class="err">                &quot;ID&quot;: &quot;f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda&quot;,</span>
<span class="err">                &quot;Type&quot;: &quot;CanonicalUser&quot;</span>
<span class="err">            },</span>
<span class="err">            &quot;Permission&quot;: &quot;FULL_CONTROL&quot;</span>
<span class="err">        }</span>
<span class="err">    ]</span>
<span class="err">}</span>
</code></pre></div>


<h4 id="public-objects">Public Objects</h4>
<p>By applying the standard ACL 'public-read' to an object, the object is opened to public. The following example shows the detail.</p>
<table>
<thead>
<tr>
<th align="left">ACL to be applied</th>
<th align="left">Bucket</th>
<th align="left">prefix</th>
<th align="left">Object to be opened</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">public-read</td>
<td align="left">test-pub2</td>
<td align="left">test/</td>
<td align="left">test.txt</td>
</tr>
</tbody>
</table>
<p>Configure 'public-read' with 'put-object-acl'. To check the current configuration, run the command <code>get-object-acl</code>. Make sure that the grantee with URI "http://acs.amazonaws.com/groups/global/AllUsers" meaning public is added and permission 'READ' is given to it.</p>
<div class="codehilite"><pre><span></span><code><span class="err">[username@es1 ~]$ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --bucket test-pub2 --acl public-read --key test/test.txt</span>
<span class="err">[username@es1 ~]$ aws --endpoint-url https://s3.abci.ai s3api get-object-acl--bucket test-pub2 --key test/test.txt</span>
<span class="err">{</span>
<span class="err">    &quot;Owner&quot;: {</span>
<span class="err">        &quot;DisplayName&quot;: &quot;gxx00000&quot;,</span>
<span class="err">        &quot;ID&quot;: &quot;f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda&quot; </span>
<span class="err">    },</span>
<span class="err">    &quot;Grants&quot;: [</span>
<span class="err">        {</span>
<span class="err">            &quot;Grantee&quot;: {</span>
<span class="err">                &quot;DisplayName&quot;: &quot;gxx00000&quot;,</span>
<span class="err">                &quot;ID&quot;: &quot;f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda&quot;,</span>
<span class="err">                &quot;Type&quot;: &quot;CanonicalUser&quot; </span>
<span class="err">            },</span>
<span class="err">            &quot;Permission&quot;: &quot;FULL_CONTROL&quot; </span>
<span class="err">        },</span>
<span class="err">        {</span>
<span class="err">            &quot;Grantee&quot;: {</span>
<span class="err">                &quot;Type&quot;: &quot;Group&quot;,</span>
<span class="err">                &quot;URI&quot;: &quot;http://acs.amazonaws.com/groups/global/AllUsers&quot; </span>
<span class="err">            },</span>
<span class="err">            &quot;Permission&quot;: &quot;READ&quot; </span>
<span class="err">        }</span>
<span class="err">    ]</span>
<span class="err">}</span>
</code></pre></div>


<p>To confirm if it works properly, access https://test-pub2.s3.abci.ai/test/test.txt by any internet browser. If using Firefox, a list of objects will be shown.</p>
<p>The example following shows how to stop opening to the public and retrieve default setting.
Confirm that the grantee added before is deleted and the permission of the ABCI group is 'FULL_CONTROL'.</p>
<div class="codehilite"><pre><span></span><code><span class="err">[username@es1 ~]$ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --acl private --bucket  test-pub2 --key test/test.txt</span>
<span class="err">[username@es1 ~]$ aws --endpoint-url https://s3.abci.ai s3api get-object-acl --bucket test-pub2 --key test/test.txt</span>
<span class="err">{</span>
<span class="err">    &quot;Owner&quot;: {</span>
<span class="err">        &quot;DisplayName&quot;: &quot;gxx00000&quot;,</span>
<span class="err">        &quot;ID&quot;: &quot;f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda&quot;</span>
<span class="err">    },</span>
<span class="err">    &quot;Grants&quot;: [</span>
<span class="err">        {</span>
<span class="err">            &quot;Grantee&quot;: {</span>
<span class="err">                &quot;DisplayName&quot;: &quot;gxx00000&quot;,</span>
<span class="err">                &quot;ID&quot;: &quot;f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda&quot;,</span>
<span class="err">                &quot;Type&quot;: &quot;CanonicalUser&quot;</span>
<span class="err">            },</span>
<span class="err">            &quot;Permission&quot;: &quot;FULL_CONTROL&quot;</span>
<span class="err">        }</span>
<span class="err">    ]</span>
<span class="err">}</span>
</code></pre></div></article></div></div></main><footer class="md-footer"><div class="md-footer-nav"><nav class="md-footer-nav__inner md-grid"><a href="../encryption/" title="Data encryption" class="md-flex md-footer-nav__link md-footer-nav__link--prev" rel="prev"><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-back md-footer-nav__button"></i></div><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Previous</span>Data encryption</span></div></a><a href="../policy/" title="Access Control (2) " class="md-flex md-footer-nav__link md-footer-nav__link--next" rel="next"><div class="md-flex__cell md-flex__cell--stretch md-footer-nav__title"><span class="md-flex__ellipsis"><span class="md-footer-nav__direction">Next</span>Access Control (2) </span></div><div class="md-flex__cell md-flex__cell--shrink"><i class="md-icon md-icon--arrow-forward md-footer-nav__button"></i></div></a></nav></div><div class="md-footer-meta md-typeset"><div class="md-footer-meta__inner md-grid"><div class="md-footer-copyright"><div class="md-footer-copyright__highlight">Copyright &copy; 2018 National Institute of Advanced Industrial Science and Technology (AIST)</div>powered by <a href="https://www.mkdocs.org">MkDocs</a> and <a href="https://squidfunk.github.io/mkdocs-material/">Material for MkDocs</a></div></div></div></footer></div><script src="../../assets/javascripts/application.b260a35d.js"></script><script>app.initialize({version:"1.1.2",url:{base:"../.."}})</script></body></html>