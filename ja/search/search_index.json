{"config":{"lang":["en"],"prebuild_index":false,"separator":"[\\s\\-]+"},"docs":[{"location":"","text":"\u306f\u3058\u3081\u306b \u3053\u306e\u30ac\u30a4\u30c9\u306f\u3001 \u56fd\u7acb\u7814\u7a76\u958b\u767a\u6cd5\u4eba \u7523\u696d\u6280\u8853\u7dcf\u5408\u7814\u7a76\u6240 \u304c\u904b\u55b6\u3059\u308b\u30af\u30e9\u30a6\u30c9\u578b\u8a08\u7b97\u30b7\u30b9\u30c6\u30e0\u300c AI\u6a4b\u6e21\u3057\u30af\u30e9\u30a6\u30c9\uff08AI Bridging Cloud Infrastructure\u3001\u4ee5\u4e0b\u300cABCI\u300d\u3068\u3044\u3046\uff09 \u300d\u306e\u5229\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u305f\u8cc7\u6599\u3067\u3059\u3002 \u30b7\u30b9\u30c6\u30e0\u3092\u5229\u7528\u3059\u308b\u65b9\u306f\u3001\u3054\u4e00\u8aad\u304f\u3060\u3055\u3044\u3002 \u5229\u7528\u624b\u5f15\u304d: 1. ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u6982\u8981 2. ABCI\u30b7\u30b9\u30c6\u30e0\u5229\u7528\u74b0\u5883 3. \u30b8\u30e7\u30d6\u5b9f\u884c\u74b0\u5883 4. \u30b9\u30c8\u30ec\u30fc\u30b8 5. Environment Modules\u306e\u5229\u7528 6. Python\u306e\u5229\u7528 7. GPU\u306e\u5229\u7528 8. MPI\u306e\u5229\u7528 9. Linux\u30b3\u30f3\u30c6\u30ca 10. \u30d7\u30ed\u30b0\u30e9\u30e0\u958b\u767a\u74b0\u5883 \u4ed8\u93321. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u69cb\u6210 \u4ed8\u93322. HPCI\u306b\u3088\u308bABCI\u30b7\u30b9\u30c6\u30e0\u5229\u7528 \u5404\u7a2e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3: \u6982\u8981 TensorFlow Chainer \u305d\u306e\u4ed6 Tips: \u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u5229\u7528 AWS CLI\u306e\u5229\u7528 GCC 7.3.0\u306e\u5229\u7528 Tera Term\u306e\u5229\u7528 PuTTY\u306e\u5229\u7528 Jupyter Notebook\u306e\u5229\u7528 NVIDIA GPU Cloud (NGC) ABCI \u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8: \u6982\u8981 \u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u30a2\u30af\u30bb\u30b9\u30ad\u30fc \u4f7f\u3044\u65b9 \u30c7\u30fc\u30bf\u306e\u6697\u53f7\u5316 \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff081\uff09 \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff082\uff09 FAQ \u65e2\u77e5\u306e\u554f\u984c \u30b7\u30b9\u30c6\u30e0\u66f4\u65b0\u5c65\u6b74 \u904b\u8ee2\u72b6\u6cc1","title":"\u306f\u3058\u3081\u306b"},{"location":"#_1","text":"\u3053\u306e\u30ac\u30a4\u30c9\u306f\u3001 \u56fd\u7acb\u7814\u7a76\u958b\u767a\u6cd5\u4eba \u7523\u696d\u6280\u8853\u7dcf\u5408\u7814\u7a76\u6240 \u304c\u904b\u55b6\u3059\u308b\u30af\u30e9\u30a6\u30c9\u578b\u8a08\u7b97\u30b7\u30b9\u30c6\u30e0\u300c AI\u6a4b\u6e21\u3057\u30af\u30e9\u30a6\u30c9\uff08AI Bridging Cloud Infrastructure\u3001\u4ee5\u4e0b\u300cABCI\u300d\u3068\u3044\u3046\uff09 \u300d\u306e\u5229\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u305f\u8cc7\u6599\u3067\u3059\u3002 \u30b7\u30b9\u30c6\u30e0\u3092\u5229\u7528\u3059\u308b\u65b9\u306f\u3001\u3054\u4e00\u8aad\u304f\u3060\u3055\u3044\u3002 \u5229\u7528\u624b\u5f15\u304d: 1. ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u6982\u8981 2. ABCI\u30b7\u30b9\u30c6\u30e0\u5229\u7528\u74b0\u5883 3. \u30b8\u30e7\u30d6\u5b9f\u884c\u74b0\u5883 4. \u30b9\u30c8\u30ec\u30fc\u30b8 5. Environment Modules\u306e\u5229\u7528 6. Python\u306e\u5229\u7528 7. GPU\u306e\u5229\u7528 8. MPI\u306e\u5229\u7528 9. Linux\u30b3\u30f3\u30c6\u30ca 10. \u30d7\u30ed\u30b0\u30e9\u30e0\u958b\u767a\u74b0\u5883 \u4ed8\u93321. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u69cb\u6210 \u4ed8\u93322. HPCI\u306b\u3088\u308bABCI\u30b7\u30b9\u30c6\u30e0\u5229\u7528 \u5404\u7a2e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3: \u6982\u8981 TensorFlow Chainer \u305d\u306e\u4ed6 Tips: \u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u5229\u7528 AWS CLI\u306e\u5229\u7528 GCC 7.3.0\u306e\u5229\u7528 Tera Term\u306e\u5229\u7528 PuTTY\u306e\u5229\u7528 Jupyter Notebook\u306e\u5229\u7528 NVIDIA GPU Cloud (NGC) ABCI \u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8: \u6982\u8981 \u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u30a2\u30af\u30bb\u30b9\u30ad\u30fc \u4f7f\u3044\u65b9 \u30c7\u30fc\u30bf\u306e\u6697\u53f7\u5316 \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff081\uff09 \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff082\uff09 FAQ \u65e2\u77e5\u306e\u554f\u984c \u30b7\u30b9\u30c6\u30e0\u66f4\u65b0\u5c65\u6b74 \u904b\u8ee2\u72b6\u6cc1","title":"\u306f\u3058\u3081\u306b"},{"location":"01/","text":"1. ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u6982\u8981 1.1. \u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u6982\u8981 \u672c\u30b7\u30b9\u30c6\u30e0\u306f\u3001\u30af\u30e9\u30a6\u30c9\u578b\u8a08\u7b97\u30b7\u30b9\u30c6\u30e0\u300cAI\u6a4b\u6e21\u3057\u30af\u30e9\u30a6\u30c9\uff08AI Bridging Cloud Infrastructure\u3001\u4ee5\u4e0b\u300cABCI\u300d\u3068\u3044\u3046\uff09\u300d\u3067\u3059\u3002 ABCI\u30b7\u30b9\u30c6\u30e0\u306f\u30011,088\u53f0\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u306a\u3069\u304b\u3089\u306a\u308b\u9ad8\u6027\u80fd\u8a08\u7b97\u30b7\u30b9\u30c6\u30e0\u300122\u30da\u30bf\u30d0\u30a4\u30c8\u306e\u5b9f\u52b9\u5bb9\u91cf\u3092\u6301\u3064\u5927\u5bb9\u91cf\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u3001\u3053\u308c\u3089\u3092\u9ad8\u901f\u306b\u7d50\u5408\u3059\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306a\u3069\u304b\u3089\u306a\u308b\u30cf\u30fc\u30c9\u30a6\u30a8\u30a2\u7fa4\u3068\u3001\u3053\u308c\u3089\u3092\u6700\u5927\u9650\u6d3b\u7528\u3059\u308b\u305f\u3081\u306e\u30bd\u30d5\u30c8\u30a6\u30a8\u30a2\u7fa4\u304b\u3089\u69cb\u6210\u3055\u308c\u307e\u3059\u3002 ABCI\u30b7\u30b9\u30c6\u30e0\u306f\u3001\u4eba\u5de5\u77e5\u80fd\u3084\u30d3\u30c3\u30b0\u30c7\u30fc\u30bf\u5206\u91ce\u306e\u8a08\u7b97\u51e6\u7406\u3067\u6709\u52b9\u3068\u3055\u308c\u308b16\u30d3\u30c3\u30c8\u306e\u534a\u7cbe\u5ea6\u6f14\u7b97\u306e\u6027\u80fd\u304c550\u30da\u30bf\u30d5\u30ed\u30c3\u30d7\u30b9\u3001\u500d\u7cbe\u5ea6\u6f14\u7b97\u306e\u6027\u80fd\u306f37\u30da\u30bf\u30d5\u30ed\u30c3\u30d7\u30b9\u3001\u30e1\u30e2\u30ea\u5408\u7b97\u5bb9\u91cf\u306f476TiB\u3001\u30e1\u30e2\u30ea\u5408\u7b97\u30d4\u30fc\u30af\u30d0\u30f3\u30c9\u5e45\u306f4.19PB\u306e\u9ad8\u6027\u80fd\u8a08\u7b97\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002 \u5404\u8a08\u7b97\u30ce\u30fc\u30c9\u304a\u3088\u3073\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u306f\u3001InfiniBand EDR (100Gbps) \u306b\u3088\u308b\u9ad8\u901f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u63a5\u7d9a\u3055\u308c\u3001\u3055\u3089\u306b\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3068\u306e\u63a5\u7d9a\u306b\u306fSINET5\u3092\u7d4c\u7531\u3057\u3066100Gbps\u3067\u63a5\u7d9a\u3055\u308c\u307e\u3059\u3002 1.2. \u8a08\u7b97\u30ce\u30fc\u30c9\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u6982\u8981 ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u306f\u3001FUJITSU Server PRIMERGY CX2570 M4 1,088\u53f0\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059 1\u53f0\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u306b\u306f\u3001Intel Xeon Gold 6148\u30d7\u30ed\u30bb\u30c3\u30b5\u30fc (2.4 GHz, 20\u30b3\u30a2) \u30922\u57fa\u642d\u8f09\u3057\u3001\u7dcf\u30b3\u30a2\u6570\u306f43,520\u30b3\u30a2\u3068\u306a\u308a\u307e\u3059\u3002 \u307e\u305f\u3001NVIDIA Tesla V100 GPU\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u30fc\u3092\u30ce\u30fc\u30c9\u3042\u305f\u308a4\u57fa\u642d\u8f09\u3057\u3001\u7dcfGPU\u6570\u306f4,352\u57fa\u3068\u306a\u308a\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u69cb\u6210\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u9805\u76ee \u8aac\u660e \u500b\u6570 CPU Intel Xeon Gold 6148\u30d7\u30ed\u30bb\u30c3\u30b5\u30fc 2.4 GHz, 20 Cores (40 Threads) 2 GPU NVIDIA Tesla V100 for NVLink 16GiB HBM2 4 \u30e1\u30e2\u30ea 384 GiB DDR4 2666 MHz RDIMM (ECC) SSD Intel SSD DC P4600 1.6 TB u.2 1 \u30a4\u30f3\u30bf\u30fc\u30b3\u30cd\u30af\u30c8 InfiniBand EDR (12.5 GB/s) 2 1.3. \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u69cb\u6210 ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u5229\u7528\u53ef\u80fd\u306a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u4e00\u89a7\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u9805\u76ee \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 \u30d0\u30fc\u30b8\u30e7\u30f3 OS CentOS 7.5 \u30b8\u30e7\u30d6\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9 Univa Grid Engine 8.6.6 \u958b\u767a\u74b0\u5883 Intel Parallel Stduio XE Cluster Edition 2017.8 2018.2 2018.3 2019.3 PGI Professional Edition 17.10 18.10 19.3 CUDA Toolkit 8.0.61.2 9.0.176.2 9.0.176.3 9.0.176.4 9.1.85.3 9.2.88.1 9.2.148.1 10.0.130 10.0.130.1 10.1.243 GCC 4.8.5 7.3.0 7.4.0 Python 2.7.15 3.4.8 3.5.5 3.6.5 Ruby 2.0.0.648-33 R 3.5.0 Java 1.6.0_41 1.7.0_171 1.8.0_161 Scala 1.27-248 Lua 5.1.4 Perl 5.16.3 \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 DDN Lustre 2.10.5_ddn7-1 DDN GRIDScaler 4.2.3-17 BeeOND 7.1.3 \u30b3\u30f3\u30c6\u30ca Docker 17.12.0 Singularity 2.6.1 MPI Open MPI 1.10.7 2.1.3 2.1.5 2.1.6 3.0.3 3.1.0 3.1.2 3.1.3 MVAPICH2 2.3rc2 2.3 MVAPICH2-GDR 2.3a 2.3rc1 2.3 2.3.2 Intel MPI 2018.2.199 \u30e9\u30a4\u30d6\u30e9\u30ea cuDNN 5.1.10 6.0.21 7.0.5 7.1.3 7.1.4 7.2.1 7.3.1 7.4.2 7.5.0 7.5.1 7.6.0 7.6.1 7.6.2 7.6.3 7.6.4 NCCL 1.3.5-1 2.1.15-1 2.2.13-1 2.3.4-1 2.3.5-2 2.3.7-1 2.4.2-1 2.4.7-1 2.4.8-1 gdrcopy 1.2 Intel MKL 2017.8 2018.2 2018.3 2019.3 \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3 aws-cli 1.16.194 fuse-sshfs 2.10 s3fs-fuse 1.85 sregistry-cli 0.2.31 1.4. \u30b9\u30c8\u30ec\u30fc\u30b8\u69cb\u6210 ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u4eba\u5de5\u77e5\u80fd\u3084\u30d3\u30c3\u30b0\u30c7\u30fc\u30bf\u5206\u91ce\u306e\u8a08\u7b97\u7d50\u679c\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306e\u5927\u5bb9\u91cf\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u3092\u5099\u3048\u3066\u3044\u307e\u3059\u3002 \u5404\u8a08\u7b97\u30ce\u30fc\u30c9\u306b\u306f\u30ed\u30fc\u30ab\u30eb\u30b9\u30af\u30e9\u30c3\u30c1\u9818\u57df\u3068\u3057\u30661.6TB\u306eSSD\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u5229\u7528\u53ef\u80fd\u306a\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u4e00\u89a7\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u7528\u9014 \u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8 \u5bb9\u91cf \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 \u5099\u8003 \u30db\u30fc\u30e0\u9818\u57df /home 1.0PB Lustre \u30b0\u30eb\u30fc\u30d7\u9818\u57df1 /groups1 6.6PB GPFS \u30b0\u30eb\u30fc\u30d7\u9818\u57df2 /groups2 6.6PB GPFS \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u9818\u57df /apps 335TB GPFS \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u7528\u30ed\u30fc\u30ab\u30eb\u30b9\u30af\u30e9\u30c3\u30c1\u9818\u57df /local \u5404\u30ce\u30fc\u30c912TB XFS \u8a08\u7b97\u30ce\u30fc\u30c9\u7528\u30ed\u30fc\u30ab\u30eb\u30b9\u30af\u30e9\u30c3\u30c1\u9818\u57df /local \u5404\u30ce\u30fc\u30c91.5TB XFS 1.5. \u30b7\u30b9\u30c6\u30e0\u5229\u7528\u6982\u8981 ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u5168\u3066\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u3068\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306f\u5927\u5bb9\u91cf\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0(DDN GRIDScaler)\u3092\u5171\u6709\u3057\u307e\u3059\u3002 ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u3042\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u306f\u3001SSH\u30c8\u30f3\u30cd\u30ea\u30f3\u30b0\u3092\u7528\u3044\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u306f\u30b3\u30de\u30f3\u30c9\u306e\u5bfe\u8a71\u7684\u5b9f\u884c\u304c\u53ef\u80fd\u3067\u3042\u308a\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4f5c\u6210\u30fb\u7de8\u96c6\u3001\u30b8\u30e7\u30d6\u6295\u5165\u30fb\u8868\u793a\u306a\u3069\u3092\u884c\u3044\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u306fGPU\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u8a08\u7b97\u30ce\u30fc\u30c9\u5411\u3051\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u958b\u767a\u304c\u53ef\u80fd\u3067\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u5411\u3051\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u3001\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3082\u3057\u304f\u306f\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u3068\u3057\u3066\u30b8\u30e7\u30d6\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u306b\u51e6\u7406\u3092\u4f9d\u983c\u3057\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u3084\u30c7\u30d0\u30c3\u30b0\u3001\u4f1a\u8a71\u7684\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3001\u53ef\u8996\u5316\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u5b9f\u884c\u304c\u53ef\u80fd\u3067\u3059\u3002 Warning \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306eCPU\u3084\u30e1\u30e2\u30ea\u306a\u3069\u306e\u8cc7\u6e90\u306f\u591a\u304f\u306e\u5229\u7528\u8005\u3067\u5171\u6709\u3057\u307e\u3059\u306e\u3067\u3001\u9ad8\u8ca0\u8377\u306a\u51e6\u7406\u306f\u884c\u308f\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u9ad8\u8ca0\u8377\u306a\u524d\u51e6\u7406\u3001\u5f8c\u51e6\u7406\u3092\u884c\u3046\u5834\u5408\u306f\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u9ad8\u8ca0\u8377\u306a\u51e6\u7406\u3092\u884c\u3063\u305f\u5834\u5408\u3001\u30b7\u30b9\u30c6\u30e0\u306b\u3088\u308a\u51e6\u7406\u304c\u5f37\u5236\u7d42\u4e86\u3055\u308c\u307e\u3059\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002","title":"1. ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u6982\u8981"},{"location":"01/#1-abci","text":"","title":"1. ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u6982\u8981"},{"location":"01/#system-architecture","text":"\u672c\u30b7\u30b9\u30c6\u30e0\u306f\u3001\u30af\u30e9\u30a6\u30c9\u578b\u8a08\u7b97\u30b7\u30b9\u30c6\u30e0\u300cAI\u6a4b\u6e21\u3057\u30af\u30e9\u30a6\u30c9\uff08AI Bridging Cloud Infrastructure\u3001\u4ee5\u4e0b\u300cABCI\u300d\u3068\u3044\u3046\uff09\u300d\u3067\u3059\u3002 ABCI\u30b7\u30b9\u30c6\u30e0\u306f\u30011,088\u53f0\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u306a\u3069\u304b\u3089\u306a\u308b\u9ad8\u6027\u80fd\u8a08\u7b97\u30b7\u30b9\u30c6\u30e0\u300122\u30da\u30bf\u30d0\u30a4\u30c8\u306e\u5b9f\u52b9\u5bb9\u91cf\u3092\u6301\u3064\u5927\u5bb9\u91cf\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u3001\u3053\u308c\u3089\u3092\u9ad8\u901f\u306b\u7d50\u5408\u3059\u308b\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306a\u3069\u304b\u3089\u306a\u308b\u30cf\u30fc\u30c9\u30a6\u30a8\u30a2\u7fa4\u3068\u3001\u3053\u308c\u3089\u3092\u6700\u5927\u9650\u6d3b\u7528\u3059\u308b\u305f\u3081\u306e\u30bd\u30d5\u30c8\u30a6\u30a8\u30a2\u7fa4\u304b\u3089\u69cb\u6210\u3055\u308c\u307e\u3059\u3002 ABCI\u30b7\u30b9\u30c6\u30e0\u306f\u3001\u4eba\u5de5\u77e5\u80fd\u3084\u30d3\u30c3\u30b0\u30c7\u30fc\u30bf\u5206\u91ce\u306e\u8a08\u7b97\u51e6\u7406\u3067\u6709\u52b9\u3068\u3055\u308c\u308b16\u30d3\u30c3\u30c8\u306e\u534a\u7cbe\u5ea6\u6f14\u7b97\u306e\u6027\u80fd\u304c550\u30da\u30bf\u30d5\u30ed\u30c3\u30d7\u30b9\u3001\u500d\u7cbe\u5ea6\u6f14\u7b97\u306e\u6027\u80fd\u306f37\u30da\u30bf\u30d5\u30ed\u30c3\u30d7\u30b9\u3001\u30e1\u30e2\u30ea\u5408\u7b97\u5bb9\u91cf\u306f476TiB\u3001\u30e1\u30e2\u30ea\u5408\u7b97\u30d4\u30fc\u30af\u30d0\u30f3\u30c9\u5e45\u306f4.19PB\u306e\u9ad8\u6027\u80fd\u8a08\u7b97\u30b7\u30b9\u30c6\u30e0\u3067\u3059\u3002 \u5404\u8a08\u7b97\u30ce\u30fc\u30c9\u304a\u3088\u3073\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u306f\u3001InfiniBand EDR (100Gbps) \u306b\u3088\u308b\u9ad8\u901f\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u306b\u63a5\u7d9a\u3055\u308c\u3001\u3055\u3089\u306b\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3068\u306e\u63a5\u7d9a\u306b\u306fSINET5\u3092\u7d4c\u7531\u3057\u3066100Gbps\u3067\u63a5\u7d9a\u3055\u308c\u307e\u3059\u3002","title":"1.1. \u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u6982\u8981"},{"location":"01/#compute-node-configuration","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u306f\u3001FUJITSU Server PRIMERGY CX2570 M4 1,088\u53f0\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059 1\u53f0\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u306b\u306f\u3001Intel Xeon Gold 6148\u30d7\u30ed\u30bb\u30c3\u30b5\u30fc (2.4 GHz, 20\u30b3\u30a2) \u30922\u57fa\u642d\u8f09\u3057\u3001\u7dcf\u30b3\u30a2\u6570\u306f43,520\u30b3\u30a2\u3068\u306a\u308a\u307e\u3059\u3002 \u307e\u305f\u3001NVIDIA Tesla V100 GPU\u30a2\u30af\u30bb\u30e9\u30ec\u30fc\u30bf\u30fc\u3092\u30ce\u30fc\u30c9\u3042\u305f\u308a4\u57fa\u642d\u8f09\u3057\u3001\u7dcfGPU\u6570\u306f4,352\u57fa\u3068\u306a\u308a\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u69cb\u6210\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u9805\u76ee \u8aac\u660e \u500b\u6570 CPU Intel Xeon Gold 6148\u30d7\u30ed\u30bb\u30c3\u30b5\u30fc 2.4 GHz, 20 Cores (40 Threads) 2 GPU NVIDIA Tesla V100 for NVLink 16GiB HBM2 4 \u30e1\u30e2\u30ea 384 GiB DDR4 2666 MHz RDIMM (ECC) SSD Intel SSD DC P4600 1.6 TB u.2 1 \u30a4\u30f3\u30bf\u30fc\u30b3\u30cd\u30af\u30c8 InfiniBand EDR (12.5 GB/s) 2","title":"1.2. \u8a08\u7b97\u30ce\u30fc\u30c9\u30cf\u30fc\u30c9\u30a6\u30a7\u30a2\u6982\u8981"},{"location":"01/#software-configuration","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u5229\u7528\u53ef\u80fd\u306a\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u4e00\u89a7\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u9805\u76ee \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2 \u30d0\u30fc\u30b8\u30e7\u30f3 OS CentOS 7.5 \u30b8\u30e7\u30d6\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9 Univa Grid Engine 8.6.6 \u958b\u767a\u74b0\u5883 Intel Parallel Stduio XE Cluster Edition 2017.8 2018.2 2018.3 2019.3 PGI Professional Edition 17.10 18.10 19.3 CUDA Toolkit 8.0.61.2 9.0.176.2 9.0.176.3 9.0.176.4 9.1.85.3 9.2.88.1 9.2.148.1 10.0.130 10.0.130.1 10.1.243 GCC 4.8.5 7.3.0 7.4.0 Python 2.7.15 3.4.8 3.5.5 3.6.5 Ruby 2.0.0.648-33 R 3.5.0 Java 1.6.0_41 1.7.0_171 1.8.0_161 Scala 1.27-248 Lua 5.1.4 Perl 5.16.3 \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 DDN Lustre 2.10.5_ddn7-1 DDN GRIDScaler 4.2.3-17 BeeOND 7.1.3 \u30b3\u30f3\u30c6\u30ca Docker 17.12.0 Singularity 2.6.1 MPI Open MPI 1.10.7 2.1.3 2.1.5 2.1.6 3.0.3 3.1.0 3.1.2 3.1.3 MVAPICH2 2.3rc2 2.3 MVAPICH2-GDR 2.3a 2.3rc1 2.3 2.3.2 Intel MPI 2018.2.199 \u30e9\u30a4\u30d6\u30e9\u30ea cuDNN 5.1.10 6.0.21 7.0.5 7.1.3 7.1.4 7.2.1 7.3.1 7.4.2 7.5.0 7.5.1 7.6.0 7.6.1 7.6.2 7.6.3 7.6.4 NCCL 1.3.5-1 2.1.15-1 2.2.13-1 2.3.4-1 2.3.5-2 2.3.7-1 2.4.2-1 2.4.7-1 2.4.8-1 gdrcopy 1.2 Intel MKL 2017.8 2018.2 2018.3 2019.3 \u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3 aws-cli 1.16.194 fuse-sshfs 2.10 s3fs-fuse 1.85 sregistry-cli 0.2.31","title":"1.3. \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u69cb\u6210"},{"location":"01/#storage-configuration","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u4eba\u5de5\u77e5\u80fd\u3084\u30d3\u30c3\u30b0\u30c7\u30fc\u30bf\u5206\u91ce\u306e\u8a08\u7b97\u7d50\u679c\u3092\u683c\u7d0d\u3059\u308b\u305f\u3081\u306e\u5927\u5bb9\u91cf\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0\u3092\u5099\u3048\u3066\u3044\u307e\u3059\u3002 \u5404\u8a08\u7b97\u30ce\u30fc\u30c9\u306b\u306f\u30ed\u30fc\u30ab\u30eb\u30b9\u30af\u30e9\u30c3\u30c1\u9818\u57df\u3068\u3057\u30661.6TB\u306eSSD\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u307e\u3059\u3002 ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u5229\u7528\u53ef\u80fd\u306a\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306e\u4e00\u89a7\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u7528\u9014 \u30de\u30a6\u30f3\u30c8\u30dd\u30a4\u30f3\u30c8 \u5bb9\u91cf \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 \u5099\u8003 \u30db\u30fc\u30e0\u9818\u57df /home 1.0PB Lustre \u30b0\u30eb\u30fc\u30d7\u9818\u57df1 /groups1 6.6PB GPFS \u30b0\u30eb\u30fc\u30d7\u9818\u57df2 /groups2 6.6PB GPFS \u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u9818\u57df /apps 335TB GPFS \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u7528\u30ed\u30fc\u30ab\u30eb\u30b9\u30af\u30e9\u30c3\u30c1\u9818\u57df /local \u5404\u30ce\u30fc\u30c912TB XFS \u8a08\u7b97\u30ce\u30fc\u30c9\u7528\u30ed\u30fc\u30ab\u30eb\u30b9\u30af\u30e9\u30c3\u30c1\u9818\u57df /local \u5404\u30ce\u30fc\u30c91.5TB XFS","title":"1.4. \u30b9\u30c8\u30ec\u30fc\u30b8\u69cb\u6210"},{"location":"01/#system-use-overview","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u5168\u3066\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u3068\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306f\u5927\u5bb9\u91cf\u30b9\u30c8\u30ec\u30fc\u30b8\u30b7\u30b9\u30c6\u30e0(DDN GRIDScaler)\u3092\u5171\u6709\u3057\u307e\u3059\u3002 ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u3042\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u306f\u3001SSH\u30c8\u30f3\u30cd\u30ea\u30f3\u30b0\u3092\u7528\u3044\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u306f\u30b3\u30de\u30f3\u30c9\u306e\u5bfe\u8a71\u7684\u5b9f\u884c\u304c\u53ef\u80fd\u3067\u3042\u308a\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u4f5c\u6210\u30fb\u7de8\u96c6\u3001\u30b8\u30e7\u30d6\u6295\u5165\u30fb\u8868\u793a\u306a\u3069\u3092\u884c\u3044\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u306fGPU\u304c\u642d\u8f09\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u304c\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u8a08\u7b97\u30ce\u30fc\u30c9\u5411\u3051\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u958b\u767a\u304c\u53ef\u80fd\u3067\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u5411\u3051\u306e\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u3001\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3082\u3057\u304f\u306f\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u3068\u3057\u3066\u30b8\u30e7\u30d6\u7ba1\u7406\u30b7\u30b9\u30c6\u30e0\u306b\u51e6\u7406\u3092\u4f9d\u983c\u3057\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u306f\u3001\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u3084\u30c7\u30d0\u30c3\u30b0\u3001\u4f1a\u8a71\u7684\u306a\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3001\u53ef\u8996\u5316\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u5b9f\u884c\u304c\u53ef\u80fd\u3067\u3059\u3002 Warning \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306eCPU\u3084\u30e1\u30e2\u30ea\u306a\u3069\u306e\u8cc7\u6e90\u306f\u591a\u304f\u306e\u5229\u7528\u8005\u3067\u5171\u6709\u3057\u307e\u3059\u306e\u3067\u3001\u9ad8\u8ca0\u8377\u306a\u51e6\u7406\u306f\u884c\u308f\u306a\u3044\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u9ad8\u8ca0\u8377\u306a\u524d\u51e6\u7406\u3001\u5f8c\u51e6\u7406\u3092\u884c\u3046\u5834\u5408\u306f\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u9ad8\u8ca0\u8377\u306a\u51e6\u7406\u3092\u884c\u3063\u305f\u5834\u5408\u3001\u30b7\u30b9\u30c6\u30e0\u306b\u3088\u308a\u51e6\u7406\u304c\u5f37\u5236\u7d42\u4e86\u3055\u308c\u307e\u3059\u306e\u3067\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002","title":"1.5. \u30b7\u30b9\u30c6\u30e0\u5229\u7528\u6982\u8981"},{"location":"02/","text":"2. ABCI\u30b7\u30b9\u30c6\u30e0\u5229\u7528\u74b0\u5883 2.1. \u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u53d6\u5f97 ABCI\u5229\u7528\u8005\u306b\u306f\u3001\u300c\u5229\u7528\u8cac\u4efb\u8005\u300d\u300c\u5229\u7528\u7ba1\u7406\u8005\u300d\u300c\u5229\u7528\u8005\u300d\u306e3\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002 ABCI\u30b7\u30b9\u30c6\u30e0\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001\u300c\u5229\u7528\u8cac\u4efb\u8005\u300d\u304c ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u304b\u3089ABCI\u30b0\u30eb\u30fc\u30d7\u7533\u8acb\u30fb\u5229\u7528\u8005(\u300c\u5229\u7528\u7ba1\u7406\u8005\u300d\u3082\u3057\u304f\u306f\u300c\u5229\u7528\u8005\u300d)\u3092\u884c\u3044\u3001ABCI\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u8a73\u7d30\u306f ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb\u5229\u7528\u624b\u5f15\u304d \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Note \u300c\u5229\u7528\u8cac\u4efb\u8005\u300d\u81ea\u8eab\u306b\u3082ABCI\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u3002 \u300c\u5229\u7528\u8cac\u4efb\u8005\u300d\u306f ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u306b\u3066\u300c\u5229\u7528\u8005\u300d\u3092\u300c\u5229\u7528\u7ba1\u7406\u8005\u300d\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 \u300c\u5229\u7528\u8cac\u4efb\u8005\u300d\u3068\u300c\u5229\u7528\u7ba1\u7406\u8005\u300d\u306f\u3001ABCI\u30b0\u30eb\u30fc\u30d7\u306b\u5229\u7528\u8005(\u300c\u5229\u7528\u7ba1\u7406\u8005\u300d\u3082\u3057\u304f\u306f\u300c\u5229\u7528\u8005\u300d)\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 2.2. \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u3042\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9(\u30db\u30b9\u30c8\u540d: es )\u306b\u63a5\u7d9a\u3059\u308b\u306b\u306f\u3001\u4e8c\u6bb5\u968e\u306eSSH\u516c\u958b\u9375\u8a8d\u8a3c\u306b\u3088\u308b\u63a5\u7d9a\u3092\u884c\u3044\u307e\u3059\u3002 SSH\u516c\u958b\u9375\u8a8d\u8a3c\u3092\u7528\u3044\u3066\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0(\u30db\u30b9\u30c8\u540d: as.abci.ai )\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001\u30ed\u30fc\u30ab\u30ebPC\u3068\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306e\u9593\u306bSSH\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u306b\u3088\u308b\u30c8\u30f3\u30cd\u30ea\u30f3\u30b0\uff08\u4ee5\u4e0b\u300cSSH\u30c8\u30f3\u30cd\u30eb\u300d\u3068\u3044\u3046\uff09\u3092\u4f5c\u6210 SSH\u30c8\u30f3\u30cd\u30eb\u3092\u4ecb\u3057\u3066\u3001SSH\u516c\u958b\u9375\u8a8d\u8a3c\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9( es )\u306b\u30ed\u30b0\u30a4\u30f3 \u306a\u304a\u672c\u7ae0\u3067\u306f\u3001ABCI\u306e\u30b5\u30fc\u30d0\u540d\u306f \u30a4\u30bf\u30ea\u30c3\u30af \u3067\u8868\u8a18\u3057\u307e\u3059\u3002 \u524d\u63d0 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3002Linux\u3001macOS\u3092\u542b\u3080UNIX\u7cfbOS\u3001Windows 10 version 1803 (April 2018 Update)\u4ee5\u964d\u306a\u3069\u3001\u307b\u3068\u3093\u3069\u306ePC\u306b\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089 ssh \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u5b89\u5168\u306aSSH\u516c\u958b\u9375\u30fb\u79d8\u5bc6\u9375\u30da\u30a2\u306e\u751f\u6210\u3002ABCI\u3067\u5229\u7528\u53ef\u80fd\u306a\u9375\u30da\u30a2\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002 RSA\u9375 (2048bit\u4ee5\u4e0a) ECDSA\u9375 (256bit\u3001384bit\u3001\u307e\u305f\u306f521bit) Ed25519\u9375 SSH\u516c\u958b\u9375\u306e\u767b\u9332\u3002 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u306b\u3066SSH\u516c\u958b\u9375\u306e\u767b\u9332\u3092\u4e8b\u524d\u306b\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\u767b\u9332\u65b9\u6cd5\u306f\u3001 SSH\u516c\u958b\u9375\u306e\u767b\u9332 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Note SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u3057\u3066\u3001Tera Term\u3084PuTTY\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001 Tera Term\u306e\u5229\u7528 \u3001 PuTTY\u306e\u5229\u7528 \u3092\u53c2\u7167\u3002 SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u3088\u308b\u30ed\u30b0\u30a4\u30f3 \u4ee5\u4e0b\u3067\u306f\u3001SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u7528\u3044\u3066\u3001(1) \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3067SSH\u30c8\u30f3\u30cd\u30eb\u306e\u4f5c\u6210\u5f8c\u306b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u65b9\u6cd5\u3068\u3001(2) OpenSSH 7.3\u4ee5\u964d\u3067\u5b9f\u88c5\u3055\u308c\u305fProxyJump\u3092\u4f7f\u3063\u305f\u3088\u308a\u7c21\u4fbf\u306a\u30ed\u30b0\u30a4\u30f3\u65b9\u6cd5\u3001\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u4e00\u822c\u7684\u306a\u30ed\u30b0\u30a4\u30f3\u65b9\u6cd5 \u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0( as.abci.ai )\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 [yourpc ~]$ ssh -i /path/identity_file -L 10022: es :22 -l username as.abci.ai The authenticity of host 'as.abci.ai (0.0.0.1)' can't be established. RSA key fingerprint is XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX. < - \u521d\u56de\u30ed\u30b0\u30a4\u30f3\u6642\u306e\u307f\u8868\u793a Are you sure you want to continue connecting (yes/no)? < - yes\u3092\u5165\u529b Warning: Permanently added \u2018XX.XX.XX.XX' (RSA) to the list of known hosts. Enter passphrase for key '/path/identity_file': < - \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u5165\u529b \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u304c\u6210\u529f\u3059\u308b\u3068\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u4e0a\u306b\u4e0b\u8a18\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 Welcome to ABCI access server . Please press any key if you disconnect this session . Warning \u4e0a\u8a18\u72b6\u614b\u3067\u4f55\u3089\u304b\u306e\u30ad\u30fc\u3092\u5165\u529b\u3059\u308b\u3068SSH\u63a5\u7d9a\u304c\u5207\u65ad\u3055\u308c\u3066\u3057\u307e\u3059\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u7d9a\u3044\u3066\u3001\u5225\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u8d77\u52d5\u3057\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [ yourpc ~ ]$ ssh - i / path / identity_file - p 10022 - l username localhost The authenticity of host ' localhost (127.0.0.1) ' can ' t be established. RSA key fingerprint is XX : XX : XX : XX : XX : XX : XX : XX : XX : XX : XX : XX : XX : XX : XX : XX . <- \u521d\u56de\u30ed\u30b0\u30a4\u30f3\u6642\u306e\u307f\u8868\u793a Are you sure you want to continue connecting ( yes / no ) ? <- yes \u3092\u5165\u529b Warning : Permanently added ' localhost ' ( RSA ) to the list of known hosts . Enter passphrase for key ' -i /path/identity_file ' : <- \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u5165\u529b [ username @ es1 ~ ]$ ProxyJump\u306e\u4f7f\u7528 \u3053\u3053\u3067\u306fOpenSSH 7.3\u4ee5\u964d\u3067\u5b9f\u88c5\u3055\u308c\u305fProxyJump\u3092\u4f7f\u3063\u305f\u30ed\u30b0\u30a4\u30f3\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u307e\u305a\u30ed\u30fc\u30ab\u30ebPC\u306e $HOME/.ssh/config \u306b\u4ee5\u4e0b\u306e\u8a18\u8ff0\u3092\u884c\u3044\u307e\u3059\u3002 Host abci HostName es User username ProxyJump %r@ as.abci.ai IdentityFile /path/identity_file Host as.abci.ai IdentityFile /path/identity_file \u4ee5\u964d\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306e\u307f\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002 [yourpc ~]$ ssh abci Warning Windows 10 \u30d0\u30fc\u30b8\u30e7\u30f31803\u4ee5\u964d\u306b\u6a19\u6e96\u3067\u30d0\u30f3\u30c9\u30eb\u3055\u308c\u3066\u3044\u308bOpenSSH_for_Windows_7.7p1\u3067\u306f\u3001ProxyJump\u304a\u3088\u3073ProxyCommand\u304c\u4f7f\u3048\u307e\u305b\u3093\u3002Windows Subsystem for Linux (WSL)\u306b\u30d0\u30f3\u30c9\u30eb\u3055\u308c\u3066\u3044\u308bOpenSSH\u3067\u306f\u4f7f\u3048\u307e\u3059\u3002 2.3. \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001 \u30ed\u30fc\u30ab\u30ebPC\u3068ABCI\u30b7\u30b9\u30c6\u30e0\u9593\u3067\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u3092\u3059\u308b\u306b\u306f\u3001 scp ( sftp )\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3082SSH\u30c8\u30f3\u30cd\u30eb\u3092\u4ecb\u3057\u3066\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 SSH\u30c8\u30f3\u30cd\u30eb\u306e\u8a2d\u5b9a\u5f8c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002 [ yourpc ~ ]$ scp - i / path / identity_file - P 10022 local - file username @ localhost : remote - dir Enter passphrase for key : <- \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b local - file 100 % |***********************| file - size transfer - time ProxyJump\u304c\u4f7f\u3048\u308b\u5834\u5408\u306f\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u660e\u793a\u7684\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002 ProxyJump\u306e\u4f7f\u7528 \u3067\u8aac\u660e\u3057\u305f\u3068\u304a\u308a $HOME/.ssh/config \u306e\u8a2d\u5b9a\u304c\u3057\u3066\u3042\u308c\u3070\u3001\u76f4\u63a5 scp ( sftp )\u30b3\u30de\u30f3\u30c9\u3067\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u304c\u884c\u3048\u307e\u3059\u3002 [yourpc ~]$ scp local-file abci :remote-dir 2.4. \u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4 ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306fLDAP\u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u307e\u3059\u3002 SSH\u30ed\u30b0\u30a4\u30f3\u3067\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u4f7f\u7528\u3057\u307e\u305b\u3093\u304c\u3001 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u3078\u306e\u30ed\u30b0\u30a4\u30f3\u3001\u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u306e\u5909\u66f4\u306e\u969b\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\u306f\u3001 passwd \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 [ username @ es1 ~ ]$ passwd Changing password for user username . Current Password : <- \u73fe\u5728\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b New password : <- \u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b Retype new password : <- \u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5ea6\u5165\u529b passwd : all authentication tokens updated successfully . Warning \u30d1\u30b9\u30ef\u30fc\u30c9\u898f\u7d04\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 15\u4ee5\u4e0a\u306e\u6587\u5b57\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u4e26\u3079\u305f\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4f8b\u3048\u3070Linux \u306e\u8f9e\u66f8\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u5358\u8a9e\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002\u6587\u5b57\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u3076\u65b9\u6cd5\u3068\u3057\u3066\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u4f5c\u6210\u7528\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u7528\u3044\u308b\u306a\u3069\u3057\u3066\u3001\u81ea\u52d5\u7684\u306b\u751f\u6210\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002 \u82f1\u5927\u6587\u5b57[A-Z]\u3001\u82f1\u5c0f\u6587\u5b57[a-z]\u3001\u6570\u5b57[0-9]\u3001\u8a18\u53f7\u306e4\u7a2e\u985e\u3092\u3059\u3079\u3066\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u5168\u89d2\u6587\u5b57\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002 2.5. \u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u306f\u3001bash\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u306f chsh \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066tcsh\u3082\u3057\u304f\u306fzsh\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u306e\u5909\u66f4\u306f\u6b21\u56de\u30ed\u30b0\u30a4\u30f3\u304b\u3089\u6709\u52b9\u3068\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u306e\u53cd\u6620\u306b\u306f10\u5206\u7a0b\u5ea6\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002 $ chsh [ options ] < new_shell > \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -l \u5229\u7528\u53ef\u80fd\u306a\u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b -s new_shell \u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u3092 new_shell \u306b\u5909\u66f4\u3059\u308b \u4f8b) \u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u3092 tcsh \u306b\u5909\u66f4\u3059\u308b\u3002 [ username @ es1 ~ ]$ chsh - s / bin / tcsh Password for username @ ABCI . LOCAL : <- \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b ABCI\u30b7\u30b9\u30c6\u30e0\u3078\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u3001ABCI\u30b7\u30b9\u30c6\u30e0\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u74b0\u5883\u8a2d\u5b9a\u304c\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\u74b0\u5883\u5909\u6570 PATH \u3084\u74b0\u5883\u5909\u6570 LD_LIBRARY_PATH \u7b49\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306b\u793a\u3059\u500b\u4eba\u7528\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb \u500b\u4eba\u7528\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb bash $HOME/.bash_profile tcsh $HOME/.cshrc zsh $HOME/.zshrc Warning \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u74b0\u5883\u5909\u6570 PATH \u306b\u30d1\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u969b\u306f\u3001\u74b0\u5883\u5909\u6570 PATH \u306e\u6700\u5f8c\u306b\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u5148\u982d\u306b\u8ffd\u52a0\u3057\u305f\u5834\u5408\u3001\u30b7\u30b9\u30c6\u30e0\u3092\u6b63\u5e38\u306b\u4f7f\u7528\u3067\u304d\u306a\u304f\u306a\u308b\u6050\u308c\u304c\u3042\u308a\u307e\u3059\u3002 \u500b\u4eba\u7528\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30aa\u30ea\u30b8\u30ca\u30eb\uff08\u96db\u5f62\uff09\u306f /etc/skel \u914d\u4e0b\u306b\u683c\u7d0d\u3057\u3066\u3044\u307e\u3059\u3002 2.6. ABCI\u30dd\u30a4\u30f3\u30c8\u306e\u78ba\u8a8d ABCI\u30dd\u30a4\u30f3\u30c8\u306e\u4f7f\u7528\u72b6\u6cc1\u3068\u8cfc\u5165\u6570\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001 show_point \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002 ABCI\u30dd\u30a4\u30f3\u30c8\u6d88\u8cbb\u7387\u304c100%\u3092\u8d85\u3048\u308b\u898b\u8fbc\u307f\u306e\u5834\u5408\u3001\u65b0\u898f\u30b8\u30e7\u30d6\u6295\u5165\u304c\u884c\u3048\u305a\u3001\u6295\u5165\u6e08\u307f\u30b8\u30e7\u30d6\u306f\u5b9f\u884c\u958b\u59cb\u6642\u306b\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\uff08\u5b9f\u884c\u4e2d\u30b8\u30e7\u30d6\u306f\u5f71\u97ff\u3092\u53d7\u3051\u307e\u305b\u3093\uff09\u3002 \u4f8b) ABCI\u30dd\u30a4\u30f3\u30c8\u3092\u78ba\u8a8d\u3059\u308b\u3002 [ username@es1 ~ ] $ show_point Group Disk Used Point Used % grpname 5 12 , 345.6789 100 , 000 12 ` - username - 0.1234 - 0 \u9805\u76ee \u8aac\u660e Group ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7\u540d Disk \u30b0\u30eb\u30fc\u30d7\u9818\u57df\u5272\u5f53\u91cf(TB) Used ABCI\u30dd\u30a4\u30f3\u30c8\u4f7f\u7528\u91cf Point ABCI\u30dd\u30a4\u30f3\u30c8\u8cfc\u5165\u91cf Used% ABCI\u30dd\u30a4\u30f3\u30c8\u6d88\u8cbb\u7387 2.7. \u30c7\u30a3\u30b9\u30af\u30af\u30a9\u30fc\u30bf\u306e\u78ba\u8a8d \u30db\u30fc\u30e0\u9818\u57df\u304a\u3088\u3073\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306e\u4f7f\u7528\u72b6\u6cc1\u3068\u5272\u308a\u5f53\u3066\u91cf\u3092\u8868\u793a\u3059\u308b\u306b\u306f\u3001 show_quota \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002 \u4f8b) \u30c7\u30a3\u30b9\u30af\u30af\u30a9\u30fc\u30bf\u3092\u78ba\u8a8d\u3059\u308b\u3002 [ username @ es1 ~ ]$ show_quota Disk quotas for user username Directory used ( GiB ) limit ( GiB ) nfiles / home 100 200 1 , 234 Disk quotas for ABCI group grpname Directory used ( GiB ) limit ( GiB ) nfiles / groups1 / grpname 1 , 024 2 , 048 123 , 456 \u9805\u76ee \u8aac\u660e Directory \u9818\u57df\u7a2e\u5225 used(GiB) \u30c7\u30a3\u30b9\u30af\u4f7f\u7528\u91cf limit(GiB) \u30c7\u30a3\u30b9\u30af\u4e0a\u9650\u5024 nfiles \u30d5\u30a1\u30a4\u30eb\u6570 2.8. \u8a08\u7b97\u30ce\u30fc\u30c9\u3068\u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u306e\u901a\u4fe1 ABCI\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u3068\u3001\u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306e\u30b5\u30fc\u30d3\u30b9\u3084\u30b5\u30fc\u30d0\u3068\u306e\u9593\u306e\u901a\u4fe1\u306f\u4e00\u90e8\u306e\u307f\u8a31\u53ef\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u63a5\u7d9a\u5143 \u63a5\u7d9a\u5148 \u30dd\u30fc\u30c8 \u30b5\u30fc\u30d3\u30b9\u30cd\u30fc\u30e0 \u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af \u8a08\u7b97\u30ce\u30fc\u30c9 \u3059\u3079\u3066\u7981\u6b62 \u8a08\u7b97\u30ce\u30fc\u30c9 \u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af 22/tcp ssh \u8a08\u7b97\u30ce\u30fc\u30c9 \u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af 53/tcp dns \u8a08\u7b97\u30ce\u30fc\u30c9 \u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af 80/tcp http \u8a08\u7b97\u30ce\u30fc\u30c9 \u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af 443/tcp https \u73fe\u5728\u8a31\u53ef\u3055\u308c\u3066\u3044\u306a\u3044\u901a\u4fe1\u306e\u3046\u3061\u3001outbound\u901a\u4fe1\u3001\u3059\u306a\u308f\u3061\u8a08\u7b97\u30ce\u30fc\u30c9\u304b\u3089\u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u306e\u901a\u4fe1\u306b\u3064\u3044\u3066\u306f\u3001\u7533\u8acb\u30d9\u30fc\u30b9\u3067\u4e00\u5b9a\u671f\u9593\u8a31\u53ef\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u307e\u3059\u3002ABCI\u30b5\u30dd\u30fc\u30c8\u307e\u3067\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002","title":"2. ABCI\u30b7\u30b9\u30c6\u30e0\u5229\u7528\u74b0\u5883"},{"location":"02/#2-abci","text":"","title":"2. ABCI\u30b7\u30b9\u30c6\u30e0\u5229\u7528\u74b0\u5883"},{"location":"02/#create-an-account","text":"ABCI\u5229\u7528\u8005\u306b\u306f\u3001\u300c\u5229\u7528\u8cac\u4efb\u8005\u300d\u300c\u5229\u7528\u7ba1\u7406\u8005\u300d\u300c\u5229\u7528\u8005\u300d\u306e3\u7a2e\u985e\u304c\u3042\u308a\u307e\u3059\u3002 ABCI\u30b7\u30b9\u30c6\u30e0\u3092\u5229\u7528\u3059\u308b\u306b\u306f\u3001\u300c\u5229\u7528\u8cac\u4efb\u8005\u300d\u304c ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u304b\u3089ABCI\u30b0\u30eb\u30fc\u30d7\u7533\u8acb\u30fb\u5229\u7528\u8005(\u300c\u5229\u7528\u7ba1\u7406\u8005\u300d\u3082\u3057\u304f\u306f\u300c\u5229\u7528\u8005\u300d)\u3092\u884c\u3044\u3001ABCI\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u53d6\u5f97\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u8a73\u7d30\u306f ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb\u5229\u7528\u624b\u5f15\u304d \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Note \u300c\u5229\u7528\u8cac\u4efb\u8005\u300d\u81ea\u8eab\u306b\u3082ABCI\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u3002 \u300c\u5229\u7528\u8cac\u4efb\u8005\u300d\u306f ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u306b\u3066\u300c\u5229\u7528\u8005\u300d\u3092\u300c\u5229\u7528\u7ba1\u7406\u8005\u300d\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 \u300c\u5229\u7528\u8cac\u4efb\u8005\u300d\u3068\u300c\u5229\u7528\u7ba1\u7406\u8005\u300d\u306f\u3001ABCI\u30b0\u30eb\u30fc\u30d7\u306b\u5229\u7528\u8005(\u300c\u5229\u7528\u7ba1\u7406\u8005\u300d\u3082\u3057\u304f\u306f\u300c\u5229\u7528\u8005\u300d)\u3092\u8ffd\u52a0\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002","title":"2.1. \u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u53d6\u5f97"},{"location":"02/#connecting-to-interactive-node","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u3042\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9(\u30db\u30b9\u30c8\u540d: es )\u306b\u63a5\u7d9a\u3059\u308b\u306b\u306f\u3001\u4e8c\u6bb5\u968e\u306eSSH\u516c\u958b\u9375\u8a8d\u8a3c\u306b\u3088\u308b\u63a5\u7d9a\u3092\u884c\u3044\u307e\u3059\u3002 SSH\u516c\u958b\u9375\u8a8d\u8a3c\u3092\u7528\u3044\u3066\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0(\u30db\u30b9\u30c8\u540d: as.abci.ai )\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001\u30ed\u30fc\u30ab\u30ebPC\u3068\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306e\u9593\u306bSSH\u30dd\u30fc\u30c8\u30d5\u30a9\u30ef\u30fc\u30c7\u30a3\u30f3\u30b0\u306b\u3088\u308b\u30c8\u30f3\u30cd\u30ea\u30f3\u30b0\uff08\u4ee5\u4e0b\u300cSSH\u30c8\u30f3\u30cd\u30eb\u300d\u3068\u3044\u3046\uff09\u3092\u4f5c\u6210 SSH\u30c8\u30f3\u30cd\u30eb\u3092\u4ecb\u3057\u3066\u3001SSH\u516c\u958b\u9375\u8a8d\u8a3c\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9( es )\u306b\u30ed\u30b0\u30a4\u30f3 \u306a\u304a\u672c\u7ae0\u3067\u306f\u3001ABCI\u306e\u30b5\u30fc\u30d0\u540d\u306f \u30a4\u30bf\u30ea\u30c3\u30af \u3067\u8868\u8a18\u3057\u307e\u3059\u3002","title":"2.2. \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a"},{"location":"02/#prerequisites","text":"\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3059\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3002Linux\u3001macOS\u3092\u542b\u3080UNIX\u7cfbOS\u3001Windows 10 version 1803 (April 2018 Update)\u4ee5\u964d\u306a\u3069\u3001\u307b\u3068\u3093\u3069\u306ePC\u306b\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089 ssh \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u5b89\u5168\u306aSSH\u516c\u958b\u9375\u30fb\u79d8\u5bc6\u9375\u30da\u30a2\u306e\u751f\u6210\u3002ABCI\u3067\u5229\u7528\u53ef\u80fd\u306a\u9375\u30da\u30a2\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002 RSA\u9375 (2048bit\u4ee5\u4e0a) ECDSA\u9375 (256bit\u3001384bit\u3001\u307e\u305f\u306f521bit) Ed25519\u9375 SSH\u516c\u958b\u9375\u306e\u767b\u9332\u3002 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u306b\u3066SSH\u516c\u958b\u9375\u306e\u767b\u9332\u3092\u4e8b\u524d\u306b\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\u767b\u9332\u65b9\u6cd5\u306f\u3001 SSH\u516c\u958b\u9375\u306e\u767b\u9332 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Note SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u3057\u3066\u3001Tera Term\u3084PuTTY\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001 Tera Term\u306e\u5229\u7528 \u3001 PuTTY\u306e\u5229\u7528 \u3092\u53c2\u7167\u3002","title":"\u524d\u63d0"},{"location":"02/#login-using-an-ssh-client","text":"\u4ee5\u4e0b\u3067\u306f\u3001SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u7528\u3044\u3066\u3001(1) \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3067SSH\u30c8\u30f3\u30cd\u30eb\u306e\u4f5c\u6210\u5f8c\u306b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u65b9\u6cd5\u3068\u3001(2) OpenSSH 7.3\u4ee5\u964d\u3067\u5b9f\u88c5\u3055\u308c\u305fProxyJump\u3092\u4f7f\u3063\u305f\u3088\u308a\u7c21\u4fbf\u306a\u30ed\u30b0\u30a4\u30f3\u65b9\u6cd5\u3001\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u3088\u308b\u30ed\u30b0\u30a4\u30f3"},{"location":"02/#general-method","text":"\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0( as.abci.ai )\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 [yourpc ~]$ ssh -i /path/identity_file -L 10022: es :22 -l username as.abci.ai The authenticity of host 'as.abci.ai (0.0.0.1)' can't be established. RSA key fingerprint is XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX:XX. < - \u521d\u56de\u30ed\u30b0\u30a4\u30f3\u6642\u306e\u307f\u8868\u793a Are you sure you want to continue connecting (yes/no)? < - yes\u3092\u5165\u529b Warning: Permanently added \u2018XX.XX.XX.XX' (RSA) to the list of known hosts. Enter passphrase for key '/path/identity_file': < - \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u5165\u529b \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u304c\u6210\u529f\u3059\u308b\u3068\u3001\u30bf\u30fc\u30df\u30ca\u30eb\u4e0a\u306b\u4e0b\u8a18\u306e\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 Welcome to ABCI access server . Please press any key if you disconnect this session . Warning \u4e0a\u8a18\u72b6\u614b\u3067\u4f55\u3089\u304b\u306e\u30ad\u30fc\u3092\u5165\u529b\u3059\u308b\u3068SSH\u63a5\u7d9a\u304c\u5207\u65ad\u3055\u308c\u3066\u3057\u307e\u3059\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u7d9a\u3044\u3066\u3001\u5225\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u3092\u8d77\u52d5\u3057\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [ yourpc ~ ]$ ssh - i / path / identity_file - p 10022 - l username localhost The authenticity of host ' localhost (127.0.0.1) ' can ' t be established. RSA key fingerprint is XX : XX : XX : XX : XX : XX : XX : XX : XX : XX : XX : XX : XX : XX : XX : XX . <- \u521d\u56de\u30ed\u30b0\u30a4\u30f3\u6642\u306e\u307f\u8868\u793a Are you sure you want to continue connecting ( yes / no ) ? <- yes \u3092\u5165\u529b Warning : Permanently added ' localhost ' ( RSA ) to the list of known hosts . Enter passphrase for key ' -i /path/identity_file ' : <- \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u5165\u529b [ username @ es1 ~ ]$","title":"\u4e00\u822c\u7684\u306a\u30ed\u30b0\u30a4\u30f3\u65b9\u6cd5"},{"location":"02/#proxyjump","text":"\u3053\u3053\u3067\u306fOpenSSH 7.3\u4ee5\u964d\u3067\u5b9f\u88c5\u3055\u308c\u305fProxyJump\u3092\u4f7f\u3063\u305f\u30ed\u30b0\u30a4\u30f3\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u307e\u305a\u30ed\u30fc\u30ab\u30ebPC\u306e $HOME/.ssh/config \u306b\u4ee5\u4e0b\u306e\u8a18\u8ff0\u3092\u884c\u3044\u307e\u3059\u3002 Host abci HostName es User username ProxyJump %r@ as.abci.ai IdentityFile /path/identity_file Host as.abci.ai IdentityFile /path/identity_file \u4ee5\u964d\u306f\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u306e\u307f\u3067\u30ed\u30b0\u30a4\u30f3\u3067\u304d\u307e\u3059\u3002 [yourpc ~]$ ssh abci Warning Windows 10 \u30d0\u30fc\u30b8\u30e7\u30f31803\u4ee5\u964d\u306b\u6a19\u6e96\u3067\u30d0\u30f3\u30c9\u30eb\u3055\u308c\u3066\u3044\u308bOpenSSH_for_Windows_7.7p1\u3067\u306f\u3001ProxyJump\u304a\u3088\u3073ProxyCommand\u304c\u4f7f\u3048\u307e\u305b\u3093\u3002Windows Subsystem for Linux (WSL)\u306b\u30d0\u30f3\u30c9\u30eb\u3055\u308c\u3066\u3044\u308bOpenSSH\u3067\u306f\u4f7f\u3048\u307e\u3059\u3002","title":"ProxyJump\u306e\u4f7f\u7528"},{"location":"02/#file-transfer-to-interactive-node","text":"\u30ed\u30fc\u30ab\u30ebPC\u3068ABCI\u30b7\u30b9\u30c6\u30e0\u9593\u3067\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u3092\u3059\u308b\u306b\u306f\u3001 scp ( sftp )\u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u3082SSH\u30c8\u30f3\u30cd\u30eb\u3092\u4ecb\u3057\u3066\u884c\u3046\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 SSH\u30c8\u30f3\u30cd\u30eb\u306e\u8a2d\u5b9a\u5f8c\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002 [ yourpc ~ ]$ scp - i / path / identity_file - P 10022 local - file username @ localhost : remote - dir Enter passphrase for key : <- \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b local - file 100 % |***********************| file - size transfer - time ProxyJump\u304c\u4f7f\u3048\u308b\u5834\u5408\u306f\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u660e\u793a\u7684\u306b\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002 ProxyJump\u306e\u4f7f\u7528 \u3067\u8aac\u660e\u3057\u305f\u3068\u304a\u308a $HOME/.ssh/config \u306e\u8a2d\u5b9a\u304c\u3057\u3066\u3042\u308c\u3070\u3001\u76f4\u63a5 scp ( sftp )\u30b3\u30de\u30f3\u30c9\u3067\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u304c\u884c\u3048\u307e\u3059\u3002 [yourpc ~]$ scp local-file abci :remote-dir","title":"2.3. \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001"},{"location":"02/#change-password","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306fLDAP\u3067\u7ba1\u7406\u3055\u308c\u3066\u3044\u307e\u3059\u3002 SSH\u30ed\u30b0\u30a4\u30f3\u3067\u306f\u30d1\u30b9\u30ef\u30fc\u30c9\u306f\u4f7f\u7528\u3057\u307e\u305b\u3093\u304c\u3001 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u3078\u306e\u30ed\u30b0\u30a4\u30f3\u3001\u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u306e\u5909\u66f4\u306e\u969b\u306b\u30d1\u30b9\u30ef\u30fc\u30c9\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5909\u66f4\u3059\u308b\u5834\u5408\u306f\u3001 passwd \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 [ username @ es1 ~ ]$ passwd Changing password for user username . Current Password : <- \u73fe\u5728\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b New password : <- \u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b Retype new password : <- \u65b0\u3057\u3044\u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u518d\u5ea6\u5165\u529b passwd : all authentication tokens updated successfully . Warning \u30d1\u30b9\u30ef\u30fc\u30c9\u898f\u7d04\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 15\u4ee5\u4e0a\u306e\u6587\u5b57\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u4e26\u3079\u305f\u6587\u5b57\u5217\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u4f8b\u3048\u3070Linux \u306e\u8f9e\u66f8\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308b\u5358\u8a9e\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002\u6587\u5b57\u3092\u30e9\u30f3\u30c0\u30e0\u306b\u9078\u3076\u65b9\u6cd5\u3068\u3057\u3066\u3001\u30d1\u30b9\u30ef\u30fc\u30c9\u4f5c\u6210\u7528\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u7528\u3044\u308b\u306a\u3069\u3057\u3066\u3001\u81ea\u52d5\u7684\u306b\u751f\u6210\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002 \u82f1\u5927\u6587\u5b57[A-Z]\u3001\u82f1\u5c0f\u6587\u5b57[a-z]\u3001\u6570\u5b57[0-9]\u3001\u8a18\u53f7\u306e4\u7a2e\u985e\u3092\u3059\u3079\u3066\u4f7f\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u5168\u89d2\u6587\u5b57\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093\u3002","title":"2.4. \u30d1\u30b9\u30ef\u30fc\u30c9\u5909\u66f4"},{"location":"02/#login-shell","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u306f\u3001bash\u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u306f chsh \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u3066tcsh\u3082\u3057\u304f\u306fzsh\u306b\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u306e\u5909\u66f4\u306f\u6b21\u56de\u30ed\u30b0\u30a4\u30f3\u304b\u3089\u6709\u52b9\u3068\u306a\u308a\u307e\u3059\u3002\u307e\u305f\u3001\u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u306e\u53cd\u6620\u306b\u306f10\u5206\u7a0b\u5ea6\u6642\u9593\u304c\u304b\u304b\u308a\u307e\u3059\u3002 $ chsh [ options ] < new_shell > \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -l \u5229\u7528\u53ef\u80fd\u306a\u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u4e00\u89a7\u3092\u8868\u793a\u3059\u308b -s new_shell \u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u3092 new_shell \u306b\u5909\u66f4\u3059\u308b \u4f8b) \u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb\u3092 tcsh \u306b\u5909\u66f4\u3059\u308b\u3002 [ username @ es1 ~ ]$ chsh - s / bin / tcsh Password for username @ ABCI . LOCAL : <- \u30d1\u30b9\u30ef\u30fc\u30c9\u3092\u5165\u529b ABCI\u30b7\u30b9\u30c6\u30e0\u3078\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u3068\u3001ABCI\u30b7\u30b9\u30c6\u30e0\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u74b0\u5883\u8a2d\u5b9a\u304c\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\u74b0\u5883\u5909\u6570 PATH \u3084\u74b0\u5883\u5909\u6570 LD_LIBRARY_PATH \u7b49\u3092\u30ab\u30b9\u30bf\u30de\u30a4\u30ba\u3059\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306b\u793a\u3059\u500b\u4eba\u7528\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb \u500b\u4eba\u7528\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb bash $HOME/.bash_profile tcsh $HOME/.cshrc zsh $HOME/.zshrc Warning \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306b\u74b0\u5883\u5909\u6570 PATH \u306b\u30d1\u30b9\u3092\u8ffd\u52a0\u3059\u308b\u969b\u306f\u3001\u74b0\u5883\u5909\u6570 PATH \u306e\u6700\u5f8c\u306b\u8ffd\u52a0\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u5148\u982d\u306b\u8ffd\u52a0\u3057\u305f\u5834\u5408\u3001\u30b7\u30b9\u30c6\u30e0\u3092\u6b63\u5e38\u306b\u4f7f\u7528\u3067\u304d\u306a\u304f\u306a\u308b\u6050\u308c\u304c\u3042\u308a\u307e\u3059\u3002 \u500b\u4eba\u7528\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u306e\u30aa\u30ea\u30b8\u30ca\u30eb\uff08\u96db\u5f62\uff09\u306f /etc/skel \u914d\u4e0b\u306b\u683c\u7d0d\u3057\u3066\u3044\u307e\u3059\u3002","title":"2.5. \u30ed\u30b0\u30a4\u30f3\u30b7\u30a7\u30eb"},{"location":"02/#check-abci-point","text":"ABCI\u30dd\u30a4\u30f3\u30c8\u306e\u4f7f\u7528\u72b6\u6cc1\u3068\u8cfc\u5165\u6570\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001 show_point \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002 ABCI\u30dd\u30a4\u30f3\u30c8\u6d88\u8cbb\u7387\u304c100%\u3092\u8d85\u3048\u308b\u898b\u8fbc\u307f\u306e\u5834\u5408\u3001\u65b0\u898f\u30b8\u30e7\u30d6\u6295\u5165\u304c\u884c\u3048\u305a\u3001\u6295\u5165\u6e08\u307f\u30b8\u30e7\u30d6\u306f\u5b9f\u884c\u958b\u59cb\u6642\u306b\u30a8\u30e9\u30fc\u306b\u306a\u308a\u307e\u3059\uff08\u5b9f\u884c\u4e2d\u30b8\u30e7\u30d6\u306f\u5f71\u97ff\u3092\u53d7\u3051\u307e\u305b\u3093\uff09\u3002 \u4f8b) ABCI\u30dd\u30a4\u30f3\u30c8\u3092\u78ba\u8a8d\u3059\u308b\u3002 [ username@es1 ~ ] $ show_point Group Disk Used Point Used % grpname 5 12 , 345.6789 100 , 000 12 ` - username - 0.1234 - 0 \u9805\u76ee \u8aac\u660e Group ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7\u540d Disk \u30b0\u30eb\u30fc\u30d7\u9818\u57df\u5272\u5f53\u91cf(TB) Used ABCI\u30dd\u30a4\u30f3\u30c8\u4f7f\u7528\u91cf Point ABCI\u30dd\u30a4\u30f3\u30c8\u8cfc\u5165\u91cf Used% ABCI\u30dd\u30a4\u30f3\u30c8\u6d88\u8cbb\u7387","title":"2.6. ABCI\u30dd\u30a4\u30f3\u30c8\u306e\u78ba\u8a8d"},{"location":"02/#check-disk-quota","text":"\u30db\u30fc\u30e0\u9818\u57df\u304a\u3088\u3073\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306e\u4f7f\u7528\u72b6\u6cc1\u3068\u5272\u308a\u5f53\u3066\u91cf\u3092\u8868\u793a\u3059\u308b\u306b\u306f\u3001 show_quota \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002 \u4f8b) \u30c7\u30a3\u30b9\u30af\u30af\u30a9\u30fc\u30bf\u3092\u78ba\u8a8d\u3059\u308b\u3002 [ username @ es1 ~ ]$ show_quota Disk quotas for user username Directory used ( GiB ) limit ( GiB ) nfiles / home 100 200 1 , 234 Disk quotas for ABCI group grpname Directory used ( GiB ) limit ( GiB ) nfiles / groups1 / grpname 1 , 024 2 , 048 123 , 456 \u9805\u76ee \u8aac\u660e Directory \u9818\u57df\u7a2e\u5225 used(GiB) \u30c7\u30a3\u30b9\u30af\u4f7f\u7528\u91cf limit(GiB) \u30c7\u30a3\u30b9\u30af\u4e0a\u9650\u5024 nfiles \u30d5\u30a1\u30a4\u30eb\u6570","title":"2.7. \u30c7\u30a3\u30b9\u30af\u30af\u30a9\u30fc\u30bf\u306e\u78ba\u8a8d"},{"location":"02/#communications-between-compute-nodes-and-external-network","text":"ABCI\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u3068\u3001\u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u4e0a\u306e\u30b5\u30fc\u30d3\u30b9\u3084\u30b5\u30fc\u30d0\u3068\u306e\u9593\u306e\u901a\u4fe1\u306f\u4e00\u90e8\u306e\u307f\u8a31\u53ef\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u63a5\u7d9a\u5143 \u63a5\u7d9a\u5148 \u30dd\u30fc\u30c8 \u30b5\u30fc\u30d3\u30b9\u30cd\u30fc\u30e0 \u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af \u8a08\u7b97\u30ce\u30fc\u30c9 \u3059\u3079\u3066\u7981\u6b62 \u8a08\u7b97\u30ce\u30fc\u30c9 \u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af 22/tcp ssh \u8a08\u7b97\u30ce\u30fc\u30c9 \u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af 53/tcp dns \u8a08\u7b97\u30ce\u30fc\u30c9 \u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af 80/tcp http \u8a08\u7b97\u30ce\u30fc\u30c9 \u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af 443/tcp https \u73fe\u5728\u8a31\u53ef\u3055\u308c\u3066\u3044\u306a\u3044\u901a\u4fe1\u306e\u3046\u3061\u3001outbound\u901a\u4fe1\u3001\u3059\u306a\u308f\u3061\u8a08\u7b97\u30ce\u30fc\u30c9\u304b\u3089\u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3078\u306e\u901a\u4fe1\u306b\u3064\u3044\u3066\u306f\u3001\u7533\u8acb\u30d9\u30fc\u30b9\u3067\u4e00\u5b9a\u671f\u9593\u8a31\u53ef\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u307e\u3059\u3002ABCI\u30b5\u30dd\u30fc\u30c8\u307e\u3067\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002","title":"2.8. \u8a08\u7b97\u30ce\u30fc\u30c9\u3068\u5916\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af\u3068\u306e\u901a\u4fe1"},{"location":"03/","text":"3. \u30b8\u30e7\u30d6\u5b9f\u884c\u74b0\u5883 3.1. \u30b8\u30e7\u30d6\u30b5\u30fc\u30d3\u30b9\u30e1\u30cb\u30e5\u30fc ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30b8\u30e7\u30d6\u30b5\u30fc\u30d3\u30b9\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u30b5\u30fc\u30d3\u30b9\u540d \u8aac\u660e \u30b5\u30fc\u30d3\u30b9\u8ab2\u91d1\u4fc2\u6570 \u5229\u7528\u5f62\u614b Spot \u30d0\u30c3\u30c1\u5b9f\u884c\u578b\u30b8\u30e7\u30d6\u30b5\u30fc\u30d3\u30b9 1.0 \u30d0\u30c3\u30c1\u5229\u7528 On-demand \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u5b9f\u884c\u578b\u30b8\u30e7\u30d6\u30b5\u30fc\u30d3\u30b9 1.0 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u5229\u7528 Reserved \u4e8b\u524d\u4e88\u7d04\u578b\u30b8\u30e7\u30d6\u30b5\u30fc\u30d3\u30b9 1.5 \u30d0\u30c3\u30c1\u5229\u7528\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u5229\u7528 Spot\u30b5\u30fc\u30d3\u30b9\u304a\u3088\u3073On-demand\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001\u30b8\u30e7\u30d6\u5b9f\u884c\u958b\u59cb\u6642\u306b\u30b8\u30e7\u30d6\u304c\u4f7f\u7528\u4e88\u5b9a\u306eABCI\u30dd\u30a4\u30f3\u30c8\u3092\u7d4c\u904e\u6642\u9593\u5236\u9650\u5024\u3092\u5143\u306b\u8a08\u7b97\u3057\u3001 \u6e1b\u7b97\u51e6\u7406\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002 \u30b8\u30e7\u30d6\u5b9f\u884c\u7d42\u4e86\u6642\u306b\u5b9f\u969b\u306e\u7d4c\u904e\u6642\u9593\u3092\u5143\u306bABCI\u30dd\u30a4\u30f3\u30c8\u3092\u518d\u8a08\u7b97\u3057\u3001\u8fd4\u5374\u51e6\u7406\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002 Reserved\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001\u4e88\u7d04\u5b8c\u4e86\u6642\u306b\u4e88\u7d04\u671f\u9593\u3092\u5143\u306bABCI\u30dd\u30a4\u30f3\u30c8\u3092\u8a08\u7b97\u3057\u3001\u6e1b\u7b97\u51e6\u7406\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002\u4e88\u7d04\u3092\u53d6\u6d88\u3057\u306a\u3044\u9650\u308a\u3001\u8fd4\u5374\u51e6\u7406\u306f\u5b9f\u65bd\u3057\u307e\u305b\u3093\u3002 3.2. \u30b8\u30e7\u30d6\u5b9f\u884c\u30ea\u30bd\u30fc\u30b9 ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u8ad6\u7406\u7684\u306b\u5206\u5272\u3057\u305f\u8cc7\u6e90\u30bf\u30a4\u30d7\u3092\u5229\u7528\u3057\u3066\u3001\u30b8\u30e7\u30d6\u306b\u30b7\u30b9\u30c6\u30e0\u30ea\u30bd\u30fc\u30b9\u3092\u5272\u308a\u5f53\u3066\u307e\u3059\u3002 \u30b8\u30e7\u30d6\u3092\u6295\u5165/\u5b9f\u884c\u3059\u308b\u969b\u306b\u306f\u3001\u8cc7\u6e90\u30bf\u30a4\u30d7\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u8cc7\u6e90\u30bf\u30a4\u30d7 \u8cc7\u6e90\u30bf\u30a4\u30d7\u540d \u8aac\u660e \u5272\u308a\u5f53\u3066\u7269\u7406CPU\u30b3\u30a2\u6570 \u5272\u308a\u5f53\u3066GPU\u6570 \u30e1\u30e2\u30ea (GiB) \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8 (GB) \u8cc7\u6e90\u30bf\u30a4\u30d7\u8ab2\u91d1\u4fc2\u6570 Full rt_F \u30ce\u30fc\u30c9\u5360\u6709 40 4 360 1440 1.00 G.large rt_G.large \u30ce\u30fc\u30c9\u5171\u6709 GPU\u5229\u7528 20 4 240 720 0.90 G.small rt_G.small \u30ce\u30fc\u30c9\u5171\u6709 GPU\u5229\u7528 5 1 60 180 0.30 C.large rt_C.large \u30ce\u30fc\u30c9\u5171\u6709 CPU\u306e\u307f\u5229\u7528 20 0 120 720 0.60 C.small rt_C.small \u30ce\u30fc\u30c9\u5171\u6709 CPU\u306e\u307f\u5229\u7528 5 0 30 180 0.20 \u8907\u6570\u30ce\u30fc\u30c9\u3092\u4f7f\u7528\u3059\u308b\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u5360\u6709\u3059\u308b\u8cc7\u6e90\u30bf\u30a4\u30d7 rt_F \u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Warning \u30ce\u30fc\u30c9\u5171\u6709\u306e\u8cc7\u6e90\u30bf\u30a4\u30d7\u3067\u306f\u3001\u30b8\u30e7\u30d6\u306e\u30d7\u30ed\u30bb\u30b9\u60c5\u5831\u306f\u540c\u4e00\u30ce\u30fc\u30c9\u3067\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u4ed6\u306e\u30b8\u30e7\u30d6\u304b\u3089\u53c2\u7167\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002 \u4ed6\u306e\u30b8\u30e7\u30d6\u304b\u3089\u53c2\u7167\u3055\u305b\u305f\u304f\u306a\u3044\u5834\u5408\u3001\u8cc7\u6e90\u30bf\u30a4\u30d7 rt_F \u3092\u6307\u5b9a\u3057\u30ce\u30fc\u30c9\u5360\u6709\u3067\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u304f\u3060\u3055\u3044\u3002 \u30b5\u30fc\u30d3\u30b9\u6bce\u306b\u5229\u7528\u53ef\u80fd\u306a\u8cc7\u6e90\u30bf\u30a4\u30d7\u540d\u304a\u3088\u3073\u500b\u6570\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u30b5\u30fc\u30d3\u30b9\u540d \u8cc7\u6e90\u30bf\u30a4\u30d7\u540d \u500b\u6570\u306e\u7bc4\u56f2 Spot rt_F 1-512 rt_G.large 1 rt_G.small 1 rt_C.large 1 rt_C.small 1 On-demand rt_F 1-32 rt_G.large 1 rt_G.small 1 rt_C.large 1 rt_C.small 1 Reserved rt_F 1-\u4e88\u7d04\u30ce\u30fc\u30c9\u6570 rt_G.large 1 rt_G.small 1 rt_C.large 1 rt_C.small 1 \u30b5\u30fc\u30d3\u30b9\u6bce\u306e\u30b8\u30e7\u30d6\u7d4c\u904e\u6642\u9593\u5236\u9650\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u30b5\u30fc\u30d3\u30b9\u540d \u8cc7\u6e90\u30bf\u30a4\u30d7\u540d \u7d4c\u904e\u6642\u9593\u5236\u9650 (\u4e0a\u9650\u5024/\u30c7\u30d5\u30a9\u30eb\u30c8) Spot rt_F 72:00:00/1:00:00 rt_G.large, rt_C.large 72:00:00/1:00:00 rt_G.small, rt_C.small 168:00:00/1:00:00 On-demand rt_F 12:00:00/1:00:00 rt_G.large, rt_C.large 12:00:00/1:00:00 rt_G.small, rt_C.small 12:00:00/1:00:00 Reserved rt_F \u7121\u5236\u9650 rt_G.large, rt_C.large \u7121\u5236\u9650 rt_G.small, rt_C.small \u7121\u5236\u9650 Spot\u304a\u3088\u3073On-demand\u3067\u8907\u6570\u30ce\u30fc\u30c9\u3092\u4f7f\u7528\u3059\u308b\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u3001\u30ce\u30fc\u30c9\u6642\u9593\u7a4d\uff08\u4f7f\u7528\u30ce\u30fc\u30c9\u6570 \u00d7 \u5b9f\u884c\u6642\u9593\uff09\u306b\u4ee5\u4e0b\u306e\u5236\u7d04\u304c\u304b\u304b\u308a\u307e\u3059\u3002 \u30b5\u30fc\u30d3\u30b9\u540d \u30ce\u30fc\u30c9\u6642\u9593\u7a4d\u306e\u6700\u5927\u5024 Spot 2304 nodes \u00b7 hours On-demand 12 nodes \u00b7 hours \u30b8\u30e7\u30d6\u30b5\u30fc\u30d3\u30b9\u30b8\u30e7\u30d6\u306b\u304a\u3051\u308b\u30b8\u30e7\u30d6\u6295\u5165\u6570\u304a\u3088\u3073\u5b9f\u884c\u6570\u5236\u9650\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u5236\u9650\u9805\u76ee \u5236\u9650\u5024 \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u3042\u305f\u308a\u306e\u6700\u5927\u6295\u5165\u53ef\u80fd\u30bf\u30b9\u30af\u6570 75000 ABCI \u30a2\u30ab\u30a6\u30f3\u30c8\u3042\u305f\u308a\u306e\u540c\u6642\u6295\u5165\u53ef\u80fd\u30b8\u30e7\u30d6\u6570 1000 ABCI \u30a2\u30ab\u30a6\u30f3\u30c8\u3042\u305f\u308a\u306e\u540c\u6642\u5b9f\u884c\u30b8\u30e7\u30d6\u6570 200 Spot\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001POSIX\u512a\u5148\u5ea6\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u4ed6\u30b8\u30e7\u30d6\u3088\u308a\u512a\u5148\u7684\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 \u30b5\u30fc\u30d3\u30b9\u540d \u8aac\u660e POSIX\u512a\u5148\u5ea6 POSIX\u512a\u5148\u5ea6\u8ab2\u91d1\u4fc2\u6570 Spot \u30c7\u30d5\u30a9\u30eb\u30c8\u5024 -500 1.0 \u512a\u5148\u5b9f\u884c -400 1.5 Spot\u30b5\u30fc\u30d3\u30b9\u304a\u3088\u3073On-demand\u30b5\u30fc\u30d3\u30b9\u6bce\u306e\u4f7f\u7528ABCI\u30dd\u30a4\u30f3\u30c8\u306e\u8a08\u7b97\u5f0f\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 ABCI point = \u30b5\u30fc\u30d3\u30b9\u8ab2\u91d1\u4fc2\u6570 \u00d7 \u8cc7\u6e90\u30bf\u30a4\u30d7\u8ab2\u91d1\u4fc2\u6570 \u00d7 \u8cc7\u6e90\u30bf\u30a4\u30d7\u500b\u6570 \u00d7 POSIX \u512a\u5148\u5ea6\u8ab2\u91d1\u4fc2\u6570 \u00d7 max(\u7d4c\u904e\u6642\u9593[\u79d2], \u6700\u4f4e\u7d4c\u904e\u6642\u9593[\u79d2]) / 3600 Note \u5c0f\u6570\u70b95\u4f4d\u4ee5\u4e0b\u306f\u5207\u308a\u6368\u3066\u3089\u308c\u307e\u3059\u3002 \u6700\u4f4e\u7d4c\u904e\u6642\u9593\u3088\u308a\u77ed\u3044\u7d4c\u904e\u6642\u9593\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\u305f\u5834\u5408\u3001ABCI\u30dd\u30a4\u30f3\u30c8\u306f\u6700\u4f4e\u7d4c\u904e\u6642\u9593\u3092\u5143\u306b\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002 Reserved\u30b5\u30fc\u30d3\u30b9\u6bce\u306e\u4f7f\u7528ABCI\u30dd\u30a4\u30f3\u30c8\u306e\u8a08\u7b97\u5f0f\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 ABCI point = \u30b5\u30fc\u30d3\u30b9\u8ab2\u91d1\u4fc2\u6570 \u00d7 \u4e88\u7d04\u30ce\u30fc\u30c9\u6570 \u00d7 \u4e88\u7d04\u65e5\u6570 \u00d7 24 3.3. \u30b8\u30e7\u30d6\u5b9f\u884c\u30aa\u30d7\u30b7\u30e7\u30f3 \u30d0\u30c3\u30c1\u5229\u7528\u306e\u5834\u5408\u306f\u3001 qsub \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u5229\u7528\u306e\u5834\u5408\u306f\u3001 qrsh \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 qsub \u30b3\u30de\u30f3\u30c9\u304a\u3088\u3073 qrsh \u30b3\u30de\u30f3\u30c9\u306e\u4e3b\u8981\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -g group ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7\u3092 group \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -l resource_type = num \u8cc7\u6e90\u30bf\u30a4\u30d7 resource_type \u3068\u3001\u305d\u306e\u500b\u6570 num \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u672c\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u6307\u5b9a\u5fc5\u9808\u3067\u3059\u3002 -l h_rt=[ HH:MM: ] SS \u7d4c\u904e\u6642\u9593\u5236\u9650\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002[ HH: MM: ] SS*\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u6642\u9593\u304c\u6307\u5b9a\u3057\u305f\u6642\u9593\u3092\u8d85\u904e\u3057\u305f\u5834\u5408\u3001\u30b8\u30e7\u30d6\u306f\u5f37\u5236\u7d42\u4e86\u3055\u308c\u307e\u3059\u3002 -N name \u30b8\u30e7\u30d6\u540d\u3092 name \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u3001\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u540d\u3067\u3059\u3002 -o stdout_name \u6a19\u6e96\u51fa\u529b\u540d\u3092 stdout_name \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -p priority Spot\u30b5\u30fc\u30d3\u30b9\u3067POSIX\u512a\u5148\u5ea6\u3092 priority \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -e stderr_name \u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u540d\u3092 stderr_name \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -j y \u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u3092\u6a19\u6e96\u51fa\u529b\u306b\u30de\u30fc\u30b8\u3057\u307e\u3059\u3002 -m a \u30b8\u30e7\u30d6\u304c\u5b9f\u884c\u4e2d\u6b62\u3055\u308c\u305f\u5834\u5408\u306b\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002 -m b \u30b8\u30e7\u30d6\u5b9f\u884c\u958b\u59cb\u6642\u306b\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002 -m e \u30b8\u30e7\u30d6\u5b9f\u884c\u7d42\u4e86\u6642\u306b\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002 -t n [ -m [ :s ]] \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u30bf\u30b9\u30afID\u3092 n [ -m [ :s ]]\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 n \u306f\u958b\u59cb\u756a\u53f7\u3001 m \u306f\u7d42\u4e86\u756a\u53f7\u3001 s \u306f\u30b9\u30c6\u30c3\u30d7\u30b5\u30a4\u30ba\u3092\u8868\u3057\u307e\u3059\u3002 -hold_jid job_id \u4f9d\u5b58\u95a2\u4fc2\u306b\u3042\u308b\u30b8\u30e7\u30d6ID\u3092 job_id \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u6307\u5b9a\u3055\u308c\u305f\u4f9d\u5b58\u30b8\u30e7\u30d6\u304c\u7d42\u4e86\u3059\u308b\u307e\u3067\u30b8\u30e7\u30d6\u306f\u5b9f\u884c\u958b\u59cb\u3055\u308c\u307e\u305b\u3093\u3002 -ar ar_id \u4e88\u7d04\u3057\u305f\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u5229\u7528\u3059\u308b\u969b\u306b\u4e88\u7d04ID(AR-ID)\u3092 ar_id \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 3.4. \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u5229\u7528 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001 qrsh \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u5b9f\u884c\u6642\u306bABCI\u30dd\u30a4\u30f3\u30c8\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u306b\u5931\u6557\u3057\u307e\u3059\u3002 $ qrsh - g group - l resource_type = num [ options ] \u4f8b) \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u3092\u5b9f\u884c [ username@es1 ~ ] $ qrsh - g grpname - l rt_F = 1 [ username@g0001 ~ ] $ X Window \u3092\u5229\u7528\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078X\u8ee2\u9001\u3092\u6709\u52b9\u306b\u3057\u3066\uff08 -X \u3082\u3057\u304f\u306f -Y \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\uff09\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [ yourpc ~ ] $ ssh - XC - p 10022 - l username localhost \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u3092\u6295\u5165\u3059\u308b\u969b\u306b -pty yes -display $DISPLAY -v TERM /bin/bash \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 [username @ es1 ~ ] $ qrsh - g grpname - l rt_F = 1 - pty yes - display $ DISPLAY - v TERM / bin / bash [username @ g0001 ~ ] $ xterm <- X\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8d77\u52d5 3.5. \u30d0\u30c3\u30c1\u5229\u7528 ABCI\u30b7\u30b9\u30c6\u30e0\u3092\u30d0\u30c3\u30c1\u5229\u7528\u3059\u308b\u5834\u5408\u3001\u5b9f\u884c\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u306f\u5225\u306b\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f\u5229\u7528\u3059\u308b\u8cc7\u6e90\u30bf\u30a4\u30d7\u540d\u3001\u7d4c\u904e\u6642\u9593\u5236\u9650\u5024\u306a\u3069\u306e\u8cc7\u6e90\u306a\u3069\u306e\u30b8\u30e7\u30d6\u5b9f\u884c\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8a18\u8ff0\u3057\u305f\u4e0a\u3067\u3001 \u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u5217\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002 #!/bin/bash #$ -l rt_F=1 #$ -l h_rt=1:23:45 #$ -j y #$ -cwd [ Environment Modules \u306e\u521d\u671f\u5316 ] [ Environment Modules \u306e\u8a2d\u5b9a ] [ \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c ] \u4f8b) CUDA\u3092\u5229\u7528\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4f8b #!/bin/bash #$-l rt_F=1 #$-j y #$-cwd source /etc/profile.d/modules.sh module load cuda/9.2/9.2.88.1 ./a.out 3.5.1. \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u6295\u5165 \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u3001 qsub \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u6295\u5165\u6642\u306bABCI\u30dd\u30a4\u30f3\u30c8\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u6295\u5165\u306b\u5931\u6557\u3057\u307e\u3059\u3002 $ qsub - g group [ options ] script_name \u4f8b) \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8run.sh\u3092\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3068\u3057\u3066\u6295\u5165 [ username@es1 ~ ] $ qsub - g grpname run . sh Your job 12345 ( \"run.sh\" ) has been submitted Warning -g \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u306b\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002 3.5.2. \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u72b6\u614b\u306e\u78ba\u8a8d \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3092\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001 qstat \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002 $ qstat [ options ] qstat \u30b3\u30de\u30f3\u30c9\u306e\u4e3b\u8981\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -r \u30b8\u30e7\u30d6\u306e\u30ea\u30bd\u30fc\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002 -j \u30b8\u30e7\u30d6\u306b\u95a2\u3059\u308b\u8ffd\u52a0\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002 \u4f8b) [ username@es1 ~ ] $ qstat job - ID prior name user state submit / start at queue jclass slots ja - task - ID ------------------------------------------------------------------------------------------------------------------------------------------------ 12345 0.25586 run . sh username r 06 / 27 / 2018 21 : 14 : 49 gpu @g0001 80 \u9805\u76ee \u8aac\u660e job-ID \u30b8\u30e7\u30d6ID prior \u30b8\u30e7\u30d6\u512a\u5148\u5ea6 name \u30b8\u30e7\u30d6\u540d user \u30b8\u30e7\u30d6\u306e\u30aa\u30fc\u30ca\u30fc state \u30b8\u30e7\u30d6\u72b6\u614b (r: \u5b9f\u884c\u4e2d\u3001qw: \u5f85\u6a5f\u4e2d\u3001d: \u524a\u9664\u4e2d\u3001E: \u30a8\u30e9\u30fc\u72b6\u614b) submit/start at \u30b8\u30e7\u30d6\u6295\u5165/\u958b\u59cb\u6642\u523b queue \u30ad\u30e5\u30fc\u540d jclass \u30b8\u30e7\u30d6\u30af\u30e9\u30b9\u540d slots \u30b8\u30e7\u30d6\u30b9\u30ed\u30c3\u30c8\u6570 (\u30ce\u30fc\u30c9\u6570 x 80) ja-task-ID \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u30bf\u30b9\u30afID 3.5.3. \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u524a\u9664 \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3092\u524a\u9664\u3059\u308b\u306b\u306f\u3001 qdel \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002 $ qdel job_id \u4f8b) \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3092\u524a\u9664 [ username @ es1 ~ ]$ qstat job - ID prior name user state submit / start at queue jclass slots ja - task - ID ------------------------------------------------------------------------------------------------------------------------------------------------ 12345 0 . 25586 run . sh username r 06 / 27 / 2018 21 : 14 : 49 gpu @ g0001 80 [ username @ es1 ~ ]$ qdel 12345 username has registered the job 12345 for deletion 3.5.4. \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u6a19\u6e96\u51fa\u529b\u3068\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u6a19\u6e96\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u3068\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30b8\u30e7\u30d6\u5b9f\u884c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3082\u3057\u304f\u306f\u3001 \u30b8\u30e7\u30d6\u6295\u5165\u6642\u306b\u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 \u6a19\u6e96\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u30b8\u30e7\u30d6\u5b9f\u884c\u4e2d\u306e\u6a19\u6e96\u51fa\u529b\u3001\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u30b8\u30e7\u30d6\u5b9f\u884c\u4e2d\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 \u30b8\u30e7\u30d6\u6295\u5165\u6642\u306b\u3001\u6a19\u6e96\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u3001\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 (job_name) .o (job_id) --- \u6a19\u6e96\u51fa\u529b\u30d5\u30a1\u30a4\u30eb (job_name) .e (job_id) --- \u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u30d5\u30a1\u30a4\u30eb \u4f8b\uff09\u30b8\u30e7\u30d6\u540d\u304crun.sh\u3001\u30b8\u30e7\u30d6ID\u304c12345\u306e\u5834\u5408 \u6a19\u6e96\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d\uff1arun.sh.o12345 \u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d\uff1arun.sh.e12345 3.5.5. \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u7d71\u8a08\u60c5\u5831\u51fa\u529b \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u7d71\u8a08\u60c5\u5831\u3092\u51fa\u529b\u3059\u308b\u306b\u306f\u3001 qacct \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002 $ qacct [ options ] qacct \u30b3\u30de\u30f3\u30c9\u306e\u4e3b\u8981\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -g group group \u306e\u30b8\u30e7\u30d6\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002 -j job_id job_id \u306e\u30b8\u30e7\u30d6\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002 -t n [ -m [ :s ]] \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u30bf\u30b9\u30afID\u3092 n [ -m [ :s ]]\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u6307\u5b9a\u3055\u308c\u305f\u30bf\u30b9\u30afID\u306b\u30de\u30c3\u30c1\u3059\u308b\u30b8\u30e7\u30d6\u306e\u60c5\u5831\u306e\u307f\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u672c\u30aa\u30d7\u30b7\u30e7\u30f3\u306f-j\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306e\u307f\u4f7f\u7528\u53ef\u80fd\u3067\u3059\u3002 \u4f8b) \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u7d71\u8a08\u60c5\u5831\u3092\u53c2\u7167 [ username@es1 ~ ] $ qacct - j 12345 ============================================================== qname gpu hostname g0001 group group owner username project group department group jobname run . sh jobnumber 12345 taskid undefined account username priority 0 cwd NONE submit_host es1 . abci . local submit_cmd / bb / system / uge / latest / bin / lx - amd64 / qsub - P username - l h_rt = 600 - l rt_F = 1 qsub_time 07 / 01 / 2018 11 : 55 : 14.706 start_time 07 / 01 / 2018 11 : 55 : 18.170 end_time 07 / 01 / 2018 11 : 55 : 18.190 granted_pe perack17 slots 80 failed 0 deleted_by NONE exit_status 0 ru_wallclock 0.020 ru_utime 0.010 ru_stime 0.013 ru_maxrss 6480 ru_ixrss 0 ru_ismrss 0 ru_idrss 0 ru_isrss 0 ru_minflt 1407 ru_majflt 0 ru_nswap 0 ru_inblock 0 ru_oublock 8 ru_msgsnd 0 ru_msgrcv 0 ru_nsignals 0 ru_nvcsw 13 ru_nivcsw 1 wallclock 3.768 cpu 0.022 mem 0.000 io 0.000 iow 0.000 ioops 0 maxvmem 0.000 maxrss 0.000 maxpss 0.000 arid undefined jc_name NONE \u4e3b\u306a\u8868\u793a\u9805\u76ee\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u305d\u306e\u4ed6\u9805\u76ee\u306e\u8a73\u7d30\u306f man sge_accounting \u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 \u9805\u76ee \u8aac\u660e jobnunmber \u30b8\u30e7\u30d6ID taskid \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u30bf\u30b9\u30afID qsub_time \u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u6295\u5165\u6642\u523b start_time \u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u958b\u59cb\u6642\u523b end_time \u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d42\u4e86\u6642\u523b failed \u30b8\u30e7\u30d6\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306e\u30b8\u30e7\u30d6\u7d42\u4e86\u30b3\u30fc\u30c9 exit_status \u30b8\u30e7\u30d6\u306e\u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9 wallclock \u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u6642\u9593(\u524d\u5f8c\u51e6\u7406\u3092\u542b\u3080) 3.5.6. \u74b0\u5883\u5909\u6570 \u30b8\u30e7\u30d6\u5b9f\u884c\u4e2d\u306b\u3001\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u3082\u3057\u304f\u306f\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u5229\u7528\u3067\u304d\u308b\u74b0\u5883\u5909\u6570\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u74b0\u5883\u5909\u6570 \u8aac\u660e ENVIRONMENT \u30b8\u30e7\u30d6\u306e\u5834\u5408\u3001\"BATCH\"\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u308b JOB_ID \u30b8\u30e7\u30d6ID JOB_NAME \u30b8\u30e7\u30d6\u540d JOB_SCRIPT \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u540d NHOSTS \u30b8\u30e7\u30d6\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30db\u30b9\u30c8\u6570 PE_HOSTFILE \u30b8\u30e7\u30d6\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30db\u30b9\u30c8\u3001\u30b9\u30ed\u30c3\u30c8\u3001\u30ad\u30e5\u30fc\u540d\u304c\u8a18\u8f09\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d1\u30b9 RESTARTED \u30b8\u30e7\u30d6\u304c\u518d\u5b9f\u884c\u3055\u308c\u305f\u5834\u5408\u306f1\u3001\u305d\u308c\u4ee5\u5916\u306f0 SGE_JOB_HOSTLIST \u30b8\u30e7\u30d6\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30db\u30b9\u30c8\u304c\u8a18\u8f09\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d1\u30b9 SGE_LOCALDIR \u30b8\u30e7\u30d6\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u306e\u30d1\u30b9 SGE_O_WORKDIR \u30b8\u30e7\u30d6\u6295\u5165\u6642\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u306e\u30d1\u30b9 SGE_TASK_ID \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u30bf\u30b9\u30afID(\u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u3067\u306a\u3044\u5834\u5408\u306f\"undefined\") SGE_TASK_FIRST \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u6700\u521d\u306e\u30bf\u30b9\u30afID SGE_TASK_LAST \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u6700\u5f8c\u306e\u30bf\u30b9\u30afID SGE_TASK_STEPSIZE \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u30b9\u30c6\u30c3\u30d7\u30b5\u30a4\u30ba 3.6. \u4e8b\u524d\u4e88\u7d04 Reserved\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u4e8b\u524d\u306b\u4e88\u7d04\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u8a08\u753b\u7684\u306a\u30b8\u30e7\u30d6\u5b9f\u884c\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002 \u9805\u76ee \u8aac\u660e \u6700\u5c0f\u4e88\u7d04\u65e5\u6570 1\u65e5 \u6700\u5927\u4e88\u7d04\u65e5\u6570 30\u65e5 \u30b7\u30b9\u30c6\u30e0\u3042\u305f\u308a\u306e\u6700\u5927\u540c\u6642\u4e88\u7d04\u53ef\u80fd\u30ce\u30fc\u30c9\u6570 442\u30ce\u30fc\u30c9 1\u4e88\u7d04\u3042\u305f\u308a\u306e\u6700\u5927\u4e88\u7d04\u30ce\u30fc\u30c9\u6570 32 1\u4e88\u7d04\u3042\u305f\u308a\u306e\u6700\u5927\u4e88\u7d04\u30ce\u30fc\u30c9\u6642\u9593\u7a4d 12,288\u30ce\u30fc\u30c9\u6642\u9593\u7a4d \u4e88\u7d04\u53d7\u4ed8\u958b\u59cb\u6642\u523b 30\u65e5\u524d\u306e\u5348\u524d10\u6642 \u4e88\u7d04\u53d7\u4ed8\u7de0\u5207\u6642\u523b \u4e88\u7d04\u958b\u59cb\u524d\u65e5\u306e\u5348\u5f8c9\u6642 \u4e88\u7d04\u53d6\u6d88\u53d7\u4ed8\u671f\u9593 \u4e88\u7d04\u958b\u59cb\u524d\u65e5\u306e\u5348\u5f8c9\u6642 \u4e88\u7d04\u958b\u59cb\u6642\u523b \u4e88\u7d04\u958b\u59cb\u65e5\u306e\u5348\u524d10\u6642 \u4e88\u7d04\u7d42\u4e86\u6642\u523b \u4e88\u7d04\u7d42\u4e86\u65e5\u306e\u5348\u524d9\u664230\u5206 3.6.1. \u4e88\u7d04\u306e\u5b9f\u884c Warning \u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u4e88\u7d04\u306f\u3001\u5229\u7528\u8cac\u4efb\u8005\u3082\u3057\u304f\u306f\u5229\u7528\u7ba1\u7406\u8005\u306e\u307f\u304c\u5b9f\u65bd\u3067\u304d\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u4e88\u7d04\u3059\u308b\u306b\u306f\u3001 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u3082\u3057\u304f\u306f qrsub \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 $ qrsub options \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -a YYYYMMDD \u4e88\u7d04\u958b\u59cb\u65e5\u3092 YYYYMMDD \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -d days \u4e88\u7d04\u65e5\u6570\u3092 days \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u306f\u6392\u4ed6\u3067\u3059\u3002 -e YYYYMMDD \u4e88\u7d04\u7d42\u4e86\u65e5\u3092 YYYYMMDD \u6307\u5b9a\u3057\u307e\u3059\u3002-d\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u306f\u6392\u4ed6\u3067\u3059\u3002 -g group ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7\u3092 group \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -N name \u4e88\u7d04\u540d\u3092 name \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u82f1\u6570\u5b57\u304a\u3088\u3073\u30a2\u30f3\u30c0\u30fc\u30d0\u30fc\u306e\u307f\u6307\u5b9a\u53ef\u80fd\u3067\u3001\u6700\u592764\u6587\u5b57\u307e\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 -n nnnode \u4e88\u7d04\u3059\u308b\u30ce\u30fc\u30c9\u6570\u3092 nnnode \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 \u4f8b) 2018\u5e747\u67085\u65e5\u304b\u30891\u9031\u9593 (7\u65e5\u9593) \u8a08\u7b97\u30ce\u30fc\u30c94\u53f0\u3092\u4e88\u7d04 [ username@es1 ~ ] $ qrsub - a 20180705 - d 7 - g grpname - n 4 - N \"Reserve_for_AI\" Your advance reservation 12345 has been granted \u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u4e88\u7d04\u304c\u5b8c\u4e86\u3057\u305f\u6642\u70b9\u3067ABCI\u30dd\u30a4\u30f3\u30c8\u3092\u6d88\u8cbb\u3057\u307e\u3059\u3002 3.6.2. \u4e88\u7d04\u72b6\u614b\u306e\u78ba\u8a8d \u4e88\u7d04\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u3082\u3057\u304f\u306f qrstat \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u4f8b) [ username @ es1 ~ ]$ qrstat ar - id name owner state start at end at duration sr ---------------------------------------------------------------------------------------------------- 12345 Reserve_fo root w 07 / 05 / 2018 10 : 00 : 00 07 / 12 / 2018 09 : 30 : 00 167 : 30 : 00 false \u9805\u76ee \u8aac\u660e ar-id \u4e88\u7d04ID (AR-ID) name \u4e88\u7d04\u540d owner \u5e38\u306broot\u3068\u8868\u793a state \u4e88\u7d04\u72b6\u614b start at \u4e88\u7d04\u958b\u59cb\u65e5 (\u4e88\u7d04\u958b\u59cb\u6642\u523b\u306f\u5e38\u306b\u5348\u524d10\u6642) end at \u4e88\u7d04\u7d42\u4e86\u65e5 (\u4e88\u7d04\u7d42\u4e86\u6642\u523b\u306f\u5e38\u306b\u5348\u524d9\u664230\u5206) duration \u4e88\u7d04\u671f\u9593 (hhh:mm:ss) sr \u5e38\u306bfalse\u3068\u8868\u793a \u30b7\u30b9\u30c6\u30e0\u3042\u305f\u308a\u306e\u4e88\u7d04\u53ef\u80fd\u30ce\u30fc\u30c9\u6570\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u3082\u3057\u304f\u306f qrstat \u30b3\u30de\u30f3\u30c9\u306e --available \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ qrstat --available 06 / 27 / 2018 441 07 / 05 / 2018 432 07 / 06 / 2018 434 Note \u8a08\u7b97\u30ce\u30fc\u30c9\u304c\u4e88\u7d04\u3055\u308c\u3066\u3044\u306a\u3044\u65e5\u4ed8\u306f\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002 3.6.3. \u4e88\u7d04\u306e\u53d6\u308a\u6d88\u3057 Warning \u4e88\u7d04\u306e\u53d6\u6d88\u306f\u5229\u7528\u8cac\u4efb\u8005\u3082\u3057\u304f\u306f\u5229\u7528\u7ba1\u7406\u8005\u306e\u307f\u304c\u5b9f\u65bd\u3067\u304d\u307e\u3059\u3002 \u4e88\u7d04\u3092\u53d6\u308a\u6d88\u3059\u306b\u306f\u3001 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u3082\u3057\u304f\u306f qrdel \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u4f8b) \u4e88\u7d04\u3092\u53d6\u6d88 [ username@es1 ~ ] $ qrdel 12345","title":"3. \u30b8\u30e7\u30d6\u5b9f\u884c\u74b0\u5883"},{"location":"03/#3","text":"","title":"3. \u30b8\u30e7\u30d6\u5b9f\u884c\u74b0\u5883"},{"location":"03/#job-services","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30b8\u30e7\u30d6\u30b5\u30fc\u30d3\u30b9\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u30b5\u30fc\u30d3\u30b9\u540d \u8aac\u660e \u30b5\u30fc\u30d3\u30b9\u8ab2\u91d1\u4fc2\u6570 \u5229\u7528\u5f62\u614b Spot \u30d0\u30c3\u30c1\u5b9f\u884c\u578b\u30b8\u30e7\u30d6\u30b5\u30fc\u30d3\u30b9 1.0 \u30d0\u30c3\u30c1\u5229\u7528 On-demand \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u5b9f\u884c\u578b\u30b8\u30e7\u30d6\u30b5\u30fc\u30d3\u30b9 1.0 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u5229\u7528 Reserved \u4e8b\u524d\u4e88\u7d04\u578b\u30b8\u30e7\u30d6\u30b5\u30fc\u30d3\u30b9 1.5 \u30d0\u30c3\u30c1\u5229\u7528\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u5229\u7528 Spot\u30b5\u30fc\u30d3\u30b9\u304a\u3088\u3073On-demand\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001\u30b8\u30e7\u30d6\u5b9f\u884c\u958b\u59cb\u6642\u306b\u30b8\u30e7\u30d6\u304c\u4f7f\u7528\u4e88\u5b9a\u306eABCI\u30dd\u30a4\u30f3\u30c8\u3092\u7d4c\u904e\u6642\u9593\u5236\u9650\u5024\u3092\u5143\u306b\u8a08\u7b97\u3057\u3001 \u6e1b\u7b97\u51e6\u7406\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002 \u30b8\u30e7\u30d6\u5b9f\u884c\u7d42\u4e86\u6642\u306b\u5b9f\u969b\u306e\u7d4c\u904e\u6642\u9593\u3092\u5143\u306bABCI\u30dd\u30a4\u30f3\u30c8\u3092\u518d\u8a08\u7b97\u3057\u3001\u8fd4\u5374\u51e6\u7406\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002 Reserved\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001\u4e88\u7d04\u5b8c\u4e86\u6642\u306b\u4e88\u7d04\u671f\u9593\u3092\u5143\u306bABCI\u30dd\u30a4\u30f3\u30c8\u3092\u8a08\u7b97\u3057\u3001\u6e1b\u7b97\u51e6\u7406\u3092\u5b9f\u65bd\u3057\u307e\u3059\u3002\u4e88\u7d04\u3092\u53d6\u6d88\u3057\u306a\u3044\u9650\u308a\u3001\u8fd4\u5374\u51e6\u7406\u306f\u5b9f\u65bd\u3057\u307e\u305b\u3093\u3002","title":"3.1. \u30b8\u30e7\u30d6\u30b5\u30fc\u30d3\u30b9\u30e1\u30cb\u30e5\u30fc"},{"location":"03/#job-executing-resource","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u8ad6\u7406\u7684\u306b\u5206\u5272\u3057\u305f\u8cc7\u6e90\u30bf\u30a4\u30d7\u3092\u5229\u7528\u3057\u3066\u3001\u30b8\u30e7\u30d6\u306b\u30b7\u30b9\u30c6\u30e0\u30ea\u30bd\u30fc\u30b9\u3092\u5272\u308a\u5f53\u3066\u307e\u3059\u3002 \u30b8\u30e7\u30d6\u3092\u6295\u5165/\u5b9f\u884c\u3059\u308b\u969b\u306b\u306f\u3001\u8cc7\u6e90\u30bf\u30a4\u30d7\u540d\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u8cc7\u6e90\u30bf\u30a4\u30d7 \u8cc7\u6e90\u30bf\u30a4\u30d7\u540d \u8aac\u660e \u5272\u308a\u5f53\u3066\u7269\u7406CPU\u30b3\u30a2\u6570 \u5272\u308a\u5f53\u3066GPU\u6570 \u30e1\u30e2\u30ea (GiB) \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8 (GB) \u8cc7\u6e90\u30bf\u30a4\u30d7\u8ab2\u91d1\u4fc2\u6570 Full rt_F \u30ce\u30fc\u30c9\u5360\u6709 40 4 360 1440 1.00 G.large rt_G.large \u30ce\u30fc\u30c9\u5171\u6709 GPU\u5229\u7528 20 4 240 720 0.90 G.small rt_G.small \u30ce\u30fc\u30c9\u5171\u6709 GPU\u5229\u7528 5 1 60 180 0.30 C.large rt_C.large \u30ce\u30fc\u30c9\u5171\u6709 CPU\u306e\u307f\u5229\u7528 20 0 120 720 0.60 C.small rt_C.small \u30ce\u30fc\u30c9\u5171\u6709 CPU\u306e\u307f\u5229\u7528 5 0 30 180 0.20 \u8907\u6570\u30ce\u30fc\u30c9\u3092\u4f7f\u7528\u3059\u308b\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u5360\u6709\u3059\u308b\u8cc7\u6e90\u30bf\u30a4\u30d7 rt_F \u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Warning \u30ce\u30fc\u30c9\u5171\u6709\u306e\u8cc7\u6e90\u30bf\u30a4\u30d7\u3067\u306f\u3001\u30b8\u30e7\u30d6\u306e\u30d7\u30ed\u30bb\u30b9\u60c5\u5831\u306f\u540c\u4e00\u30ce\u30fc\u30c9\u3067\u5b9f\u884c\u3055\u308c\u3066\u3044\u308b\u4ed6\u306e\u30b8\u30e7\u30d6\u304b\u3089\u53c2\u7167\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002 \u4ed6\u306e\u30b8\u30e7\u30d6\u304b\u3089\u53c2\u7167\u3055\u305b\u305f\u304f\u306a\u3044\u5834\u5408\u3001\u8cc7\u6e90\u30bf\u30a4\u30d7 rt_F \u3092\u6307\u5b9a\u3057\u30ce\u30fc\u30c9\u5360\u6709\u3067\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u304f\u3060\u3055\u3044\u3002 \u30b5\u30fc\u30d3\u30b9\u6bce\u306b\u5229\u7528\u53ef\u80fd\u306a\u8cc7\u6e90\u30bf\u30a4\u30d7\u540d\u304a\u3088\u3073\u500b\u6570\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u30b5\u30fc\u30d3\u30b9\u540d \u8cc7\u6e90\u30bf\u30a4\u30d7\u540d \u500b\u6570\u306e\u7bc4\u56f2 Spot rt_F 1-512 rt_G.large 1 rt_G.small 1 rt_C.large 1 rt_C.small 1 On-demand rt_F 1-32 rt_G.large 1 rt_G.small 1 rt_C.large 1 rt_C.small 1 Reserved rt_F 1-\u4e88\u7d04\u30ce\u30fc\u30c9\u6570 rt_G.large 1 rt_G.small 1 rt_C.large 1 rt_C.small 1 \u30b5\u30fc\u30d3\u30b9\u6bce\u306e\u30b8\u30e7\u30d6\u7d4c\u904e\u6642\u9593\u5236\u9650\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u30b5\u30fc\u30d3\u30b9\u540d \u8cc7\u6e90\u30bf\u30a4\u30d7\u540d \u7d4c\u904e\u6642\u9593\u5236\u9650 (\u4e0a\u9650\u5024/\u30c7\u30d5\u30a9\u30eb\u30c8) Spot rt_F 72:00:00/1:00:00 rt_G.large, rt_C.large 72:00:00/1:00:00 rt_G.small, rt_C.small 168:00:00/1:00:00 On-demand rt_F 12:00:00/1:00:00 rt_G.large, rt_C.large 12:00:00/1:00:00 rt_G.small, rt_C.small 12:00:00/1:00:00 Reserved rt_F \u7121\u5236\u9650 rt_G.large, rt_C.large \u7121\u5236\u9650 rt_G.small, rt_C.small \u7121\u5236\u9650 Spot\u304a\u3088\u3073On-demand\u3067\u8907\u6570\u30ce\u30fc\u30c9\u3092\u4f7f\u7528\u3059\u308b\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u3001\u30ce\u30fc\u30c9\u6642\u9593\u7a4d\uff08\u4f7f\u7528\u30ce\u30fc\u30c9\u6570 \u00d7 \u5b9f\u884c\u6642\u9593\uff09\u306b\u4ee5\u4e0b\u306e\u5236\u7d04\u304c\u304b\u304b\u308a\u307e\u3059\u3002 \u30b5\u30fc\u30d3\u30b9\u540d \u30ce\u30fc\u30c9\u6642\u9593\u7a4d\u306e\u6700\u5927\u5024 Spot 2304 nodes \u00b7 hours On-demand 12 nodes \u00b7 hours \u30b8\u30e7\u30d6\u30b5\u30fc\u30d3\u30b9\u30b8\u30e7\u30d6\u306b\u304a\u3051\u308b\u30b8\u30e7\u30d6\u6295\u5165\u6570\u304a\u3088\u3073\u5b9f\u884c\u6570\u5236\u9650\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u5236\u9650\u9805\u76ee \u5236\u9650\u5024 \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u3042\u305f\u308a\u306e\u6700\u5927\u6295\u5165\u53ef\u80fd\u30bf\u30b9\u30af\u6570 75000 ABCI \u30a2\u30ab\u30a6\u30f3\u30c8\u3042\u305f\u308a\u306e\u540c\u6642\u6295\u5165\u53ef\u80fd\u30b8\u30e7\u30d6\u6570 1000 ABCI \u30a2\u30ab\u30a6\u30f3\u30c8\u3042\u305f\u308a\u306e\u540c\u6642\u5b9f\u884c\u30b8\u30e7\u30d6\u6570 200 Spot\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001POSIX\u512a\u5148\u5ea6\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067\u4ed6\u30b8\u30e7\u30d6\u3088\u308a\u512a\u5148\u7684\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 \u30b5\u30fc\u30d3\u30b9\u540d \u8aac\u660e POSIX\u512a\u5148\u5ea6 POSIX\u512a\u5148\u5ea6\u8ab2\u91d1\u4fc2\u6570 Spot \u30c7\u30d5\u30a9\u30eb\u30c8\u5024 -500 1.0 \u512a\u5148\u5b9f\u884c -400 1.5 Spot\u30b5\u30fc\u30d3\u30b9\u304a\u3088\u3073On-demand\u30b5\u30fc\u30d3\u30b9\u6bce\u306e\u4f7f\u7528ABCI\u30dd\u30a4\u30f3\u30c8\u306e\u8a08\u7b97\u5f0f\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 ABCI point = \u30b5\u30fc\u30d3\u30b9\u8ab2\u91d1\u4fc2\u6570 \u00d7 \u8cc7\u6e90\u30bf\u30a4\u30d7\u8ab2\u91d1\u4fc2\u6570 \u00d7 \u8cc7\u6e90\u30bf\u30a4\u30d7\u500b\u6570 \u00d7 POSIX \u512a\u5148\u5ea6\u8ab2\u91d1\u4fc2\u6570 \u00d7 max(\u7d4c\u904e\u6642\u9593[\u79d2], \u6700\u4f4e\u7d4c\u904e\u6642\u9593[\u79d2]) / 3600 Note \u5c0f\u6570\u70b95\u4f4d\u4ee5\u4e0b\u306f\u5207\u308a\u6368\u3066\u3089\u308c\u307e\u3059\u3002 \u6700\u4f4e\u7d4c\u904e\u6642\u9593\u3088\u308a\u77ed\u3044\u7d4c\u904e\u6642\u9593\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3057\u305f\u5834\u5408\u3001ABCI\u30dd\u30a4\u30f3\u30c8\u306f\u6700\u4f4e\u7d4c\u904e\u6642\u9593\u3092\u5143\u306b\u8a08\u7b97\u3055\u308c\u307e\u3059\u3002 Reserved\u30b5\u30fc\u30d3\u30b9\u6bce\u306e\u4f7f\u7528ABCI\u30dd\u30a4\u30f3\u30c8\u306e\u8a08\u7b97\u5f0f\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 ABCI point = \u30b5\u30fc\u30d3\u30b9\u8ab2\u91d1\u4fc2\u6570 \u00d7 \u4e88\u7d04\u30ce\u30fc\u30c9\u6570 \u00d7 \u4e88\u7d04\u65e5\u6570 \u00d7 24","title":"3.2. \u30b8\u30e7\u30d6\u5b9f\u884c\u30ea\u30bd\u30fc\u30b9"},{"location":"03/#job-executing-options","text":"\u30d0\u30c3\u30c1\u5229\u7528\u306e\u5834\u5408\u306f\u3001 qsub \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u5229\u7528\u306e\u5834\u5408\u306f\u3001 qrsh \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 qsub \u30b3\u30de\u30f3\u30c9\u304a\u3088\u3073 qrsh \u30b3\u30de\u30f3\u30c9\u306e\u4e3b\u8981\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -g group ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7\u3092 group \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -l resource_type = num \u8cc7\u6e90\u30bf\u30a4\u30d7 resource_type \u3068\u3001\u305d\u306e\u500b\u6570 num \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u672c\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u6307\u5b9a\u5fc5\u9808\u3067\u3059\u3002 -l h_rt=[ HH:MM: ] SS \u7d4c\u904e\u6642\u9593\u5236\u9650\u5024\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002[ HH: MM: ] SS*\u3067\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u6642\u9593\u304c\u6307\u5b9a\u3057\u305f\u6642\u9593\u3092\u8d85\u904e\u3057\u305f\u5834\u5408\u3001\u30b8\u30e7\u30d6\u306f\u5f37\u5236\u7d42\u4e86\u3055\u308c\u307e\u3059\u3002 -N name \u30b8\u30e7\u30d6\u540d\u3092 name \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u306f\u3001\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u540d\u3067\u3059\u3002 -o stdout_name \u6a19\u6e96\u51fa\u529b\u540d\u3092 stdout_name \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -p priority Spot\u30b5\u30fc\u30d3\u30b9\u3067POSIX\u512a\u5148\u5ea6\u3092 priority \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -e stderr_name \u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u540d\u3092 stderr_name \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -j y \u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u3092\u6a19\u6e96\u51fa\u529b\u306b\u30de\u30fc\u30b8\u3057\u307e\u3059\u3002 -m a \u30b8\u30e7\u30d6\u304c\u5b9f\u884c\u4e2d\u6b62\u3055\u308c\u305f\u5834\u5408\u306b\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002 -m b \u30b8\u30e7\u30d6\u5b9f\u884c\u958b\u59cb\u6642\u306b\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002 -m e \u30b8\u30e7\u30d6\u5b9f\u884c\u7d42\u4e86\u6642\u306b\u30e1\u30fc\u30eb\u3092\u9001\u4fe1\u3057\u307e\u3059\u3002 -t n [ -m [ :s ]] \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u30bf\u30b9\u30afID\u3092 n [ -m [ :s ]]\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 n \u306f\u958b\u59cb\u756a\u53f7\u3001 m \u306f\u7d42\u4e86\u756a\u53f7\u3001 s \u306f\u30b9\u30c6\u30c3\u30d7\u30b5\u30a4\u30ba\u3092\u8868\u3057\u307e\u3059\u3002 -hold_jid job_id \u4f9d\u5b58\u95a2\u4fc2\u306b\u3042\u308b\u30b8\u30e7\u30d6ID\u3092 job_id \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u6307\u5b9a\u3055\u308c\u305f\u4f9d\u5b58\u30b8\u30e7\u30d6\u304c\u7d42\u4e86\u3059\u308b\u307e\u3067\u30b8\u30e7\u30d6\u306f\u5b9f\u884c\u958b\u59cb\u3055\u308c\u307e\u305b\u3093\u3002 -ar ar_id \u4e88\u7d04\u3057\u305f\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u5229\u7528\u3059\u308b\u969b\u306b\u4e88\u7d04ID(AR-ID)\u3092 ar_id \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002","title":"3.3. \u30b8\u30e7\u30d6\u5b9f\u884c\u30aa\u30d7\u30b7\u30e7\u30f3"},{"location":"03/#interactive-jobs","text":"\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001 qrsh \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u5b9f\u884c\u6642\u306bABCI\u30dd\u30a4\u30f3\u30c8\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u306b\u5931\u6557\u3057\u307e\u3059\u3002 $ qrsh - g group - l resource_type = num [ options ] \u4f8b) \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u3092\u5b9f\u884c [ username@es1 ~ ] $ qrsh - g grpname - l rt_F = 1 [ username@g0001 ~ ] $ X Window \u3092\u5229\u7528\u3059\u308b\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u306f\u3001 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078X\u8ee2\u9001\u3092\u6709\u52b9\u306b\u3057\u3066\uff08 -X \u3082\u3057\u304f\u306f -Y \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066\uff09\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [ yourpc ~ ] $ ssh - XC - p 10022 - l username localhost \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u3092\u6295\u5165\u3059\u308b\u969b\u306b -pty yes -display $DISPLAY -v TERM /bin/bash \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 [username @ es1 ~ ] $ qrsh - g grpname - l rt_F = 1 - pty yes - display $ DISPLAY - v TERM / bin / bash [username @ g0001 ~ ] $ xterm <- X\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u8d77\u52d5","title":"3.4. \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u5229\u7528"},{"location":"03/#batch-jobs","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3092\u30d0\u30c3\u30c1\u5229\u7528\u3059\u308b\u5834\u5408\u3001\u5b9f\u884c\u3059\u308b\u30d7\u30ed\u30b0\u30e9\u30e0\u3068\u306f\u5225\u306b\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u306b\u306f\u5229\u7528\u3059\u308b\u8cc7\u6e90\u30bf\u30a4\u30d7\u540d\u3001\u7d4c\u904e\u6642\u9593\u5236\u9650\u5024\u306a\u3069\u306e\u8cc7\u6e90\u306a\u3069\u306e\u30b8\u30e7\u30d6\u5b9f\u884c\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u8a18\u8ff0\u3057\u305f\u4e0a\u3067\u3001 \u5b9f\u884c\u3059\u308b\u30b3\u30de\u30f3\u30c9\u5217\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002 #!/bin/bash #$ -l rt_F=1 #$ -l h_rt=1:23:45 #$ -j y #$ -cwd [ Environment Modules \u306e\u521d\u671f\u5316 ] [ Environment Modules \u306e\u8a2d\u5b9a ] [ \u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u5b9f\u884c ] \u4f8b) CUDA\u3092\u5229\u7528\u3057\u305f\u30d7\u30ed\u30b0\u30e9\u30e0\u3092\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4f8b #!/bin/bash #$-l rt_F=1 #$-j y #$-cwd source /etc/profile.d/modules.sh module load cuda/9.2/9.2.88.1 ./a.out","title":"3.5. \u30d0\u30c3\u30c1\u5229\u7528"},{"location":"03/#submit-a-batch-job","text":"\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3092\u5b9f\u884c\u3059\u308b\u5834\u5408\u3001 qsub \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u6295\u5165\u6642\u306bABCI\u30dd\u30a4\u30f3\u30c8\u304c\u4e0d\u8db3\u3057\u3066\u3044\u308b\u5834\u5408\u3001\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u6295\u5165\u306b\u5931\u6557\u3057\u307e\u3059\u3002 $ qsub - g group [ options ] script_name \u4f8b) \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8run.sh\u3092\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3068\u3057\u3066\u6295\u5165 [ username@es1 ~ ] $ qsub - g grpname run . sh Your job 12345 ( \"run.sh\" ) has been submitted Warning -g \u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u3001\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u306b\u306f\u6307\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002","title":"3.5.1. \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u6295\u5165"},{"location":"03/#show-the-status-of-batch-jobs","text":"\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3092\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001 qstat \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002 $ qstat [ options ] qstat \u30b3\u30de\u30f3\u30c9\u306e\u4e3b\u8981\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -r \u30b8\u30e7\u30d6\u306e\u30ea\u30bd\u30fc\u30b9\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002 -j \u30b8\u30e7\u30d6\u306b\u95a2\u3059\u308b\u8ffd\u52a0\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002 \u4f8b) [ username@es1 ~ ] $ qstat job - ID prior name user state submit / start at queue jclass slots ja - task - ID ------------------------------------------------------------------------------------------------------------------------------------------------ 12345 0.25586 run . sh username r 06 / 27 / 2018 21 : 14 : 49 gpu @g0001 80 \u9805\u76ee \u8aac\u660e job-ID \u30b8\u30e7\u30d6ID prior \u30b8\u30e7\u30d6\u512a\u5148\u5ea6 name \u30b8\u30e7\u30d6\u540d user \u30b8\u30e7\u30d6\u306e\u30aa\u30fc\u30ca\u30fc state \u30b8\u30e7\u30d6\u72b6\u614b (r: \u5b9f\u884c\u4e2d\u3001qw: \u5f85\u6a5f\u4e2d\u3001d: \u524a\u9664\u4e2d\u3001E: \u30a8\u30e9\u30fc\u72b6\u614b) submit/start at \u30b8\u30e7\u30d6\u6295\u5165/\u958b\u59cb\u6642\u523b queue \u30ad\u30e5\u30fc\u540d jclass \u30b8\u30e7\u30d6\u30af\u30e9\u30b9\u540d slots \u30b8\u30e7\u30d6\u30b9\u30ed\u30c3\u30c8\u6570 (\u30ce\u30fc\u30c9\u6570 x 80) ja-task-ID \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u30bf\u30b9\u30afID","title":"3.5.2. \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u72b6\u614b\u306e\u78ba\u8a8d"},{"location":"03/#delete-a-batch-job","text":"\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3092\u524a\u9664\u3059\u308b\u306b\u306f\u3001 qdel \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002 $ qdel job_id \u4f8b) \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3092\u524a\u9664 [ username @ es1 ~ ]$ qstat job - ID prior name user state submit / start at queue jclass slots ja - task - ID ------------------------------------------------------------------------------------------------------------------------------------------------ 12345 0 . 25586 run . sh username r 06 / 27 / 2018 21 : 14 : 49 gpu @ g0001 80 [ username @ es1 ~ ]$ qdel 12345 username has registered the job 12345 for deletion","title":"3.5.3. \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u524a\u9664"},{"location":"03/#stdout-and-stderr-of-batch-jobs","text":"\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u6a19\u6e96\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u3068\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306f\u3001\u30b8\u30e7\u30d6\u5b9f\u884c\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3082\u3057\u304f\u306f\u3001 \u30b8\u30e7\u30d6\u6295\u5165\u6642\u306b\u6307\u5b9a\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 \u6a19\u6e96\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u30b8\u30e7\u30d6\u5b9f\u884c\u4e2d\u306e\u6a19\u6e96\u51fa\u529b\u3001\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u306b\u306f\u30b8\u30e7\u30d6\u5b9f\u884c\u4e2d\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 \u30b8\u30e7\u30d6\u6295\u5165\u6642\u306b\u3001\u6a19\u6e96\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u3001\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u3092\u6307\u5b9a\u3057\u306a\u304b\u3063\u305f\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u30d5\u30a1\u30a4\u30eb\u306b\u51fa\u529b\u3055\u308c\u307e\u3059\u3002 (job_name) .o (job_id) --- \u6a19\u6e96\u51fa\u529b\u30d5\u30a1\u30a4\u30eb (job_name) .e (job_id) --- \u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u30d5\u30a1\u30a4\u30eb \u4f8b\uff09\u30b8\u30e7\u30d6\u540d\u304crun.sh\u3001\u30b8\u30e7\u30d6ID\u304c12345\u306e\u5834\u5408 \u6a19\u6e96\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d\uff1arun.sh.o12345 \u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b\u30d5\u30a1\u30a4\u30eb\u540d\uff1arun.sh.e12345","title":"3.5.4. \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u6a19\u6e96\u51fa\u529b\u3068\u6a19\u6e96\u30a8\u30e9\u30fc\u51fa\u529b"},{"location":"03/#report-batch-job-accounting","text":"\u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u7d71\u8a08\u60c5\u5831\u3092\u51fa\u529b\u3059\u308b\u306b\u306f\u3001 qacct \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002 $ qacct [ options ] qacct \u30b3\u30de\u30f3\u30c9\u306e\u4e3b\u8981\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -g group group \u306e\u30b8\u30e7\u30d6\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002 -j job_id job_id \u306e\u30b8\u30e7\u30d6\u306b\u95a2\u3059\u308b\u60c5\u5831\u3092\u8868\u793a\u3057\u307e\u3059\u3002 -t n [ -m [ :s ]] \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u30bf\u30b9\u30afID\u3092 n [ -m [ :s ]]\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u6307\u5b9a\u3055\u308c\u305f\u30bf\u30b9\u30afID\u306b\u30de\u30c3\u30c1\u3059\u308b\u30b8\u30e7\u30d6\u306e\u60c5\u5831\u306e\u307f\u8868\u793a\u3055\u308c\u307e\u3059\u3002\u672c\u30aa\u30d7\u30b7\u30e7\u30f3\u306f-j\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u305f\u5834\u5408\u306e\u307f\u4f7f\u7528\u53ef\u80fd\u3067\u3059\u3002 \u4f8b) \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u7d71\u8a08\u60c5\u5831\u3092\u53c2\u7167 [ username@es1 ~ ] $ qacct - j 12345 ============================================================== qname gpu hostname g0001 group group owner username project group department group jobname run . sh jobnumber 12345 taskid undefined account username priority 0 cwd NONE submit_host es1 . abci . local submit_cmd / bb / system / uge / latest / bin / lx - amd64 / qsub - P username - l h_rt = 600 - l rt_F = 1 qsub_time 07 / 01 / 2018 11 : 55 : 14.706 start_time 07 / 01 / 2018 11 : 55 : 18.170 end_time 07 / 01 / 2018 11 : 55 : 18.190 granted_pe perack17 slots 80 failed 0 deleted_by NONE exit_status 0 ru_wallclock 0.020 ru_utime 0.010 ru_stime 0.013 ru_maxrss 6480 ru_ixrss 0 ru_ismrss 0 ru_idrss 0 ru_isrss 0 ru_minflt 1407 ru_majflt 0 ru_nswap 0 ru_inblock 0 ru_oublock 8 ru_msgsnd 0 ru_msgrcv 0 ru_nsignals 0 ru_nvcsw 13 ru_nivcsw 1 wallclock 3.768 cpu 0.022 mem 0.000 io 0.000 iow 0.000 ioops 0 maxvmem 0.000 maxrss 0.000 maxpss 0.000 arid undefined jc_name NONE \u4e3b\u306a\u8868\u793a\u9805\u76ee\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u305d\u306e\u4ed6\u9805\u76ee\u306e\u8a73\u7d30\u306f man sge_accounting \u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 \u9805\u76ee \u8aac\u660e jobnunmber \u30b8\u30e7\u30d6ID taskid \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u30bf\u30b9\u30afID qsub_time \u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u6295\u5165\u6642\u523b start_time \u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u958b\u59cb\u6642\u523b end_time \u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u7d42\u4e86\u6642\u523b failed \u30b8\u30e7\u30d6\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306e\u30b8\u30e7\u30d6\u7d42\u4e86\u30b3\u30fc\u30c9 exit_status \u30b8\u30e7\u30d6\u306e\u7d42\u4e86\u30b9\u30c6\u30fc\u30bf\u30b9 wallclock \u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u6642\u9593(\u524d\u5f8c\u51e6\u7406\u3092\u542b\u3080)","title":"3.5.5. \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u306e\u7d71\u8a08\u60c5\u5831\u51fa\u529b"},{"location":"03/#environment-variables","text":"\u30b8\u30e7\u30d6\u5b9f\u884c\u4e2d\u306b\u3001\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u3082\u3057\u304f\u306f\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3067\u5229\u7528\u3067\u304d\u308b\u74b0\u5883\u5909\u6570\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u74b0\u5883\u5909\u6570 \u8aac\u660e ENVIRONMENT \u30b8\u30e7\u30d6\u306e\u5834\u5408\u3001\"BATCH\"\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u308b JOB_ID \u30b8\u30e7\u30d6ID JOB_NAME \u30b8\u30e7\u30d6\u540d JOB_SCRIPT \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u540d NHOSTS \u30b8\u30e7\u30d6\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30db\u30b9\u30c8\u6570 PE_HOSTFILE \u30b8\u30e7\u30d6\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30db\u30b9\u30c8\u3001\u30b9\u30ed\u30c3\u30c8\u3001\u30ad\u30e5\u30fc\u540d\u304c\u8a18\u8f09\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d1\u30b9 RESTARTED \u30b8\u30e7\u30d6\u304c\u518d\u5b9f\u884c\u3055\u308c\u305f\u5834\u5408\u306f1\u3001\u305d\u308c\u4ee5\u5916\u306f0 SGE_JOB_HOSTLIST \u30b8\u30e7\u30d6\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30db\u30b9\u30c8\u304c\u8a18\u8f09\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u3078\u306e\u30d1\u30b9 SGE_LOCALDIR \u30b8\u30e7\u30d6\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u306e\u30d1\u30b9 SGE_O_WORKDIR \u30b8\u30e7\u30d6\u6295\u5165\u6642\u306e\u4f5c\u696d\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3078\u306e\u30d1\u30b9 SGE_TASK_ID \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u30bf\u30b9\u30afID(\u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u3067\u306a\u3044\u5834\u5408\u306f\"undefined\") SGE_TASK_FIRST \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u6700\u521d\u306e\u30bf\u30b9\u30afID SGE_TASK_LAST \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u6700\u5f8c\u306e\u30bf\u30b9\u30afID SGE_TASK_STEPSIZE \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u306e\u30b9\u30c6\u30c3\u30d7\u30b5\u30a4\u30ba","title":"3.5.6. \u74b0\u5883\u5909\u6570"},{"location":"03/#reservation","text":"Reserved\u30b5\u30fc\u30d3\u30b9\u3067\u306f\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u4e8b\u524d\u306b\u4e88\u7d04\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u3001\u8a08\u753b\u7684\u306a\u30b8\u30e7\u30d6\u5b9f\u884c\u304c\u53ef\u80fd\u3068\u306a\u308a\u307e\u3059\u3002 \u9805\u76ee \u8aac\u660e \u6700\u5c0f\u4e88\u7d04\u65e5\u6570 1\u65e5 \u6700\u5927\u4e88\u7d04\u65e5\u6570 30\u65e5 \u30b7\u30b9\u30c6\u30e0\u3042\u305f\u308a\u306e\u6700\u5927\u540c\u6642\u4e88\u7d04\u53ef\u80fd\u30ce\u30fc\u30c9\u6570 442\u30ce\u30fc\u30c9 1\u4e88\u7d04\u3042\u305f\u308a\u306e\u6700\u5927\u4e88\u7d04\u30ce\u30fc\u30c9\u6570 32 1\u4e88\u7d04\u3042\u305f\u308a\u306e\u6700\u5927\u4e88\u7d04\u30ce\u30fc\u30c9\u6642\u9593\u7a4d 12,288\u30ce\u30fc\u30c9\u6642\u9593\u7a4d \u4e88\u7d04\u53d7\u4ed8\u958b\u59cb\u6642\u523b 30\u65e5\u524d\u306e\u5348\u524d10\u6642 \u4e88\u7d04\u53d7\u4ed8\u7de0\u5207\u6642\u523b \u4e88\u7d04\u958b\u59cb\u524d\u65e5\u306e\u5348\u5f8c9\u6642 \u4e88\u7d04\u53d6\u6d88\u53d7\u4ed8\u671f\u9593 \u4e88\u7d04\u958b\u59cb\u524d\u65e5\u306e\u5348\u5f8c9\u6642 \u4e88\u7d04\u958b\u59cb\u6642\u523b \u4e88\u7d04\u958b\u59cb\u65e5\u306e\u5348\u524d10\u6642 \u4e88\u7d04\u7d42\u4e86\u6642\u523b \u4e88\u7d04\u7d42\u4e86\u65e5\u306e\u5348\u524d9\u664230\u5206","title":"3.6. \u4e8b\u524d\u4e88\u7d04"},{"location":"03/#make-a-reservation","text":"Warning \u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u4e88\u7d04\u306f\u3001\u5229\u7528\u8cac\u4efb\u8005\u3082\u3057\u304f\u306f\u5229\u7528\u7ba1\u7406\u8005\u306e\u307f\u304c\u5b9f\u65bd\u3067\u304d\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u4e88\u7d04\u3059\u308b\u306b\u306f\u3001 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u3082\u3057\u304f\u306f qrsub \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 $ qrsub options \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -a YYYYMMDD \u4e88\u7d04\u958b\u59cb\u65e5\u3092 YYYYMMDD \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -d days \u4e88\u7d04\u65e5\u6570\u3092 days \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -e\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u306f\u6392\u4ed6\u3067\u3059\u3002 -e YYYYMMDD \u4e88\u7d04\u7d42\u4e86\u65e5\u3092 YYYYMMDD \u6307\u5b9a\u3057\u307e\u3059\u3002-d\u30aa\u30d7\u30b7\u30e7\u30f3\u3068\u306f\u6392\u4ed6\u3067\u3059\u3002 -g group ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7\u3092 group \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 -N name \u4e88\u7d04\u540d\u3092 name \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002\u82f1\u6570\u5b57\u304a\u3088\u3073\u30a2\u30f3\u30c0\u30fc\u30d0\u30fc\u306e\u307f\u6307\u5b9a\u53ef\u80fd\u3067\u3001\u6700\u592764\u6587\u5b57\u307e\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 -n nnnode \u4e88\u7d04\u3059\u308b\u30ce\u30fc\u30c9\u6570\u3092 nnnode \u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 \u4f8b) 2018\u5e747\u67085\u65e5\u304b\u30891\u9031\u9593 (7\u65e5\u9593) \u8a08\u7b97\u30ce\u30fc\u30c94\u53f0\u3092\u4e88\u7d04 [ username@es1 ~ ] $ qrsub - a 20180705 - d 7 - g grpname - n 4 - N \"Reserve_for_AI\" Your advance reservation 12345 has been granted \u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u4e88\u7d04\u304c\u5b8c\u4e86\u3057\u305f\u6642\u70b9\u3067ABCI\u30dd\u30a4\u30f3\u30c8\u3092\u6d88\u8cbb\u3057\u307e\u3059\u3002","title":"3.6.1. \u4e88\u7d04\u306e\u5b9f\u884c"},{"location":"03/#show-the-status-of-reservations","text":"\u4e88\u7d04\u72b6\u614b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u3082\u3057\u304f\u306f qrstat \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u4f8b) [ username @ es1 ~ ]$ qrstat ar - id name owner state start at end at duration sr ---------------------------------------------------------------------------------------------------- 12345 Reserve_fo root w 07 / 05 / 2018 10 : 00 : 00 07 / 12 / 2018 09 : 30 : 00 167 : 30 : 00 false \u9805\u76ee \u8aac\u660e ar-id \u4e88\u7d04ID (AR-ID) name \u4e88\u7d04\u540d owner \u5e38\u306broot\u3068\u8868\u793a state \u4e88\u7d04\u72b6\u614b start at \u4e88\u7d04\u958b\u59cb\u65e5 (\u4e88\u7d04\u958b\u59cb\u6642\u523b\u306f\u5e38\u306b\u5348\u524d10\u6642) end at \u4e88\u7d04\u7d42\u4e86\u65e5 (\u4e88\u7d04\u7d42\u4e86\u6642\u523b\u306f\u5e38\u306b\u5348\u524d9\u664230\u5206) duration \u4e88\u7d04\u671f\u9593 (hhh:mm:ss) sr \u5e38\u306bfalse\u3068\u8868\u793a \u30b7\u30b9\u30c6\u30e0\u3042\u305f\u308a\u306e\u4e88\u7d04\u53ef\u80fd\u30ce\u30fc\u30c9\u6570\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u3082\u3057\u304f\u306f qrstat \u30b3\u30de\u30f3\u30c9\u306e --available \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ qrstat --available 06 / 27 / 2018 441 07 / 05 / 2018 432 07 / 06 / 2018 434 Note \u8a08\u7b97\u30ce\u30fc\u30c9\u304c\u4e88\u7d04\u3055\u308c\u3066\u3044\u306a\u3044\u65e5\u4ed8\u306f\u8868\u793a\u3055\u308c\u307e\u305b\u3093\u3002","title":"3.6.2. \u4e88\u7d04\u72b6\u614b\u306e\u78ba\u8a8d"},{"location":"03/#cancel-a-reservation","text":"Warning \u4e88\u7d04\u306e\u53d6\u6d88\u306f\u5229\u7528\u8cac\u4efb\u8005\u3082\u3057\u304f\u306f\u5229\u7528\u7ba1\u7406\u8005\u306e\u307f\u304c\u5b9f\u65bd\u3067\u304d\u307e\u3059\u3002 \u4e88\u7d04\u3092\u53d6\u308a\u6d88\u3059\u306b\u306f\u3001 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u3082\u3057\u304f\u306f qrdel \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u4f8b) \u4e88\u7d04\u3092\u53d6\u6d88 [ username@es1 ~ ] $ qrdel 12345","title":"3.6.3. \u4e88\u7d04\u306e\u53d6\u308a\u6d88\u3057"},{"location":"04/","text":"4. \u30b9\u30c8\u30ec\u30fc\u30b8 4.1. \u30db\u30fc\u30e0\u9818\u57df \u30db\u30fc\u30e0\u9818\u57df\u306f\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u304a\u3088\u3073\u5404\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u5171\u6709\u3055\u308c\u305f\u30c7\u30a3\u30b9\u30af\u9818\u57df\u3067\u3059\u3002\u3059\u3079\u3066\u306e\u5229\u7528\u8005\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002\u30c7\u30a3\u30b9\u30af\u30af\u30a9\u30fc\u30bf\u306f200GiB\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 [\u9ad8\u5ea6\u306a\u8a2d\u5b9a] \u30b9\u30c8\u30e9\u30a4\u30d7\u6a5f\u80fd \u30db\u30fc\u30e0\u9818\u57df\u306f\u4e26\u5217\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4e26\u5217\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30fc\u30bf\u306f\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u69cb\u6210\u3059\u308b\u8907\u6570\u306e\u30c7\u30a3\u30b9\u30af\u306b\u5206\u6563\u3057\u3066\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002\u30db\u30fc\u30e0\u9818\u57df\u3067\u306f\u3001\u3053\u306e\u5206\u6563\u65b9\u5f0f\u3068\u3057\u3066\u3001\u30e9\u30a6\u30f3\u30c9\u30ed\u30d3\u30f3\u5206\u6563\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\u3068\u30b9\u30c8\u30e9\u30a4\u30d7\u5206\u6563\u304c\u4f7f\u7528\u53ef\u80fd\u3067\u3059\u3002\u4ee5\u4e0b\u3067\u306f\u3001\u30b9\u30c8\u30e9\u30a4\u30d7\u6a5f\u80fd\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u30b9\u30c8\u30e9\u30a4\u30d7\u6a5f\u80fd\u306e\u8a2d\u5b9a\u65b9\u6cd5 \u30b9\u30c8\u30e9\u30a4\u30d7\u6a5f\u80fd\u306e\u8a2d\u5b9a\u306f\u3001 lfs setstripe \u30b3\u30de\u30f3\u30c9\u3067\u884c\u3044\u307e\u3059\u3002 lfs setstripe \u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001\u30c7\u30fc\u30bf\u3092\u5206\u6563\u3055\u305b\u308b\u30b9\u30c8\u30e9\u30a4\u30d7\u30d1\u30bf\u30fc\u30f3\uff08\u30b9\u30c8\u30e9\u30a4\u30d7\u30b5\u30a4\u30ba\u3084\u7bc4\u56f2\uff09\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 $ lfs setstripe [ options ] < dirname | filename > \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -S \u30b9\u30c8\u30e9\u30a4\u30d7\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3002-S #k, -S #m, -S #g\u3068\u3059\u308b\u3053\u3068\u3067\u3001\u30b5\u30a4\u30ba\u3092KiB,MiB,GiB\u3067\u8a2d\u5b9a\u53ef\u80fd\u3002 -i \u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u8fbc\u307f\u3092\u958b\u59cb\u3059\u308bOST\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6307\u5b9a\u3002 -1\u3068\u3057\u305f\u5834\u5408\u3001\u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u8fbc\u307f\u3092\u958b\u59cb\u3059\u308bOST\u306f\u30e9\u30f3\u30c0\u30e0\u3002\u672c\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001OST\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f 0 \u304b\u3089 17 \u3092\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002 -c \u30b9\u30c8\u30e9\u30a4\u30d7\u30ab\u30a6\u30f3\u30c8\u3092\u8a2d\u5b9a\u3002 -1\u3068\u3057\u305f\u5834\u5408\u3001\u3059\u3079\u3066\u306eOST\u306b\u66f8\u304d\u8fbc\u307f\u3092\u5b9f\u884c\u3002 Tips OST\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u3001 lfs df \u30b3\u30de\u30f3\u30c9\u306e OST:#\u306e\u5024 \u3084 lfs osts \u30b3\u30de\u30f3\u30c9\u306e\u5de6\u7aef\u306e\u5024\u3067\u78ba\u8a8d\u53ef\u80fd\u3067\u3059\u3002 \u4f8b\uff09\u30b9\u30c8\u30e9\u30a4\u30d7\u30d1\u30bf\u30fc\u30f3\u3092\u6301\u3063\u305f\u65b0\u898f\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210 [ username@es1 work ] $ lfs setstripe - S 1 m - i 10 - c 4 stripe - file [ username@es1 work ] $ ls stripe - file \u4f8b) \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5bfe\u3057\u3066\u3001\u30b9\u30c8\u30e9\u30a4\u30d7\u30d1\u30bf\u30fc\u30f3\u3092\u8a2d\u5b9a [ username@es1 work ] $ mkdir stripe - dir [ username@es1 work ] $ lfs setstripe - S 1 m - i 10 - c 4 stripe - dir \u30b9\u30c8\u30e9\u30a4\u30d7\u6a5f\u80fd\u306e\u8868\u793a\u65b9\u6cd5 \u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30b9\u30c8\u30e9\u30a4\u30d7\u30d1\u30bf\u30fc\u30f3\u306e\u60c5\u5831\u3092\u8868\u793a\u3059\u308b\u5834\u5408\u306f\u3001 lfs getstripe \u30b3\u30de\u30f3\u30c9\u3067\u884c\u3044\u307e\u3059\u3002 $ lfs getstripe < dirname | filename > \u4f8b) \u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\u8868\u793a\u4f8b [ username@es1 work ] $ lfs getstripe stripe - file stripe - file lmm_stripe_count : 4 lmm_stripe_size : 1048576 lmm_pattern : 1 lmm_layout_gen : 0 lmm_stripe_offset : 10 obdidx objid objid group 10 3024641 0x2e2701 0 11 3026034 0x2e2c72 0 12 3021952 0x2e1c80 0 13 3019616 0x2e1360 0 \u4f8b) \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u8a2d\u5b9a\u8868\u793a\u4f8b [ username@es1 work ] $ lfs getstripe stripe - dir stripe - dir stripe_count : 4 stripe_size : 1048576 stripe_offset : 10 4.2. \u30b0\u30eb\u30fc\u30d7\u9818\u57df \u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306f\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u304a\u3088\u3073\u5404\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u5171\u6709\u3055\u308c\u305f\u30c7\u30a3\u30b9\u30af\u9818\u57df\u3067\u3059\u3002 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u304b\u3089\u5229\u7528\u7ba1\u7406\u8005\u6a29\u9650\u3067\u30b0\u30eb\u30fc\u30d7\u30c7\u30a3\u30b9\u30af\u8ffd\u52a0\u7533\u8acb\u3092\u884c\u3046\u3053\u3068\u3067\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\u8ffd\u52a0\u7533\u8acb\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb\u5229\u7528\u624b\u5f15\u304d \u306e \u30c7\u30a3\u30b9\u30af\u8ffd\u52a0\u7533\u8acb \u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 4.3. \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5229\u7528 ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u5404\u8a08\u7b97\u30ce\u30fc\u30c9\u306b 1.6TB \u306e NVMe \u30b9\u30c8\u30ec\u30fc\u30b8\u304c\u642d\u8f09\u3055\u308c\u3066\u304a\u308a\u30012\u901a\u308a\u306e\u5229\u7528\u65b9\u6cd5\u3092\u9078\u629e\u3067\u304d\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u5229\u7528\u3059\u308b\uff08 \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u5229\u7528 \uff09\u3002 \u8907\u6570\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u5206\u6563\u5171\u6709\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u69cb\u6210\u3057\u3066\u5229\u7528\u3059\u308b\uff08 BeeOND\u30b9\u30c8\u30ec\u30fc\u30b8\u5229\u7528 \uff09\u3002 4.3.1. \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u5229\u7528 \u8a08\u7b97\u30ce\u30fc\u30c9\u306eNVMe\u30b9\u30c8\u30ec\u30fc\u30b8\u306f\u3001\u305d\u306e\u307e\u307e\u8a08\u7b97\u30ce\u30fc\u30c9\u306e \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u5229\u7528\u3067\u304d\u307e\u3059\u3002 \u305d\u306e\u5834\u5408\u3001\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u306f\u74b0\u5883\u5909\u6570 SGE_LOCALDIR \u3092\u5229\u7528\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u30b8\u30e7\u30d6\u6295\u5165\u6642\u306b\u7279\u5225\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u306a\u304a\u3001\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u5229\u7528\u3067\u304d\u308b\u5bb9\u91cf\u306f\u3001\u6307\u5b9a\u3057\u305f \u30b8\u30e7\u30d6\u5b9f\u884c\u30ea\u30bd\u30fc\u30b9 \u306b\u3088\u3063\u3066\u7570\u306a\u308a\u307e\u3059\u3002 4.3.2. BeeOND\u30b9\u30c8\u30ec\u30fc\u30b8\u5229\u7528 \u30b8\u30e7\u30d6\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u3059\u3079\u3066\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u306e NVMe \u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u3001 \u5206\u6563\u5171\u6709\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 (BeeGFS) \u3068\u3057\u3066\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002 \u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u306e BeeGFS (BeeOND) \u3092\u5229\u7528\u3059\u308b\u30b8\u30e7\u30d6\u3092\u6295\u5165\u3059\u308b\u3068\u304d\u306f\u3001 -l USE_BEEOND=1 \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u307e\u305f\u3001BeeOND\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u30ce\u30fc\u30c9\u3092\u5360\u6709\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001 -l rt_F \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u3082\u3042\u308a\u307e\u3059\u3002 \u4f5c\u6210\u3055\u308c\u305f\u5206\u6563\u5171\u6709\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u9818\u57df\u306b\u306f\u3001/beeond\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4f8b\uff09\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f8b(use_beeond.sh) #!/bin/bash #$-l rt_F=2 #$-l USE_BEEOND=1 #$-cwd echo test1 > /beeond/foo.txt echo test2 > /beeond/bar.txt cp -rp /beeond/foo.txt $HOME /test/foo.txt \u4f8b\uff09\u30b8\u30e7\u30d6\u306e\u6295\u5165 [ username@es1 ~ ] $ qsub - g grpname use_beeond . sh \u4f8b\uff09use_beeond.sh \u5b9f\u884c\u5f8c\u306e\u72b6\u614b [username @ es1 ~ ] $ ls $ HOME / test / foo.txt <- \u30b9\u30af\u30ea\u30d7\u30c8\u5185\u3067\u660e\u793a\u7684\u306b\u30b3\u30d4\u30fc\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u304c\u6b8b\u308b\u3002 Warning /beeond \u4ee5\u4e0b\u306b\u4f5c\u6210\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306f\u30b8\u30e7\u30d6\u5b9f\u884c\u7d42\u4e86\u6642\u306b\u524a\u9664\u3055\u308c\u308b\u305f\u3081\u3001\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306f cp \u30b3\u30de\u30f3\u30c9\u306a\u3069\u3092\u7528\u3044\u3066\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u3067\u30db\u30fc\u30e0\u9818\u57df\u307e\u305f\u306f\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306b\u30b3\u30d4\u30fc\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [\u9ad8\u5ea6\u306a\u8a2d\u5b9a] BeeOND\u30b5\u30fc\u30d0\u6570\u5909\u66f4 BeeOND\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u9818\u57df\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u4f53\u3092\u683c\u7d0d\u3059\u308b\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u8a08\u7b97\u30ce\u30fc\u30c9\uff08\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\uff09\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u8a08\u7b97\u30ce\u30fc\u30c9\uff08\u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\uff09\u306b\u3088\u308a\u69cb\u6210\u3055\u308c\u307e\u3059\u3002 ABCI\u306eBeeOND\u3067\u306f\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u6570\u3001\u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\u6570\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\u6570\u30fb\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u6570\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u8a2d\u5b9a\u9805\u76ee \u30c7\u30d5\u30a9\u30eb\u30c8\u5024 \u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\u6570 1 \u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u6570 \u30b8\u30e7\u30d6\u306e\u8981\u6c42\u30ce\u30fc\u30c9\u6570 \u305d\u308c\u305e\u308c\u306e\u6570\u3092\u5909\u66f4\u3059\u308b\u3068\u304d\u306b\u306f\u3001\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u6b21\u306e\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u3053\u306e\u74b0\u5883\u5909\u6570\u306f\u30b8\u30e7\u30d6\u6295\u5165\u6642\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4e2d\u3067\u5909\u66f4\u3057\u3066\u3082\u53cd\u6620\u3055\u308c\u307e\u305b\u3093\u3002\u30b5\u30fc\u30d0\u6570\u304c\u30b8\u30e7\u30d6\u306e\u8981\u6c42\u30ce\u30fc\u30c9\u6570\u3088\u308a\u3082\u5c0f\u3055\u3044\u5834\u5408\u3001\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u8a08\u7b97\u30ce\u30fc\u30c9\u304b\u3089\u540d\u524d\u9806\u306b\u9078\u629e\u3055\u308c\u307e\u3059\u3002 \u74b0\u5883\u5909\u6570 \u8aac\u660e BEEOND_METADATA_SERVER \u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\u6570\u3092\u6574\u6570\u3067\u6307\u5b9a BEEOND_STORAGE_SERVER \u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u6570\u3092\u6574\u6570\u3067\u6307\u5b9a \u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\u65702\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u65704\u3067BeeOND\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u9818\u57df\u3092\u69cb\u6210\u3059\u308b\u4f8b\u3067\u3059\u3002 beegfs-df \u3067\u69cb\u6210\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002 \u4f8b\uff09\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f8b(use_beeond.sh) #!/bin/bash #$-l rt_F=8 #$-l USE_BEEOND=1 #$-v BEEOND_METADATA_SERVER=2 #$-v BEEOND_STORAGE_SERVER=4 #$-cwd beegfs-df -p /beeond \u51fa\u529b\u4f8b METADATA SERVERS : TargetID Cap . Pool Total Free % ITotal IFree % ======== ========= ===== ==== = ====== ===== = 1 normal 1489 . 7 GiB 1322 . 7 GiB 89 % 149 . 0 M 149 . 0 M 100 % 2 normal 1489 . 7 GiB 1322 . 7 GiB 89 % 149 . 0 M 149 . 0 M 100 % STORAGE TARGETS : TargetID Cap . Pool Total Free % ITotal IFree % ======== ========= ===== ==== = ====== ===== = 1 normal 1489 . 7 GiB 1322 . 7 GiB 89 % 149 . 0 M 149 . 0 M 100 % 2 normal 1489 . 7 GiB 1322 . 7 GiB 89 % 149 . 0 M 149 . 0 M 100 % 3 normal 1489 . 7 GiB 1322 . 7 GiB 89 % 149 . 0 M 149 . 0 M 100 % 4 normal 1489 . 7 GiB 1322 . 7 GiB 89 % 149 . 0 M 149 . 0 M 100 % [\u9ad8\u5ea6\u306a\u8a2d\u5b9a] \u30b9\u30c8\u30e9\u30a4\u30d7\u6a5f\u80fd BeeOND\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u9818\u57df\u3067\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30fc\u30bf\u306f\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u69cb\u6210\u3059\u308b\u8907\u6570\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u306b\u5206\u6563\u3057\u3066\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002ABCI\u306eBeeOND\u3067\u306f\u30b9\u30c8\u30e9\u30a4\u30d7\u5206\u6563\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30b9\u30c8\u30e9\u30a4\u30d7\u5206\u6563\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 \u8a2d\u5b9a\u9805\u76ee \u30c7\u30d5\u30a9\u30eb\u30c8\u5024 \u8aac\u660e \u30b9\u30c8\u30e9\u30a4\u30d7\u30b5\u30a4\u30ba 512 KB \u30d5\u30a1\u30a4\u30eb\u306e\u5206\u5272\u30b5\u30a4\u30ba \u30b9\u30c8\u30e9\u30a4\u30d7\u30ab\u30a6\u30f3\u30c8 4 \u5206\u5272\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u65ad\u7247\u3092\u683c\u7d0d\u3059\u308b\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u306e\u6570 \u30d5\u30a1\u30a4\u30eb\u5358\u4f4d\u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5358\u4f4d\u3067\u30b9\u30c8\u30e9\u30a4\u30d7\u5206\u6563\u306e\u8a2d\u5b9a\u3092\u884c\u3048\u307e\u3059\u3002\u30b9\u30c8\u30e9\u30a4\u30d7\u5206\u6563\u306e\u8a2d\u5b9a\u306f beegfs-ctl \u3067\u884c\u3048\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u4f8b\u3067\u306f /beeond/data \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306e\u30b9\u30c8\u30e9\u30a4\u30d7\u8a2d\u5b9a\u3092\u3001\u30b9\u30c8\u30e9\u30a4\u30d7\u30ab\u30a6\u30f3\u30c88\u3001\u30b9\u30c8\u30e9\u30a4\u30d7\u30b5\u30a4\u30ba4MB\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u4f8b\uff09\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f8b(use_beeond.sh) #!/bin/bash #$-l rt_F=8 #$-l USE_BEEOND=1 #$-cwd BEEOND_DIR = /beeond/data mkdir ${ BEEOND_DIR } beegfs-ctl --setpattern --numtargets = 8 --chunksize = 4M --mount = /beeond ${ BEEOND_DIR } beegfs-ctl --mount = /beeond --getentryinfo ${ BEEOND_DIR } \u51fa\u529b\u4f8b New chunksize : 4194304 New number of storage targets : 8 EntryID : 0 - 5 D36F5EC - 1 Metadata node : gXXXX . abci . local [ ID : 1 ] Stripe pattern details : + Type : RAID0 + Chunksize : 4 M + Number of storage targets : desired : 8 + Storage Pool : 1 ( Default )","title":"4. \u30b9\u30c8\u30ec\u30fc\u30b8"},{"location":"04/#4","text":"","title":"4. \u30b9\u30c8\u30ec\u30fc\u30b8"},{"location":"04/#home-area","text":"\u30db\u30fc\u30e0\u9818\u57df\u306f\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u304a\u3088\u3073\u5404\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u5171\u6709\u3055\u308c\u305f\u30c7\u30a3\u30b9\u30af\u9818\u57df\u3067\u3059\u3002\u3059\u3079\u3066\u306e\u5229\u7528\u8005\u304c\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002\u30c7\u30a3\u30b9\u30af\u30af\u30a9\u30fc\u30bf\u306f200GiB\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002","title":"4.1. \u30db\u30fc\u30e0\u9818\u57df"},{"location":"04/#advanced-option-file-striping","text":"\u30db\u30fc\u30e0\u9818\u57df\u306f\u4e26\u5217\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u69cb\u6210\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u4e26\u5217\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30fc\u30bf\u306f\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u69cb\u6210\u3059\u308b\u8907\u6570\u306e\u30c7\u30a3\u30b9\u30af\u306b\u5206\u6563\u3057\u3066\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002\u30db\u30fc\u30e0\u9818\u57df\u3067\u306f\u3001\u3053\u306e\u5206\u6563\u65b9\u5f0f\u3068\u3057\u3066\u3001\u30e9\u30a6\u30f3\u30c9\u30ed\u30d3\u30f3\u5206\u6563\uff08\u30c7\u30d5\u30a9\u30eb\u30c8\uff09\u3068\u30b9\u30c8\u30e9\u30a4\u30d7\u5206\u6563\u304c\u4f7f\u7528\u53ef\u80fd\u3067\u3059\u3002\u4ee5\u4e0b\u3067\u306f\u3001\u30b9\u30c8\u30e9\u30a4\u30d7\u6a5f\u80fd\u306e\u8a2d\u5b9a\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"[\u9ad8\u5ea6\u306a\u8a2d\u5b9a] \u30b9\u30c8\u30e9\u30a4\u30d7\u6a5f\u80fd"},{"location":"04/#how-to-set-up-file-striping","text":"\u30b9\u30c8\u30e9\u30a4\u30d7\u6a5f\u80fd\u306e\u8a2d\u5b9a\u306f\u3001 lfs setstripe \u30b3\u30de\u30f3\u30c9\u3067\u884c\u3044\u307e\u3059\u3002 lfs setstripe \u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001\u30c7\u30fc\u30bf\u3092\u5206\u6563\u3055\u305b\u308b\u30b9\u30c8\u30e9\u30a4\u30d7\u30d1\u30bf\u30fc\u30f3\uff08\u30b9\u30c8\u30e9\u30a4\u30d7\u30b5\u30a4\u30ba\u3084\u7bc4\u56f2\uff09\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 $ lfs setstripe [ options ] < dirname | filename > \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -S \u30b9\u30c8\u30e9\u30a4\u30d7\u30b5\u30a4\u30ba\u3092\u8a2d\u5b9a\u3002-S #k, -S #m, -S #g\u3068\u3059\u308b\u3053\u3068\u3067\u3001\u30b5\u30a4\u30ba\u3092KiB,MiB,GiB\u3067\u8a2d\u5b9a\u53ef\u80fd\u3002 -i \u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u8fbc\u307f\u3092\u958b\u59cb\u3059\u308bOST\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u3092\u6307\u5b9a\u3002 -1\u3068\u3057\u305f\u5834\u5408\u3001\u30d5\u30a1\u30a4\u30eb\u66f8\u304d\u8fbc\u307f\u3092\u958b\u59cb\u3059\u308bOST\u306f\u30e9\u30f3\u30c0\u30e0\u3002\u672c\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001OST\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f 0 \u304b\u3089 17 \u3092\u6307\u5b9a\u53ef\u80fd\u3067\u3059\u3002 -c \u30b9\u30c8\u30e9\u30a4\u30d7\u30ab\u30a6\u30f3\u30c8\u3092\u8a2d\u5b9a\u3002 -1\u3068\u3057\u305f\u5834\u5408\u3001\u3059\u3079\u3066\u306eOST\u306b\u66f8\u304d\u8fbc\u307f\u3092\u5b9f\u884c\u3002 Tips OST\u30a4\u30f3\u30c7\u30c3\u30af\u30b9\u306f\u3001 lfs df \u30b3\u30de\u30f3\u30c9\u306e OST:#\u306e\u5024 \u3084 lfs osts \u30b3\u30de\u30f3\u30c9\u306e\u5de6\u7aef\u306e\u5024\u3067\u78ba\u8a8d\u53ef\u80fd\u3067\u3059\u3002 \u4f8b\uff09\u30b9\u30c8\u30e9\u30a4\u30d7\u30d1\u30bf\u30fc\u30f3\u3092\u6301\u3063\u305f\u65b0\u898f\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210 [ username@es1 work ] $ lfs setstripe - S 1 m - i 10 - c 4 stripe - file [ username@es1 work ] $ ls stripe - file \u4f8b) \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5bfe\u3057\u3066\u3001\u30b9\u30c8\u30e9\u30a4\u30d7\u30d1\u30bf\u30fc\u30f3\u3092\u8a2d\u5b9a [ username@es1 work ] $ mkdir stripe - dir [ username@es1 work ] $ lfs setstripe - S 1 m - i 10 - c 4 stripe - dir","title":"\u30b9\u30c8\u30e9\u30a4\u30d7\u6a5f\u80fd\u306e\u8a2d\u5b9a\u65b9\u6cd5"},{"location":"04/#how-to-display-file-striping-settings","text":"\u30d5\u30a1\u30a4\u30eb\u3084\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30b9\u30c8\u30e9\u30a4\u30d7\u30d1\u30bf\u30fc\u30f3\u306e\u60c5\u5831\u3092\u8868\u793a\u3059\u308b\u5834\u5408\u306f\u3001 lfs getstripe \u30b3\u30de\u30f3\u30c9\u3067\u884c\u3044\u307e\u3059\u3002 $ lfs getstripe < dirname | filename > \u4f8b) \u30d5\u30a1\u30a4\u30eb\u306e\u8a2d\u5b9a\u8868\u793a\u4f8b [ username@es1 work ] $ lfs getstripe stripe - file stripe - file lmm_stripe_count : 4 lmm_stripe_size : 1048576 lmm_pattern : 1 lmm_layout_gen : 0 lmm_stripe_offset : 10 obdidx objid objid group 10 3024641 0x2e2701 0 11 3026034 0x2e2c72 0 12 3021952 0x2e1c80 0 13 3019616 0x2e1360 0 \u4f8b) \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u8a2d\u5b9a\u8868\u793a\u4f8b [ username@es1 work ] $ lfs getstripe stripe - dir stripe - dir stripe_count : 4 stripe_size : 1048576 stripe_offset : 10","title":"\u30b9\u30c8\u30e9\u30a4\u30d7\u6a5f\u80fd\u306e\u8868\u793a\u65b9\u6cd5"},{"location":"04/#group-area","text":"\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306f\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u304a\u3088\u3073\u5404\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u5171\u6709\u3055\u308c\u305f\u30c7\u30a3\u30b9\u30af\u9818\u57df\u3067\u3059\u3002 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u304b\u3089\u5229\u7528\u7ba1\u7406\u8005\u6a29\u9650\u3067\u30b0\u30eb\u30fc\u30d7\u30c7\u30a3\u30b9\u30af\u8ffd\u52a0\u7533\u8acb\u3092\u884c\u3046\u3053\u3068\u3067\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002\u8ffd\u52a0\u7533\u8acb\u65b9\u6cd5\u306b\u3064\u3044\u3066\u306f\u3001 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb\u5229\u7528\u624b\u5f15\u304d \u306e \u30c7\u30a3\u30b9\u30af\u8ffd\u52a0\u7533\u8acb \u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002","title":"4.2. \u30b0\u30eb\u30fc\u30d7\u9818\u57df"},{"location":"04/#local-storage","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u5404\u8a08\u7b97\u30ce\u30fc\u30c9\u306b 1.6TB \u306e NVMe \u30b9\u30c8\u30ec\u30fc\u30b8\u304c\u642d\u8f09\u3055\u308c\u3066\u304a\u308a\u30012\u901a\u308a\u306e\u5229\u7528\u65b9\u6cd5\u3092\u9078\u629e\u3067\u304d\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u5229\u7528\u3059\u308b\uff08 \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u5229\u7528 \uff09\u3002 \u8907\u6570\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u304b\u3089\u5206\u6563\u5171\u6709\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u69cb\u6210\u3057\u3066\u5229\u7528\u3059\u308b\uff08 BeeOND\u30b9\u30c8\u30ec\u30fc\u30b8\u5229\u7528 \uff09\u3002","title":"4.3. \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5229\u7528"},{"location":"04/#using-as-a-local-storage","text":"\u8a08\u7b97\u30ce\u30fc\u30c9\u306eNVMe\u30b9\u30c8\u30ec\u30fc\u30b8\u306f\u3001\u305d\u306e\u307e\u307e\u8a08\u7b97\u30ce\u30fc\u30c9\u306e \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u5229\u7528\u3067\u304d\u307e\u3059\u3002 \u305d\u306e\u5834\u5408\u3001\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u306f\u74b0\u5883\u5909\u6570 SGE_LOCALDIR \u3092\u5229\u7528\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u3001\u30b8\u30e7\u30d6\u6295\u5165\u6642\u306b\u7279\u5225\u306a\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u306a\u304a\u3001\u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u3057\u3066\u5229\u7528\u3067\u304d\u308b\u5bb9\u91cf\u306f\u3001\u6307\u5b9a\u3057\u305f \u30b8\u30e7\u30d6\u5b9f\u884c\u30ea\u30bd\u30fc\u30b9 \u306b\u3088\u3063\u3066\u7570\u306a\u308a\u307e\u3059\u3002","title":"4.3.1. \u30ed\u30fc\u30ab\u30eb\u30b9\u30c8\u30ec\u30fc\u30b8\u5229\u7528"},{"location":"04/#using-as-a-beeond-storage","text":"\u30b8\u30e7\u30d6\u306b\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u3059\u3079\u3066\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u306e NVMe \u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u3001 \u5206\u6563\u5171\u6709\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 (BeeGFS) \u3068\u3057\u3066\u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u3067\u5229\u7528\u3067\u304d\u307e\u3059\u3002 \u30aa\u30f3\u30c7\u30de\u30f3\u30c9\u306e BeeGFS (BeeOND) \u3092\u5229\u7528\u3059\u308b\u30b8\u30e7\u30d6\u3092\u6295\u5165\u3059\u308b\u3068\u304d\u306f\u3001 -l USE_BEEOND=1 \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u307e\u305f\u3001BeeOND\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306f\u30ce\u30fc\u30c9\u3092\u5360\u6709\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001 -l rt_F \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u3082\u3042\u308a\u307e\u3059\u3002 \u4f5c\u6210\u3055\u308c\u305f\u5206\u6563\u5171\u6709\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u9818\u57df\u306b\u306f\u3001/beeond\u304b\u3089\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4f8b\uff09\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f8b(use_beeond.sh) #!/bin/bash #$-l rt_F=2 #$-l USE_BEEOND=1 #$-cwd echo test1 > /beeond/foo.txt echo test2 > /beeond/bar.txt cp -rp /beeond/foo.txt $HOME /test/foo.txt \u4f8b\uff09\u30b8\u30e7\u30d6\u306e\u6295\u5165 [ username@es1 ~ ] $ qsub - g grpname use_beeond . sh \u4f8b\uff09use_beeond.sh \u5b9f\u884c\u5f8c\u306e\u72b6\u614b [username @ es1 ~ ] $ ls $ HOME / test / foo.txt <- \u30b9\u30af\u30ea\u30d7\u30c8\u5185\u3067\u660e\u793a\u7684\u306b\u30b3\u30d4\u30fc\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u304c\u6b8b\u308b\u3002 Warning /beeond \u4ee5\u4e0b\u306b\u4f5c\u6210\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u306f\u30b8\u30e7\u30d6\u5b9f\u884c\u7d42\u4e86\u6642\u306b\u524a\u9664\u3055\u308c\u308b\u305f\u3081\u3001\u5fc5\u8981\u306a\u30d5\u30a1\u30a4\u30eb\u306f cp \u30b3\u30de\u30f3\u30c9\u306a\u3069\u3092\u7528\u3044\u3066\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u3067\u30db\u30fc\u30e0\u9818\u57df\u307e\u305f\u306f\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306b\u30b3\u30d4\u30fc\u3092\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"4.3.2. BeeOND\u30b9\u30c8\u30ec\u30fc\u30b8\u5229\u7528"},{"location":"04/#advanced-beeond-option-servers","text":"BeeOND\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u9818\u57df\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u5b9f\u4f53\u3092\u683c\u7d0d\u3059\u308b\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u8a08\u7b97\u30ce\u30fc\u30c9\uff08\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\uff09\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3059\u308b\u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3059\u308b\u8a08\u7b97\u30ce\u30fc\u30c9\uff08\u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\uff09\u306b\u3088\u308a\u69cb\u6210\u3055\u308c\u307e\u3059\u3002 ABCI\u306eBeeOND\u3067\u306f\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u6570\u3001\u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\u6570\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\u6570\u30fb\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u6570\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u8a2d\u5b9a\u9805\u76ee \u30c7\u30d5\u30a9\u30eb\u30c8\u5024 \u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\u6570 1 \u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u6570 \u30b8\u30e7\u30d6\u306e\u8981\u6c42\u30ce\u30fc\u30c9\u6570 \u305d\u308c\u305e\u308c\u306e\u6570\u3092\u5909\u66f4\u3059\u308b\u3068\u304d\u306b\u306f\u3001\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u6b21\u306e\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u3053\u306e\u74b0\u5883\u5909\u6570\u306f\u30b8\u30e7\u30d6\u6295\u5165\u6642\u306b\u5b9a\u7fa9\u3055\u308c\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u3001\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4e2d\u3067\u5909\u66f4\u3057\u3066\u3082\u53cd\u6620\u3055\u308c\u307e\u305b\u3093\u3002\u30b5\u30fc\u30d0\u6570\u304c\u30b8\u30e7\u30d6\u306e\u8981\u6c42\u30ce\u30fc\u30c9\u6570\u3088\u308a\u3082\u5c0f\u3055\u3044\u5834\u5408\u3001\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u8a08\u7b97\u30ce\u30fc\u30c9\u304b\u3089\u540d\u524d\u9806\u306b\u9078\u629e\u3055\u308c\u307e\u3059\u3002 \u74b0\u5883\u5909\u6570 \u8aac\u660e BEEOND_METADATA_SERVER \u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\u6570\u3092\u6574\u6570\u3067\u6307\u5b9a BEEOND_STORAGE_SERVER \u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u6570\u3092\u6574\u6570\u3067\u6307\u5b9a \u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u30e1\u30bf\u30c7\u30fc\u30bf\u30b5\u30fc\u30d0\u65702\u3001\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u65704\u3067BeeOND\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u9818\u57df\u3092\u69cb\u6210\u3059\u308b\u4f8b\u3067\u3059\u3002 beegfs-df \u3067\u69cb\u6210\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002 \u4f8b\uff09\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f8b(use_beeond.sh) #!/bin/bash #$-l rt_F=8 #$-l USE_BEEOND=1 #$-v BEEOND_METADATA_SERVER=2 #$-v BEEOND_STORAGE_SERVER=4 #$-cwd beegfs-df -p /beeond \u51fa\u529b\u4f8b METADATA SERVERS : TargetID Cap . Pool Total Free % ITotal IFree % ======== ========= ===== ==== = ====== ===== = 1 normal 1489 . 7 GiB 1322 . 7 GiB 89 % 149 . 0 M 149 . 0 M 100 % 2 normal 1489 . 7 GiB 1322 . 7 GiB 89 % 149 . 0 M 149 . 0 M 100 % STORAGE TARGETS : TargetID Cap . Pool Total Free % ITotal IFree % ======== ========= ===== ==== = ====== ===== = 1 normal 1489 . 7 GiB 1322 . 7 GiB 89 % 149 . 0 M 149 . 0 M 100 % 2 normal 1489 . 7 GiB 1322 . 7 GiB 89 % 149 . 0 M 149 . 0 M 100 % 3 normal 1489 . 7 GiB 1322 . 7 GiB 89 % 149 . 0 M 149 . 0 M 100 % 4 normal 1489 . 7 GiB 1322 . 7 GiB 89 % 149 . 0 M 149 . 0 M 100 %","title":"[\u9ad8\u5ea6\u306a\u8a2d\u5b9a] BeeOND\u30b5\u30fc\u30d0\u6570\u5909\u66f4"},{"location":"04/#advanced-beeond-option-file-striping","text":"BeeOND\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u9818\u57df\u3067\u306f\u3001\u30d5\u30a1\u30a4\u30eb\u306e\u30c7\u30fc\u30bf\u306f\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u3092\u69cb\u6210\u3059\u308b\u8907\u6570\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u306b\u5206\u6563\u3057\u3066\u683c\u7d0d\u3055\u308c\u307e\u3059\u3002ABCI\u306eBeeOND\u3067\u306f\u30b9\u30c8\u30e9\u30a4\u30d7\u5206\u6563\u306e\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u30b9\u30c8\u30e9\u30a4\u30d7\u5206\u6563\u306e\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u8a2d\u5b9a\u306f\u6b21\u306e\u901a\u308a\u3067\u3059\u3002 \u8a2d\u5b9a\u9805\u76ee \u30c7\u30d5\u30a9\u30eb\u30c8\u5024 \u8aac\u660e \u30b9\u30c8\u30e9\u30a4\u30d7\u30b5\u30a4\u30ba 512 KB \u30d5\u30a1\u30a4\u30eb\u306e\u5206\u5272\u30b5\u30a4\u30ba \u30b9\u30c8\u30e9\u30a4\u30d7\u30ab\u30a6\u30f3\u30c8 4 \u5206\u5272\u3057\u305f\u30d5\u30a1\u30a4\u30eb\u65ad\u7247\u3092\u683c\u7d0d\u3059\u308b\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d0\u306e\u6570 \u30d5\u30a1\u30a4\u30eb\u5358\u4f4d\u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u5358\u4f4d\u3067\u30b9\u30c8\u30e9\u30a4\u30d7\u5206\u6563\u306e\u8a2d\u5b9a\u3092\u884c\u3048\u307e\u3059\u3002\u30b9\u30c8\u30e9\u30a4\u30d7\u5206\u6563\u306e\u8a2d\u5b9a\u306f beegfs-ctl \u3067\u884c\u3048\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u4f8b\u3067\u306f /beeond/data \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u4ee5\u4e0b\u306e\u30b9\u30c8\u30e9\u30a4\u30d7\u8a2d\u5b9a\u3092\u3001\u30b9\u30c8\u30e9\u30a4\u30d7\u30ab\u30a6\u30f3\u30c88\u3001\u30b9\u30c8\u30e9\u30a4\u30d7\u30b5\u30a4\u30ba4MB\u306b\u8a2d\u5b9a\u3057\u3066\u3044\u307e\u3059\u3002 \u4f8b\uff09\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u306e\u4f8b(use_beeond.sh) #!/bin/bash #$-l rt_F=8 #$-l USE_BEEOND=1 #$-cwd BEEOND_DIR = /beeond/data mkdir ${ BEEOND_DIR } beegfs-ctl --setpattern --numtargets = 8 --chunksize = 4M --mount = /beeond ${ BEEOND_DIR } beegfs-ctl --mount = /beeond --getentryinfo ${ BEEOND_DIR } \u51fa\u529b\u4f8b New chunksize : 4194304 New number of storage targets : 8 EntryID : 0 - 5 D36F5EC - 1 Metadata node : gXXXX . abci . local [ ID : 1 ] Stripe pattern details : + Type : RAID0 + Chunksize : 4 M + Number of storage targets : desired : 8 + Storage Pool : 1 ( Default )","title":"[\u9ad8\u5ea6\u306a\u8a2d\u5b9a] \u30b9\u30c8\u30e9\u30a4\u30d7\u6a5f\u80fd"},{"location":"05/","text":"5. Environment Modules\u306e\u5229\u7528 ABCI\u3067\u306f\u3001 1.3. \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u69cb\u6210 \u3067\u6319\u3052\u305f\u3001\u3055\u307e\u3056\u307e\u306a\u958b\u767a\u74b0\u5883\u3001MPI\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u7b49\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\u5229\u7528\u8005\u306f\u3053\u308c\u3089\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u300c\u30e2\u30b8\u30e5\u30fc\u30eb\u300d\u3068\u3057\u3066\u3001\u7d44\u307f\u5408\u308f\u305b\u3066\u5229\u7528\u3067\u304d\u307e\u3059\u3002 Environment Modules \u306f\u3001\u3053\u308c\u3089\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5229\u7528\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u74b0\u5883\u8a2d\u5b9a\u3092\u67d4\u8edf\u304b\u3064\u52d5\u7684\u306b\u884c\u3046\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002 \u5229\u7528\u65b9\u6cd5 \u5229\u7528\u8005\u306f\u3001 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u74b0\u5883\u306e\u8a2d\u5b9a\u3092\u884c\u3048\u307e\u3059\u3002 $ module [ options ] < sub - command > [ sub-command options ] \u4ee5\u4e0b\u306b\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u306e\u4e00\u89a7\u3092\u793a\u3057\u307e\u3059\u3002 \u30b5\u30d6\u30b3\u30de\u30f3\u30c9 \u8aac\u660e list \u30ed\u30fc\u30c9\u6e08\u307f\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e00\u89a7\u8868\u793a avail \u5229\u7528\u53ef\u80fd\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e00\u89a7\u8868\u793a show module module \u306e\u8a2d\u5b9a\u5185\u5bb9\u306e\u8868\u793a load module module \u306e\u30ed\u30fc\u30c9 unload module module \u306e\u30a2\u30f3\u30ed\u30fc\u30c9 switch moduleA moduleB \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5207\u308a\u66ff\u3048\uff08 moduleA \u3092 moduleB \u306b\u7f6e\u304d\u63db\u3048\u308b\uff09 purge \u30ed\u30fc\u30c9\u6e08\u307f\u306e\u3059\u3079\u3066\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a2\u30f3\u30ed\u30fc\u30c9\uff08\u521d\u671f\u5316\uff09 help module module \u306e\u4f7f\u7528\u65b9\u6cd5\u306e\u8868\u793a \u5b9f\u884c\u4f8b \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9 [ username@g0001 ~ ] $ module load cuda / 10.0 / 10.0.130.1 cudnn / 7.6 / 7.6.2 \u30ed\u30fc\u30c9\u6e08\u307f\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e00\u89a7\u8868\u793a [ username@g0001 ~ ] $ module list Currently Loaded Modulefiles : 1 ) cuda / 10.0 / 10.0.130.1 2 ) cudnn / 7.6 / 7.6.2 \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8a2d\u5b9a\u5185\u5bb9\u306e\u8868\u793a [ username @ g0001 ~ ]$ module show cuda / 10 . 0 / 10 . 0 . 130 . 1 ------------------------------------------------------------------- / apps / modules / modulefiles / gpgpu / cuda / 10 . 0 / 10 . 0 . 130 . 1 : module - whatis cuda 10 . 0 . 130 . 1 conflict cuda prepend - path CUDA_HOME / apps / cuda / 10 . 0 . 130 . 1 prepend - path CUDA_PATH / apps / cuda / 10 . 0 . 130 . 1 prepend - path PATH / apps / cuda / 10 . 0 . 130 . 1 / bin prepend - path LD_LIBRARY_PATH / apps / cuda / 10 . 0 . 130 . 1 / lib64 prepend - path CPATH / apps / cuda / 10 . 0 . 130 . 1 / include prepend - path LIBRARY_PATH / apps / cuda / 10 . 0 . 130 . 1 / lib64 prepend - path MANPATH / apps / cuda / 10 . 0 . 130 . 1 / doc / man ------------------------------------------------------------------- \u30ed\u30fc\u30c9\u6e08\u307f\u306e\u3059\u3079\u3066\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a2\u30f3\u30ed\u30fc\u30c9\uff08\u521d\u671f\u5316\uff09 [ username@g0001 ~ ] $ module purge [ username@g0001 ~ ] $ module list No Modulefiles Currently Loaded . \u4f9d\u5b58\u95a2\u4fc2\u306e\u3042\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9 [ username@g0001 ~ ] $ module load cudnn / 7.6 / 7.6.2 WARNING : cudnn / 7.6 / 7.6.2 cannot be loaded due to missing prereq . HINT : at least one of the following modules must be loaded first : cuda / 9.0 cuda / 9.2 cuda / 10.0 \u4f9d\u5b58\u95a2\u4fc2\u304c\u3042\u308b\u305f\u3081\u3001 cuda/9.0 \u3001 cuda/9.2 \u3001 cuda/10.0 \u306e\u3044\u305a\u308c\u304b\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5148\u306b\u30ed\u30fc\u30c9\u3057\u306a\u3044\u3068 cudnn/7.6/7.6.2 \u3092\u30ed\u30fc\u30c9\u3067\u304d\u307e\u305b\u3093\u3002 [ username@g0001 ~ ] $ module load cuda / 10.0 / 10.0.130.1 [ username@g0001 ~ ] $ module load cudnn / 7.6 / 7.6.2 \u6392\u4ed6\u95a2\u4fc2\u306b\u3042\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9 \u540c\u4e00\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u7570\u306a\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306a\u3069\u3001\u6392\u4ed6\u95a2\u4fc2\u306b\u3042\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u540c\u6642\u306b\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 [ username@g0001 ~ ] $ module load cuda / 10.0 / 10.0.130.1 [ username@g0001 ~ ] $ module load cuda / 9.2 / 9.2.148.1 cuda / 9.2 / 9.2.148.1 ( 5 ) : ERROR : 150 : Module 'cuda/9.2/9.2.148.1' conflicts with the currently loaded module ( s ) 'cuda/10.0/10.0.130.1' \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5207\u308a\u66ff\u3048 [ username@g0001 ~ ] $ module switch python / 2.7 / 2.7.15 python / 3.6 / 3.6.5 \u4f9d\u5b58\u95a2\u4fc2\u304c\u3042\u308b\u3068\u5207\u308a\u66ff\u3048\u304c\u3046\u307e\u304f\u3067\u304d\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 [ username@g0001 ~ ] $ module load cuda / 10.0 / 10.0.130.1 [ username@g0001 ~ ] $ module load cudnn / 7.6 / 7.6.2 [ username@g0001 ~ ] $ module switch cuda / 10.0 / 10.0.130.1 cuda / 9.2 / 9.2.148.1 [ username@g0001 ~ ] $ env | grep LD_LIBRARY_PATH LD_LIBRARY_PATH =/ apps / cudnn / 7.6.2 / cuda10 .0 / lib64 : / apps / cuda / 9.2.148.1 / lib64 CUDA9.2\u3068\u3001CUDA10.0\u7528\u306ecuDNN\u304c\u30ed\u30fc\u30c9\u3055\u308c\u305f\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5bfe\u8c61\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4e8b\u524d\u306b\u30a2\u30f3\u30ed\u30fc\u30c9\u3001\u5207\u308a\u66ff\u3048\u5f8c\u306e\u518d\u30ed\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 [ username@g0001 ~ ] $ module load cuda / 10.0 / 10.0.130.1 [ username@g0001 ~ ] $ module load cudnn / 7.6 / 7.6.2 [ username@g0001 ~ ] $ module unload cudnn / 7.6 / 7.6.2 [ username@g0001 ~ ] $ module switch cuda / 10.0 / 10.0.130.1 cuda / 9.2 / 9.2.148.1 [ username@g0001 ~ ] $ module load cudnn / 7.6 / 7.6.2 [ username@g0001 ~ ] $ env | grep LD_LIBRARY_PATH LD_LIBRARY_PATH =/ apps / cudnn / 7.6.2 / cuda9 .2 / lib64 : / apps / cuda / 9.2.148.1 / lib64 \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306e\u5229\u7528\u65b9\u6cd5 \u30d0\u30c3\u30c1\u5229\u7528\u6642\u306e\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u3067 module \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u521d\u671f\u8a2d\u5b9a\u3092\u52a0\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 sh, bash\u306e\u5834\u5408: source / etc / profile . d / modules . sh module load cuda / 10 . 0 / 10 . 0 . 130 . 1 csh, tcsh\u306e\u5834\u5408: source / etc / profile . d / modules . csh module load cuda / 10 . 0 / 10 . 0 . 130 . 1","title":"5. Environment Modules\u306e\u5229\u7528"},{"location":"05/#5-environment-modules","text":"ABCI\u3067\u306f\u3001 1.3. \u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u69cb\u6210 \u3067\u6319\u3052\u305f\u3001\u3055\u307e\u3056\u307e\u306a\u958b\u767a\u74b0\u5883\u3001MPI\u3001\u30e9\u30a4\u30d6\u30e9\u30ea\u3001\u30e6\u30fc\u30c6\u30a3\u30ea\u30c6\u30a3\u7b49\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\u5229\u7528\u8005\u306f\u3053\u308c\u3089\u306e\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u3092\u300c\u30e2\u30b8\u30e5\u30fc\u30eb\u300d\u3068\u3057\u3066\u3001\u7d44\u307f\u5408\u308f\u305b\u3066\u5229\u7528\u3067\u304d\u307e\u3059\u3002 Environment Modules \u306f\u3001\u3053\u308c\u3089\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5229\u7528\u3059\u308b\u306e\u306b\u5fc5\u8981\u306a\u74b0\u5883\u8a2d\u5b9a\u3092\u67d4\u8edf\u304b\u3064\u52d5\u7684\u306b\u884c\u3046\u6a5f\u80fd\u3092\u63d0\u4f9b\u3057\u307e\u3059\u3002","title":"5. Environment Modules\u306e\u5229\u7528"},{"location":"05/#usage","text":"\u5229\u7528\u8005\u306f\u3001 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u74b0\u5883\u306e\u8a2d\u5b9a\u3092\u884c\u3048\u307e\u3059\u3002 $ module [ options ] < sub - command > [ sub-command options ] \u4ee5\u4e0b\u306b\u30b5\u30d6\u30b3\u30de\u30f3\u30c9\u306e\u4e00\u89a7\u3092\u793a\u3057\u307e\u3059\u3002 \u30b5\u30d6\u30b3\u30de\u30f3\u30c9 \u8aac\u660e list \u30ed\u30fc\u30c9\u6e08\u307f\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e00\u89a7\u8868\u793a avail \u5229\u7528\u53ef\u80fd\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e00\u89a7\u8868\u793a show module module \u306e\u8a2d\u5b9a\u5185\u5bb9\u306e\u8868\u793a load module module \u306e\u30ed\u30fc\u30c9 unload module module \u306e\u30a2\u30f3\u30ed\u30fc\u30c9 switch moduleA moduleB \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5207\u308a\u66ff\u3048\uff08 moduleA \u3092 moduleB \u306b\u7f6e\u304d\u63db\u3048\u308b\uff09 purge \u30ed\u30fc\u30c9\u6e08\u307f\u306e\u3059\u3079\u3066\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a2\u30f3\u30ed\u30fc\u30c9\uff08\u521d\u671f\u5316\uff09 help module module \u306e\u4f7f\u7528\u65b9\u6cd5\u306e\u8868\u793a","title":"\u5229\u7528\u65b9\u6cd5"},{"location":"05/#use-cases","text":"","title":"\u5b9f\u884c\u4f8b"},{"location":"05/#load-modules","text":"[ username@g0001 ~ ] $ module load cuda / 10.0 / 10.0.130.1 cudnn / 7.6 / 7.6.2","title":"\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9"},{"location":"05/#list-loaded-modules","text":"[ username@g0001 ~ ] $ module list Currently Loaded Modulefiles : 1 ) cuda / 10.0 / 10.0.130.1 2 ) cudnn / 7.6 / 7.6.2","title":"\u30ed\u30fc\u30c9\u6e08\u307f\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4e00\u89a7\u8868\u793a"},{"location":"05/#display-the-configuration-of-modules","text":"[ username @ g0001 ~ ]$ module show cuda / 10 . 0 / 10 . 0 . 130 . 1 ------------------------------------------------------------------- / apps / modules / modulefiles / gpgpu / cuda / 10 . 0 / 10 . 0 . 130 . 1 : module - whatis cuda 10 . 0 . 130 . 1 conflict cuda prepend - path CUDA_HOME / apps / cuda / 10 . 0 . 130 . 1 prepend - path CUDA_PATH / apps / cuda / 10 . 0 . 130 . 1 prepend - path PATH / apps / cuda / 10 . 0 . 130 . 1 / bin prepend - path LD_LIBRARY_PATH / apps / cuda / 10 . 0 . 130 . 1 / lib64 prepend - path CPATH / apps / cuda / 10 . 0 . 130 . 1 / include prepend - path LIBRARY_PATH / apps / cuda / 10 . 0 . 130 . 1 / lib64 prepend - path MANPATH / apps / cuda / 10 . 0 . 130 . 1 / doc / man -------------------------------------------------------------------","title":"\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8a2d\u5b9a\u5185\u5bb9\u306e\u8868\u793a"},{"location":"05/#unload-all-loaded-modules-initialize","text":"[ username@g0001 ~ ] $ module purge [ username@g0001 ~ ] $ module list No Modulefiles Currently Loaded .","title":"\u30ed\u30fc\u30c9\u6e08\u307f\u306e\u3059\u3079\u3066\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30a2\u30f3\u30ed\u30fc\u30c9\uff08\u521d\u671f\u5316\uff09"},{"location":"05/#load-dependent-modules","text":"[ username@g0001 ~ ] $ module load cudnn / 7.6 / 7.6.2 WARNING : cudnn / 7.6 / 7.6.2 cannot be loaded due to missing prereq . HINT : at least one of the following modules must be loaded first : cuda / 9.0 cuda / 9.2 cuda / 10.0 \u4f9d\u5b58\u95a2\u4fc2\u304c\u3042\u308b\u305f\u3081\u3001 cuda/9.0 \u3001 cuda/9.2 \u3001 cuda/10.0 \u306e\u3044\u305a\u308c\u304b\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u5148\u306b\u30ed\u30fc\u30c9\u3057\u306a\u3044\u3068 cudnn/7.6/7.6.2 \u3092\u30ed\u30fc\u30c9\u3067\u304d\u307e\u305b\u3093\u3002 [ username@g0001 ~ ] $ module load cuda / 10.0 / 10.0.130.1 [ username@g0001 ~ ] $ module load cudnn / 7.6 / 7.6.2","title":"\u4f9d\u5b58\u95a2\u4fc2\u306e\u3042\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9"},{"location":"05/#load-exclusive-modules","text":"\u540c\u4e00\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u7570\u306a\u308b\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306a\u3069\u3001\u6392\u4ed6\u95a2\u4fc2\u306b\u3042\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306f\u540c\u6642\u306b\u5229\u7528\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 [ username@g0001 ~ ] $ module load cuda / 10.0 / 10.0.130.1 [ username@g0001 ~ ] $ module load cuda / 9.2 / 9.2.148.1 cuda / 9.2 / 9.2.148.1 ( 5 ) : ERROR : 150 : Module 'cuda/9.2/9.2.148.1' conflicts with the currently loaded module ( s ) 'cuda/10.0/10.0.130.1'","title":"\u6392\u4ed6\u95a2\u4fc2\u306b\u3042\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9"},{"location":"05/#switch-modules","text":"[ username@g0001 ~ ] $ module switch python / 2.7 / 2.7.15 python / 3.6 / 3.6.5 \u4f9d\u5b58\u95a2\u4fc2\u304c\u3042\u308b\u3068\u5207\u308a\u66ff\u3048\u304c\u3046\u307e\u304f\u3067\u304d\u306a\u3044\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 [ username@g0001 ~ ] $ module load cuda / 10.0 / 10.0.130.1 [ username@g0001 ~ ] $ module load cudnn / 7.6 / 7.6.2 [ username@g0001 ~ ] $ module switch cuda / 10.0 / 10.0.130.1 cuda / 9.2 / 9.2.148.1 [ username@g0001 ~ ] $ env | grep LD_LIBRARY_PATH LD_LIBRARY_PATH =/ apps / cudnn / 7.6.2 / cuda10 .0 / lib64 : / apps / cuda / 9.2.148.1 / lib64 CUDA9.2\u3068\u3001CUDA10.0\u7528\u306ecuDNN\u304c\u30ed\u30fc\u30c9\u3055\u308c\u305f\u72b6\u614b\u306b\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5bfe\u8c61\u306e\u30e2\u30b8\u30e5\u30fc\u30eb\u306b\u4f9d\u5b58\u3057\u3066\u3044\u308b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u4e8b\u524d\u306b\u30a2\u30f3\u30ed\u30fc\u30c9\u3001\u5207\u308a\u66ff\u3048\u5f8c\u306e\u518d\u30ed\u30fc\u30c9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 [ username@g0001 ~ ] $ module load cuda / 10.0 / 10.0.130.1 [ username@g0001 ~ ] $ module load cudnn / 7.6 / 7.6.2 [ username@g0001 ~ ] $ module unload cudnn / 7.6 / 7.6.2 [ username@g0001 ~ ] $ module switch cuda / 10.0 / 10.0.130.1 cuda / 9.2 / 9.2.148.1 [ username@g0001 ~ ] $ module load cudnn / 7.6 / 7.6.2 [ username@g0001 ~ ] $ env | grep LD_LIBRARY_PATH LD_LIBRARY_PATH =/ apps / cudnn / 7.6.2 / cuda9 .2 / lib64 : / apps / cuda / 9.2.148.1 / lib64","title":"\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u5207\u308a\u66ff\u3048"},{"location":"05/#usage-in-a-job-script","text":"\u30d0\u30c3\u30c1\u5229\u7528\u6642\u306e\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u3067 module \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u521d\u671f\u8a2d\u5b9a\u3092\u52a0\u3048\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 sh, bash\u306e\u5834\u5408: source / etc / profile . d / modules . sh module load cuda / 10 . 0 / 10 . 0 . 130 . 1 csh, tcsh\u306e\u5834\u5408: source / etc / profile . d / modules . csh module load cuda / 10 . 0 / 10 . 0 . 130 . 1","title":"\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306e\u5229\u7528\u65b9\u6cd5"},{"location":"06/","text":"6. Python\u306e\u5229\u7528 \u5229\u7528\u3067\u304d\u308bPython\u306e\u30d0\u30fc\u30b8\u30e7\u30f3 ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f Python \u3092\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3067\u304d\u308bPython\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f module \u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 $ module avail python -------------------------------- /apps/modules/modulefiles/devtools -------------------------------- python/2.7/2.7.15 python/3.4/3.4.8 python/3.5/3.5.5 python/3.6/3.6.5 \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002 \u4f8b) Python 2.7.15\u3092\u5229\u7528\u3059\u308b\u5834\u5408: $ module load python/2.7/2.7.15 $ python --version Python 2 .7.15 \u4f8b) Python 3.6.5\u3092\u5229\u7528\u3059\u308b\u5834\u5408: $ module load python/3.6/3.6.5 $ python --version Python 3 .6.5 Note pyenv\u3084conda\u306a\u3069\u306ePython\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u5229\u7528\u8005\u306e\u30db\u30fc\u30e0\u9818\u57df\u3084\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u3053\u306e\u5834\u5408\u306f\u30b5\u30dd\u30fc\u30c8\u7bc4\u56f2\u5916\u3068\u306a\u308a\u307e\u3059\u306e\u3067\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002 Python\u4eee\u60f3\u74b0\u5883 ABCI\u3067\u306f\u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u3067\u4f7f\u3046Python\u5b9f\u884c\u74b0\u5883\u306b\u5229\u7528\u8005\u304c\u5909\u66f4\u3092\u52a0\u3048\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u306e\u4ee3\u308f\u308a\u306b\u3001\u5229\u7528\u8005\u306fPython\u4eee\u60f3\u74b0\u5883\u3092\u4f7f\u3063\u3066\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 ABCI\u304c\u63d0\u4f9b\u3059\u308b virtualenv \u3084 venv \u3092\u4f7f\u3063\u3066\u3001\u8efd\u91cf\u306a\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u308b\u3053\u3068\u3067\u304d\u307e\u3059\u3002 \u3053\u306ePython\u4eee\u60f3\u74b0\u5883\u306b\u306f\u3001\u4eee\u60f3\u74b0\u5883\u3054\u3068\u306esite\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3042\u308a\u3001\u3053\u308c\u306f\u30b7\u30b9\u30c6\u30e0\u306esite\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u5206\u96e2\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u305d\u308c\u305e\u308c\u306e\u4eee\u60f3\u74b0\u5883\u306b\u306f\u3001\u56fa\u6709\u306e (\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3059\u308b\u306e\u306b\u4f7f\u3063\u305f\u30d0\u30a4\u30ca\u30ea\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u540c\u4e00\u306e) Python\u30d0\u30a4\u30ca\u30ea\u304c\u3042\u308a\u3001 \u4eee\u60f3\u74b0\u5883\u3054\u3068\u306esite\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u72ec\u7acb\u3057\u305fPython\u30d1\u30c3\u30b1\u30fc\u30b8\u7fa4\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002 \u4eee\u60f3\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u306b\u306f\u3001Python 2\u7cfb\u3067\u306f virtualenv \u3001Python 3\u7cfb\u3067\u306f venv \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u305d\u308c\u305e\u308c\u5229\u7528\u3057\u307e\u3059\u3002 virtualenv virtualenv \u306e\u4f7f\u7528\u4f8b\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u4f8b) \u4eee\u60f3\u74b0\u5883\u306e\u4f5c\u6210 [ username@es1 ~ ] $ module load python / 2.7 / 2.7.15 [ username@es1 ~ ] $ virtualenv env1 New python executable in / home / username / env1 / bin / python2 .7 Also creating executable in / home / username / env1 / bin / python Installing setuptools , pip , wheel ... done . \u4f8b) \u4eee\u60f3\u74b0\u5883\u306e\u6709\u52b9\u5316 [ username@es1 ~ ] $ source env1 / bin / activate ( env1 ) [ username@es1 ~ ] $ ( env1 ) [ username@es1 ~ ] $ which python ~/ env1 / bin / python ( env1 ) [ username@es1 ~ ] $ which pip ~/ env1 / bin / pip \u4f8b) \u4eee\u60f3\u74b0\u5883\u3078 numpy \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb ( env1 ) [ username@es1 ~ ] $ pip install numpy \u4f8b) \u4eee\u60f3\u74b0\u5883\u306e\u7121\u52b9\u5316 ( env1 ) [ username@es1 ~ ] $ deactivate [ username@es1 ~ ] $ venv venv \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4f7f\u7528\u4f8b\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u4f8b) \u4eee\u60f3\u74b0\u5883\u306e\u4f5c\u6210 [ username@es1 ~ ] $ module load python / 3.6 / 3.6.5 [ username@es1 ~ ] $ python3 - m venv work \u4f8b) \u4eee\u60f3\u74b0\u5883\u306e\u6709\u52b9\u5316 [ username@es1 ~ ] $ source work / bin / activate ( work ) [ username@es1 ~ ] $ which python3 / fs3 / home / username / work / bin / python3 ( work ) [ username@es1 ~ ] $ which pip3 / fs3 / home / username / work / bin / pip3 \u4f8b) \u4eee\u60f3\u74b0\u5883\u3078 numpy \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb ( work ) [ username@es1 ~ ] $ pip3 install numpy \u4f8b) \u4eee\u60f3\u74b0\u5883\u306e\u7121\u52b9\u5316 ( work ) [ username@es1 ~ ] $ deactivate [ username@es1 ~ ] $ pip pip \u306fPython\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u3059\u3002 \u5229\u7528\u8005\u306f\u3001 pip \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u5bb9\u6613\u306bPython\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30ea\u30dd\u30b8\u30c8\u30ea the Python Pakcage Index (PyPI) \u304b\u3089Python\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002 $ pip < sub - command > [ options ] \u30b5\u30d6\u30b3\u30de\u30f3\u30c9 \u8aac\u660e install package \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002 update package \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\u3002 uninstall package \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002 search package \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u691c\u7d22\u3059\u308b\u3002 list \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u3002","title":"6. Python\u306e\u5229\u7528"},{"location":"06/#6-python","text":"","title":"6. Python\u306e\u5229\u7528"},{"location":"06/#available-python-versions","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f Python \u3092\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3067\u304d\u308bPython\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u306f module \u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 $ module avail python -------------------------------- /apps/modules/modulefiles/devtools -------------------------------- python/2.7/2.7.15 python/3.4/3.4.8 python/3.5/3.5.5 python/3.6/3.6.5 \u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u5229\u7528\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002 \u4f8b) Python 2.7.15\u3092\u5229\u7528\u3059\u308b\u5834\u5408: $ module load python/2.7/2.7.15 $ python --version Python 2 .7.15 \u4f8b) Python 3.6.5\u3092\u5229\u7528\u3059\u308b\u5834\u5408: $ module load python/3.6/3.6.5 $ python --version Python 3 .6.5 Note pyenv\u3084conda\u306a\u3069\u306ePython\u30c7\u30a3\u30b9\u30c8\u30ea\u30d3\u30e5\u30fc\u30b7\u30e7\u30f3\u3092\u5229\u7528\u8005\u306e\u30db\u30fc\u30e0\u9818\u57df\u3084\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3053\u3068\u3082\u53ef\u80fd\u3067\u3059\u3002\u3053\u306e\u5834\u5408\u306f\u30b5\u30dd\u30fc\u30c8\u7bc4\u56f2\u5916\u3068\u306a\u308a\u307e\u3059\u306e\u3067\u3054\u4e86\u627f\u304f\u3060\u3055\u3044\u3002","title":"\u5229\u7528\u3067\u304d\u308bPython\u306e\u30d0\u30fc\u30b8\u30e7\u30f3"},{"location":"06/#python-virtual-environments","text":"ABCI\u3067\u306f\u30b7\u30b9\u30c6\u30e0\u5168\u4f53\u3067\u4f7f\u3046Python\u5b9f\u884c\u74b0\u5883\u306b\u5229\u7528\u8005\u304c\u5909\u66f4\u3092\u52a0\u3048\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u306e\u4ee3\u308f\u308a\u306b\u3001\u5229\u7528\u8005\u306fPython\u4eee\u60f3\u74b0\u5883\u3092\u4f7f\u3063\u3066\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8ffd\u52a0\u3057\u3066\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 ABCI\u304c\u63d0\u4f9b\u3059\u308b virtualenv \u3084 venv \u3092\u4f7f\u3063\u3066\u3001\u8efd\u91cf\u306a\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u308b\u3053\u3068\u3067\u304d\u307e\u3059\u3002 \u3053\u306ePython\u4eee\u60f3\u74b0\u5883\u306b\u306f\u3001\u4eee\u60f3\u74b0\u5883\u3054\u3068\u306esite\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304c\u3042\u308a\u3001\u3053\u308c\u306f\u30b7\u30b9\u30c6\u30e0\u306esite\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u304b\u3089\u5206\u96e2\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u305d\u308c\u305e\u308c\u306e\u4eee\u60f3\u74b0\u5883\u306b\u306f\u3001\u56fa\u6709\u306e (\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3059\u308b\u306e\u306b\u4f7f\u3063\u305f\u30d0\u30a4\u30ca\u30ea\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3068\u540c\u4e00\u306e) Python\u30d0\u30a4\u30ca\u30ea\u304c\u3042\u308a\u3001 \u4eee\u60f3\u74b0\u5883\u3054\u3068\u306esite\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u72ec\u7acb\u3057\u305fPython\u30d1\u30c3\u30b1\u30fc\u30b8\u7fa4\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002 \u4eee\u60f3\u74b0\u5883\u3092\u69cb\u7bc9\u3059\u308b\u306b\u306f\u3001Python 2\u7cfb\u3067\u306f virtualenv \u3001Python 3\u7cfb\u3067\u306f venv \u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u305d\u308c\u305e\u308c\u5229\u7528\u3057\u307e\u3059\u3002","title":"Python\u4eee\u60f3\u74b0\u5883"},{"location":"06/#virtualenv","text":"virtualenv \u306e\u4f7f\u7528\u4f8b\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u4f8b) \u4eee\u60f3\u74b0\u5883\u306e\u4f5c\u6210 [ username@es1 ~ ] $ module load python / 2.7 / 2.7.15 [ username@es1 ~ ] $ virtualenv env1 New python executable in / home / username / env1 / bin / python2 .7 Also creating executable in / home / username / env1 / bin / python Installing setuptools , pip , wheel ... done . \u4f8b) \u4eee\u60f3\u74b0\u5883\u306e\u6709\u52b9\u5316 [ username@es1 ~ ] $ source env1 / bin / activate ( env1 ) [ username@es1 ~ ] $ ( env1 ) [ username@es1 ~ ] $ which python ~/ env1 / bin / python ( env1 ) [ username@es1 ~ ] $ which pip ~/ env1 / bin / pip \u4f8b) \u4eee\u60f3\u74b0\u5883\u3078 numpy \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb ( env1 ) [ username@es1 ~ ] $ pip install numpy \u4f8b) \u4eee\u60f3\u74b0\u5883\u306e\u7121\u52b9\u5316 ( env1 ) [ username@es1 ~ ] $ deactivate [ username@es1 ~ ] $","title":"virtualenv"},{"location":"06/#venv","text":"venv \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u4f7f\u7528\u4f8b\u3092\u4ee5\u4e0b\u306b\u793a\u3057\u307e\u3059\u3002 \u4f8b) \u4eee\u60f3\u74b0\u5883\u306e\u4f5c\u6210 [ username@es1 ~ ] $ module load python / 3.6 / 3.6.5 [ username@es1 ~ ] $ python3 - m venv work \u4f8b) \u4eee\u60f3\u74b0\u5883\u306e\u6709\u52b9\u5316 [ username@es1 ~ ] $ source work / bin / activate ( work ) [ username@es1 ~ ] $ which python3 / fs3 / home / username / work / bin / python3 ( work ) [ username@es1 ~ ] $ which pip3 / fs3 / home / username / work / bin / pip3 \u4f8b) \u4eee\u60f3\u74b0\u5883\u3078 numpy \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb ( work ) [ username@es1 ~ ] $ pip3 install numpy \u4f8b) \u4eee\u60f3\u74b0\u5883\u306e\u7121\u52b9\u5316 ( work ) [ username@es1 ~ ] $ deactivate [ username@es1 ~ ] $","title":"venv"},{"location":"06/#pip","text":"pip \u306fPython\u306e\u30d1\u30c3\u30b1\u30fc\u30b8\u7ba1\u7406\u30c4\u30fc\u30eb\u3067\u3059\u3002 \u5229\u7528\u8005\u306f\u3001 pip \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u308b\u3053\u3068\u3067\u5bb9\u6613\u306bPython\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u30ea\u30dd\u30b8\u30c8\u30ea the Python Pakcage Index (PyPI) \u304b\u3089Python\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3067\u304d\u307e\u3059\u3002 $ pip < sub - command > [ options ] \u30b5\u30d6\u30b3\u30de\u30f3\u30c9 \u8aac\u660e install package \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002 update package \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u3059\u308b\u3002 uninstall package \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u3002 search package \u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u691c\u7d22\u3059\u308b\u3002 list \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30d1\u30c3\u30b1\u30fc\u30b8\u3092\u8868\u793a\u3059\u308b\u3002","title":"pip"},{"location":"07/","text":"7. GPU\u306e\u5229\u7528 ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001NVIDIA\u304c\u63d0\u4f9b\u3059\u308b\u4ee5\u4e0b\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5229\u7528\u3067\u304d\u307e\u3059\u3002 CUDA Toolkit NVIDIA CUDA Deep Neural Network library (cuDNN) NVIDIA Collective Communications Library (NCCL) GDRCopy: A fast GPU memory copy library based on NVIDIA GPUDirect RDMA technology \u3053\u308c\u3089\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u308b\u3068\u3001 PATH \u306a\u3069\u306e\u5b9f\u884c\u7528\u74b0\u5883\u5909\u6570\u3084\u3001\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b5\u30fc\u30c1\u30d1\u30b9\u306a\u3069\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u74b0\u5883\u5909\u6570\u3092\u81ea\u52d5\u7684\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002 [ username@g0001 ~ ] $ module load cuda / 10.0 / 10.0.130.1 [ username@g0001 ~ ] $ module load cudnn / 7.4 / 7.4.2 [ username@g0001 ~ ] $ module load nccl / 2.4 / 2.4.7 - 1 \u4ee5\u4e0b\u3067\u306f\u3001ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u5229\u7528\u53ef\u80fd\u306aCUDA Toolkit\u3001cuDNN\u3001NCCL\u306e\u4e00\u89a7\u3092\u793a\u3057\u307e\u3059\u3002 CUDA Toolkit Major version Minor version Available from NVIDIA Available on ABCI cuda8.0 8.0.44 Yes - cuda8.0 8.0.61 Yes - cuda8.0 8.0.61.2 Yes Yes cuda9.0 9.0.176 Yes Yes cuda9.0 9.0.176.1 Yes Yes cuda9.0 9.0.176.2 Yes Yes cuda9.0 9.0.176.3 Yes Yes cuda9.0 9.0.176.4 Yes Yes cuda9.1 9.1.85 Yes - cuda9.1 9.1.85.1 Yes - cuda9.1 9.1.85.2 Yes - cuda9.1 9.1.85.3 Yes Yes cuda9.2 9.2.88.1 - Yes cuda9.2 9.2.148 Yes - cuda9.2 9.2.148.1 Yes Yes cuda10.0 10.0.130 Yes Yes cuda10.0 10.0.130.1 Yes Yes cuda10.1 10.1.105 Yes - cuda10.1 10.1.168 Yes - cuda10.1 10.1.243 Yes Yes cuDNN Version cuda8.0 cuda9.0 cuda9.1 cuda9.2 cuda10.0 cuda10.1 5.1.10 Yes - - - - - 6.0.21 Yes - - - - - 7.0.5 Yes Yes Yes - - - 7.1.3 Yes Yes Yes - - - 7.1.4 - Yes - Yes - - 7.2.1 - Yes - Yes - - 7.3.0 - - - - - - 7.3.1 - Yes - Yes Yes - 7.4.1 - - - - - - 7.4.2 - Yes - Yes Yes - 7.5.0 - Yes - Yes Yes Yes 7.5.1 - Yes - Yes Yes Yes 7.6.0 - Yes - Yes Yes Yes 7.6.1 - Yes - Yes Yes Yes 7.6.2 - Yes - Yes Yes Yes 7.6.3 - Yes - Yes Yes Yes 7.6.4 - Yes - Yes Yes Yes NCCL Version cuda8.0 cuda9.0 cuda9.1 cuda9.2 cuda10.0 cuda10.1 1.3.5-1 Yes Yes Yes Yes Yes - 2.0.5-3 - - - - - - 2.1.15-1 Yes Yes Yes - - - 2.2.12-1 - - - - - - 2.2.13-1 Yes Yes - Yes - - 2.3.4-1 - Yes - Yes Yes - 2.3.5-2 - Yes - Yes Yes - 2.3.7-1 - Yes - Yes Yes - 2.4.2-1 - - - Yes Yes Yes 2.4.7-1 - - - Yes Yes Yes 2.4.8-1 - - - Yes Yes Yes GDRCopy Version cuda8.0 cuda9.0 cuda9.1 cuda9.2 cuda10.0 cuda10.1 1.2 Yes Yes Yes Yes Yes Yes","title":"7. GPU\u306e\u5229\u7528"},{"location":"07/#7-gpu","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001NVIDIA\u304c\u63d0\u4f9b\u3059\u308b\u4ee5\u4e0b\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u304c\u5229\u7528\u3067\u304d\u307e\u3059\u3002 CUDA Toolkit NVIDIA CUDA Deep Neural Network library (cuDNN) NVIDIA Collective Communications Library (NCCL) GDRCopy: A fast GPU memory copy library based on NVIDIA GPUDirect RDMA technology \u3053\u308c\u3089\u306e\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u308b\u3068\u3001 PATH \u306a\u3069\u306e\u5b9f\u884c\u7528\u74b0\u5883\u5909\u6570\u3084\u3001\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u3084\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b5\u30fc\u30c1\u30d1\u30b9\u306a\u3069\u306e\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u74b0\u5883\u5909\u6570\u3092\u81ea\u52d5\u7684\u306b\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002 [ username@g0001 ~ ] $ module load cuda / 10.0 / 10.0.130.1 [ username@g0001 ~ ] $ module load cudnn / 7.4 / 7.4.2 [ username@g0001 ~ ] $ module load nccl / 2.4 / 2.4.7 - 1 \u4ee5\u4e0b\u3067\u306f\u3001ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u5229\u7528\u53ef\u80fd\u306aCUDA Toolkit\u3001cuDNN\u3001NCCL\u306e\u4e00\u89a7\u3092\u793a\u3057\u307e\u3059\u3002","title":"7. GPU\u306e\u5229\u7528"},{"location":"07/#cuda-toolkit","text":"Major version Minor version Available from NVIDIA Available on ABCI cuda8.0 8.0.44 Yes - cuda8.0 8.0.61 Yes - cuda8.0 8.0.61.2 Yes Yes cuda9.0 9.0.176 Yes Yes cuda9.0 9.0.176.1 Yes Yes cuda9.0 9.0.176.2 Yes Yes cuda9.0 9.0.176.3 Yes Yes cuda9.0 9.0.176.4 Yes Yes cuda9.1 9.1.85 Yes - cuda9.1 9.1.85.1 Yes - cuda9.1 9.1.85.2 Yes - cuda9.1 9.1.85.3 Yes Yes cuda9.2 9.2.88.1 - Yes cuda9.2 9.2.148 Yes - cuda9.2 9.2.148.1 Yes Yes cuda10.0 10.0.130 Yes Yes cuda10.0 10.0.130.1 Yes Yes cuda10.1 10.1.105 Yes - cuda10.1 10.1.168 Yes - cuda10.1 10.1.243 Yes Yes","title":"CUDA Toolkit"},{"location":"07/#cudnn","text":"Version cuda8.0 cuda9.0 cuda9.1 cuda9.2 cuda10.0 cuda10.1 5.1.10 Yes - - - - - 6.0.21 Yes - - - - - 7.0.5 Yes Yes Yes - - - 7.1.3 Yes Yes Yes - - - 7.1.4 - Yes - Yes - - 7.2.1 - Yes - Yes - - 7.3.0 - - - - - - 7.3.1 - Yes - Yes Yes - 7.4.1 - - - - - - 7.4.2 - Yes - Yes Yes - 7.5.0 - Yes - Yes Yes Yes 7.5.1 - Yes - Yes Yes Yes 7.6.0 - Yes - Yes Yes Yes 7.6.1 - Yes - Yes Yes Yes 7.6.2 - Yes - Yes Yes Yes 7.6.3 - Yes - Yes Yes Yes 7.6.4 - Yes - Yes Yes Yes","title":"cuDNN"},{"location":"07/#nccl","text":"Version cuda8.0 cuda9.0 cuda9.1 cuda9.2 cuda10.0 cuda10.1 1.3.5-1 Yes Yes Yes Yes Yes - 2.0.5-3 - - - - - - 2.1.15-1 Yes Yes Yes - - - 2.2.12-1 - - - - - - 2.2.13-1 Yes Yes - Yes - - 2.3.4-1 - Yes - Yes Yes - 2.3.5-2 - Yes - Yes Yes - 2.3.7-1 - Yes - Yes Yes - 2.4.2-1 - - - Yes Yes Yes 2.4.7-1 - - - Yes Yes Yes 2.4.8-1 - - - Yes Yes Yes","title":"NCCL"},{"location":"07/#gdrcopy","text":"Version cuda8.0 cuda9.0 cuda9.1 cuda9.2 cuda10.0 cuda10.1 1.2 Yes Yes Yes Yes Yes Yes","title":"GDRCopy"},{"location":"08/","text":"8. MPI\u306e\u5229\u7528 ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u4ee5\u4e0b\u306eMPI\u3092\u5229\u7528\u3067\u304d\u307e\u3059\u3002 Open MPI MVAPICH2 MVAPICH2-GDR Intel MPI \u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u74b0\u5883\u5909\u6570\uff08\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u304a\u3088\u3073\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b5\u30fc\u30c1\u30d1\u30b9\uff09\u304c\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u3067 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u74b0\u5883\u5909\u6570\u306b\u52a0\u3048\u3001\u5b9f\u884c\u7528\u74b0\u5883\u5909\u6570\u3082\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 [ username@es1 ~ ] $ module load openmpi / 2.1.6 [ username@es1 ~ ] $ module load mvapich / mvapich2 - gdr / 2.3 [ username@es1 ~ ] $ module load mvapich / mvapich2 / 2.3 [ username@es1 ~ ] $ module load intel - mpi / 2018.2.199 \u4ee5\u4e0b\u3067\u306f\u3001ABCI\u30b7\u30b9\u30c6\u30e0\u306b\u5c0e\u5165\u3055\u308c\u3066\u3044\u308bMPI\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u4e00\u89a7\u3092\u793a\u3057\u307e\u3059\u3002 Open MPI openmpi/ Compiler version w/o CUDA CUDA 8.0 *1 CUDA 9.0 *1 CUDA 9.1 *1 CUDA 9.2 *1 CUDA 10.0 *1 CUDA 10.1 *1 1.10.7 GCC 4.8.5 Yes Yes Yes Yes Yes Yes - 2.1.3 GCC 4.8.5 Yes Yes Yes Yes Yes - - 2.1.5 GCC 4.8.5 Yes Yes Yes Yes Yes Yes - 2.1.5 PGI 18.5 Yes Yes Yes Yes Yes - - 2.1.6 GCC 4.8.5 Yes Yes Yes Yes Yes Yes - 2.1.6 PGI 18.5 Yes Yes Yes Yes Yes - - 3.0.3 GCC 4.8.5 Yes - - - - - - 3.1.0 GCC 4.8.5 Yes - - - - - - 3.1.2 GCC 4.8.5 Yes - - - - - - 3.1.3 GCC 4.8.5 Yes - - - - - - 3.1.3 PGI 18.5 Yes Yes Yes Yes Yes - - *1 CUDA-aware versions MVAPICH2 mvapich/mvapich2/ Compiler version w/o CUDA CUDA 8.0 *1 CUDA 9.0 *1 CUDA 9.1 *1 CUDA 9.2 *1 CUDA 10.0 *1 CUDA 10.1 *1 2.3rc2 GCC 4.8.5 Yes Yes Yes Yes Yes - - 2.3 GCC 4.8.5 Yes Yes Yes Yes Yes Yes - 2.3.2 GCC 4.8.5 Yes - - - - - - *1 CUDA-aware versions MVAPICH2-GDR mvapich/mvapich2-gdr/ Compiler version CUDA 8.0 CUDA 9.0 CUDA 9.1 CUDA 9.2 CUDA 10.0 CUDA 10.1 2.3rc1 GCC 4.8.5 - Yes Yes Yes - - 2.3 GCC 4.8.5 - Yes Yes Yes - - 2.3 PGI 17.10 - Yes Yes Yes - - 2.3a GCC 4.8.5 Yes Yes Yes Yes - - 2.3.1 GCC 4.8.5 - - - Yes Yes - 2.3.1 PGI 18.10 - - - Yes Yes - 2.3.2 GCC 4.8.5 - - - Yes Yes - Intel MPI intel-mpi/ 2018.2.199 Yes","title":"8. MPI\u306e\u5229\u7528"},{"location":"08/#8-mpi","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u4ee5\u4e0b\u306eMPI\u3092\u5229\u7528\u3067\u304d\u307e\u3059\u3002 Open MPI MVAPICH2 MVAPICH2-GDR Intel MPI \u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u74b0\u5883\u5909\u6570\uff08\u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u304a\u3088\u3073\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b5\u30fc\u30c1\u30d1\u30b9\uff09\u304c\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u3067 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u74b0\u5883\u5909\u6570\u306b\u52a0\u3048\u3001\u5b9f\u884c\u7528\u74b0\u5883\u5909\u6570\u3082\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 [ username@es1 ~ ] $ module load openmpi / 2.1.6 [ username@es1 ~ ] $ module load mvapich / mvapich2 - gdr / 2.3 [ username@es1 ~ ] $ module load mvapich / mvapich2 / 2.3 [ username@es1 ~ ] $ module load intel - mpi / 2018.2.199 \u4ee5\u4e0b\u3067\u306f\u3001ABCI\u30b7\u30b9\u30c6\u30e0\u306b\u5c0e\u5165\u3055\u308c\u3066\u3044\u308bMPI\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u4e00\u89a7\u3092\u793a\u3057\u307e\u3059\u3002","title":"8. MPI\u306e\u5229\u7528"},{"location":"08/#open-mpi","text":"openmpi/ Compiler version w/o CUDA CUDA 8.0 *1 CUDA 9.0 *1 CUDA 9.1 *1 CUDA 9.2 *1 CUDA 10.0 *1 CUDA 10.1 *1 1.10.7 GCC 4.8.5 Yes Yes Yes Yes Yes Yes - 2.1.3 GCC 4.8.5 Yes Yes Yes Yes Yes - - 2.1.5 GCC 4.8.5 Yes Yes Yes Yes Yes Yes - 2.1.5 PGI 18.5 Yes Yes Yes Yes Yes - - 2.1.6 GCC 4.8.5 Yes Yes Yes Yes Yes Yes - 2.1.6 PGI 18.5 Yes Yes Yes Yes Yes - - 3.0.3 GCC 4.8.5 Yes - - - - - - 3.1.0 GCC 4.8.5 Yes - - - - - - 3.1.2 GCC 4.8.5 Yes - - - - - - 3.1.3 GCC 4.8.5 Yes - - - - - - 3.1.3 PGI 18.5 Yes Yes Yes Yes Yes - - *1 CUDA-aware versions","title":"Open MPI"},{"location":"08/#mvapich2","text":"mvapich/mvapich2/ Compiler version w/o CUDA CUDA 8.0 *1 CUDA 9.0 *1 CUDA 9.1 *1 CUDA 9.2 *1 CUDA 10.0 *1 CUDA 10.1 *1 2.3rc2 GCC 4.8.5 Yes Yes Yes Yes Yes - - 2.3 GCC 4.8.5 Yes Yes Yes Yes Yes Yes - 2.3.2 GCC 4.8.5 Yes - - - - - - *1 CUDA-aware versions","title":"MVAPICH2"},{"location":"08/#mvapich2-gdr","text":"mvapich/mvapich2-gdr/ Compiler version CUDA 8.0 CUDA 9.0 CUDA 9.1 CUDA 9.2 CUDA 10.0 CUDA 10.1 2.3rc1 GCC 4.8.5 - Yes Yes Yes - - 2.3 GCC 4.8.5 - Yes Yes Yes - - 2.3 PGI 17.10 - Yes Yes Yes - - 2.3a GCC 4.8.5 Yes Yes Yes Yes - - 2.3.1 GCC 4.8.5 - - - Yes Yes - 2.3.1 PGI 18.10 - - - Yes Yes - 2.3.2 GCC 4.8.5 - - - Yes Yes -","title":"MVAPICH2-GDR"},{"location":"08/#intel-mpi","text":"intel-mpi/ 2018.2.199 Yes","title":"Intel MPI"},{"location":"09/","text":"9. Linux\u30b3\u30f3\u30c6\u30ca Singularity ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f Singularity \u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 [ username@g0001~ ] $ module load singularity / 2.6.1 \u3088\u308a\u7db2\u7f85\u7684\u306a\u30e6\u30fc\u30b6\u30ac\u30a4\u30c9\u306f\u3001 User Guide \u2014 Singularity container 2.6 documentation \u306b\u3042\u308a\u307e\u3059\u3002 Singularity\u3092\u7528\u3044\u3066\u3001NGC\u304c\u63d0\u4f9b\u3059\u308bDocker\u30a4\u30e1\u30fc\u30b8\u3092ABCI\u3067\u5b9f\u884c\u3059\u308b\u65b9\u6cd5\u306f\u3001 NVIDIA GPU Cloud (NGC) \u3067\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002 Singularity\u306e\u5b9f\u884c Singularity\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3001\u30b8\u30e7\u30d6\u4e2d\u306b singularity run \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057Singularity\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306f\u521d\u56de\u8d77\u52d5\u6642\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u3001\u30db\u30fc\u30e0\u9818\u57df\u306b\u30ad\u30e3\u30c3\u30b7\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002 2\u56de\u76ee\u4ee5\u964d\u306e\u8d77\u52d5\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u8d77\u52d5\u304c\u9ad8\u901f\u5316\u3055\u308c\u307e\u3059\u3002 Singularity\u306e\u5b9f\u884c\u4f8b\uff09 \u4ee5\u4e0b\u306e\u4f8b\u306fDocker Hub\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308bcaffe2\u306e\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u7528\u3057Singularity\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002 singularity run \u30b3\u30de\u30f3\u30c9\u306b\u3088\u308a\u8d77\u52d5\u3057\u305fSingularity\u30b3\u30f3\u30c6\u30ca\u4e0a\u3067 python sample.py \u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002 [ username@es1 ~ ] $ qrsh - l rt_F = 1 [ username@g0001~ ] $ module load singularity / 2.6.1 [ username@g0001~ ] $ singularity run --nv docker://caffe2ai/caffe2:latest Docker image path : index . docker . io / caffe2ai / caffe2 : latest Cache folder set to / fs3 / home / username / . singularity / docker Creating container runtime ... ... [ username@g0001~ ] $ python sample . py True Singularity\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210 Singularity\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306f\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 \u305f\u3060\u3057ABCI\u4e0a\u3067\u306frecipe\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u3044\u305f\u30a4\u30e1\u30fc\u30b8\u306ebuild\u306f\u5b9f\u884c\u3067\u304d\u307e\u305b\u3093\u3002 \u5229\u7528\u8005\u81ea\u8eab\u3067\u30ab\u30b9\u30bf\u30e0\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u5229\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001 ABCI\u306e\u74b0\u5883(Singularity\u3001\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3001MPI\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u7b49)\u306b\u5408\u308f\u305b\u305f\u30e6\u30fc\u30b6\u74b0\u5883\u3067 \u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u5f8c\u3001\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3092ABCI\u4e0a\u306b\u8ee2\u9001\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Singularity\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u4f8b\uff09 [ username@es1 ~ ] $ module load singularity / 2.6.1 [ username@es1 ~ ] $ singularity pull --name caffe2.img docker://caffe2ai/caffe2:latest Docker image path : index . docker . io / caffe2ai / caffe2 : latest Cache folder set to / fs3 / home / username / . singularity / docker ... [ username@es1 ~ ] $ ls caffe2 . img caffe2 . img Singularity\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5\u4f8b\uff09 [ username@es1 ~ ] $ module load singularity / 2.6.1 [ username@es1 ~ ] $ singularity run . / caffe2 . img Singularity\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u305f\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u4f8b\uff09 [ username @ es1 ~ ]$ cat submit . sh ( snip ) source / etc / profile . d / modules . sh module load singularity / 2 . 6 . 1 openmpi / 3 . 0 . 3 mpiexec - n 4 singularity exec -- nv . / caffe2 . img \\ python sample . py Docker ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306fDocker\u30b3\u30f3\u30c6\u30ca\u4e0a\u3067\u306e\u30b8\u30e7\u30d6\u5b9f\u884c\u304c\u53ef\u80fd\u3067\u3059\u3002 Docker\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3001\u30b8\u30e7\u30d6\u6295\u5165\u6642\u306b -l docker \u30aa\u30d7\u30b7\u30e7\u30f3\u3068 -l docker_images \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -l docker \u30b8\u30e7\u30d6\u3092Docker\u30b3\u30f3\u30c6\u30ca\u4e0a\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002 -l docker_images \u5229\u7528\u3059\u308bDocker\u30a4\u30e1\u30fc\u30b8\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u5229\u7528\u53ef\u80fd\u306aDocker\u30a4\u30e1\u30fc\u30b8\u306f show_docker_images \u30b3\u30de\u30f3\u30c9\u3067\u53c2\u7167\u53ef\u80fd\u3067\u3059\u3002 [ username@es1 ~ ] $ show_docker_images REPOSITORY TAG IMAGE ID CREATED SIZE jcm : 5000 / dhub / ubuntu latest 113 a43faa138 3 weeks ago 81.2 MB Warning ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u5185\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308bDocker\u30a4\u30e1\u30fc\u30b8\u306e\u307f\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 Docker\u30b8\u30e7\u30d6\u306e\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4f8b\uff09 \u4ee5\u4e0b\u306e\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306f python3 ./test.py \u304cDocker\u30b3\u30f3\u30c6\u30ca\u4e0a\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002 [ username@es1 ~ ] $ cat run . sh #! / bin / sh #$ - cwd #$ - j y #$ - l rt_F = 1 #$ - l docker = 1 #$ - l docker_images = \"*jcm:5000/dhub/ubuntu*\" python3 . / sample . py Docker\u30b8\u30e7\u30d6\u306e\u6295\u5165\u4f8b\uff09 [ username@es1 ~ ] $ qsub run . sh Your job 12345 ( \"run.sh\" ) has been submitted","title":"9. Linux\u30b3\u30f3\u30c6\u30ca"},{"location":"09/#9-linux","text":"","title":"9. Linux\u30b3\u30f3\u30c6\u30ca"},{"location":"09/#singularity","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f Singularity \u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 [ username@g0001~ ] $ module load singularity / 2.6.1 \u3088\u308a\u7db2\u7f85\u7684\u306a\u30e6\u30fc\u30b6\u30ac\u30a4\u30c9\u306f\u3001 User Guide \u2014 Singularity container 2.6 documentation \u306b\u3042\u308a\u307e\u3059\u3002 Singularity\u3092\u7528\u3044\u3066\u3001NGC\u304c\u63d0\u4f9b\u3059\u308bDocker\u30a4\u30e1\u30fc\u30b8\u3092ABCI\u3067\u5b9f\u884c\u3059\u308b\u65b9\u6cd5\u306f\u3001 NVIDIA GPU Cloud (NGC) \u3067\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002","title":"Singularity"},{"location":"09/#running-a-container-with-singularity","text":"Singularity\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3001\u30b8\u30e7\u30d6\u4e2d\u306b singularity run \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057Singularity\u30b3\u30f3\u30c6\u30ca\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306f\u521d\u56de\u8d77\u52d5\u6642\u306b\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3055\u308c\u3001\u30db\u30fc\u30e0\u9818\u57df\u306b\u30ad\u30e3\u30c3\u30b7\u30f3\u30b0\u3055\u308c\u307e\u3059\u3002 2\u56de\u76ee\u4ee5\u964d\u306e\u8d77\u52d5\u306f\u30ad\u30e3\u30c3\u30b7\u30e5\u3055\u308c\u305f\u30c7\u30fc\u30bf\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u8d77\u52d5\u304c\u9ad8\u901f\u5316\u3055\u308c\u307e\u3059\u3002 Singularity\u306e\u5b9f\u884c\u4f8b\uff09 \u4ee5\u4e0b\u306e\u4f8b\u306fDocker Hub\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308bcaffe2\u306e\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u4f7f\u7528\u3057Singularity\u3092\u5b9f\u884c\u3057\u3066\u3044\u307e\u3059\u3002 singularity run \u30b3\u30de\u30f3\u30c9\u306b\u3088\u308a\u8d77\u52d5\u3057\u305fSingularity\u30b3\u30f3\u30c6\u30ca\u4e0a\u3067 python sample.py \u304c\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002 [ username@es1 ~ ] $ qrsh - l rt_F = 1 [ username@g0001~ ] $ module load singularity / 2.6.1 [ username@g0001~ ] $ singularity run --nv docker://caffe2ai/caffe2:latest Docker image path : index . docker . io / caffe2ai / caffe2 : latest Cache folder set to / fs3 / home / username / . singularity / docker Creating container runtime ... ... [ username@g0001~ ] $ python sample . py True","title":"Singularity\u306e\u5b9f\u884c"},{"location":"09/#create-a-singularity-image","text":"Singularity\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306f\u30d5\u30a1\u30a4\u30eb\u3068\u3057\u3066\u4fdd\u5b58\u3059\u308b\u3053\u3068\u304c\u53ef\u80fd\u3067\u3059\u3002 \u305f\u3060\u3057ABCI\u4e0a\u3067\u306frecipe\u30d5\u30a1\u30a4\u30eb\u3092\u7528\u3044\u305f\u30a4\u30e1\u30fc\u30b8\u306ebuild\u306f\u5b9f\u884c\u3067\u304d\u307e\u305b\u3093\u3002 \u5229\u7528\u8005\u81ea\u8eab\u3067\u30ab\u30b9\u30bf\u30e0\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u5229\u7528\u3057\u305f\u3044\u5834\u5408\u306f\u3001 ABCI\u306e\u74b0\u5883(Singularity\u3001\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3001MPI\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u7b49)\u306b\u5408\u308f\u305b\u305f\u30e6\u30fc\u30b6\u74b0\u5883\u3067 \u30a4\u30e1\u30fc\u30b8\u3092\u4f5c\u6210\u5f8c\u3001\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3092ABCI\u4e0a\u306b\u8ee2\u9001\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Singularity\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210\u4f8b\uff09 [ username@es1 ~ ] $ module load singularity / 2.6.1 [ username@es1 ~ ] $ singularity pull --name caffe2.img docker://caffe2ai/caffe2:latest Docker image path : index . docker . io / caffe2ai / caffe2 : latest Cache folder set to / fs3 / home / username / . singularity / docker ... [ username@es1 ~ ] $ ls caffe2 . img caffe2 . img Singularity\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u305f\u30b3\u30f3\u30c6\u30ca\u306e\u8d77\u52d5\u4f8b\uff09 [ username@es1 ~ ] $ module load singularity / 2.6.1 [ username@es1 ~ ] $ singularity run . / caffe2 . img Singularity\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u3092\u4f7f\u7528\u3057\u305f\u30b8\u30e7\u30d6\u306e\u5b9f\u884c\u4f8b\uff09 [ username @ es1 ~ ]$ cat submit . sh ( snip ) source / etc / profile . d / modules . sh module load singularity / 2 . 6 . 1 openmpi / 3 . 0 . 3 mpiexec - n 4 singularity exec -- nv . / caffe2 . img \\ python sample . py","title":"Singularity\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u306e\u4f5c\u6210"},{"location":"09/#docker","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306fDocker\u30b3\u30f3\u30c6\u30ca\u4e0a\u3067\u306e\u30b8\u30e7\u30d6\u5b9f\u884c\u304c\u53ef\u80fd\u3067\u3059\u3002 Docker\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3001\u30b8\u30e7\u30d6\u6295\u5165\u6642\u306b -l docker \u30aa\u30d7\u30b7\u30e7\u30f3\u3068 -l docker_images \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30aa\u30d7\u30b7\u30e7\u30f3 \u8aac\u660e -l docker \u30b8\u30e7\u30d6\u3092Docker\u30b3\u30f3\u30c6\u30ca\u4e0a\u3067\u5b9f\u884c\u3057\u307e\u3059\u3002 -l docker_images \u5229\u7528\u3059\u308bDocker\u30a4\u30e1\u30fc\u30b8\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u5229\u7528\u53ef\u80fd\u306aDocker\u30a4\u30e1\u30fc\u30b8\u306f show_docker_images \u30b3\u30de\u30f3\u30c9\u3067\u53c2\u7167\u53ef\u80fd\u3067\u3059\u3002 [ username@es1 ~ ] $ show_docker_images REPOSITORY TAG IMAGE ID CREATED SIZE jcm : 5000 / dhub / ubuntu latest 113 a43faa138 3 weeks ago 81.2 MB Warning ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306f\u3001\u30b7\u30b9\u30c6\u30e0\u5185\u3067\u516c\u958b\u3055\u308c\u3066\u3044\u308bDocker\u30a4\u30e1\u30fc\u30b8\u306e\u307f\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 Docker\u30b8\u30e7\u30d6\u306e\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4f8b\uff09 \u4ee5\u4e0b\u306e\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u3067\u306f python3 ./test.py \u304cDocker\u30b3\u30f3\u30c6\u30ca\u4e0a\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u3002 [ username@es1 ~ ] $ cat run . sh #! / bin / sh #$ - cwd #$ - j y #$ - l rt_F = 1 #$ - l docker = 1 #$ - l docker_images = \"*jcm:5000/dhub/ubuntu*\" python3 . / sample . py Docker\u30b8\u30e7\u30d6\u306e\u6295\u5165\u4f8b\uff09 [ username@es1 ~ ] $ qsub run . sh Your job 12345 ( \"run.sh\" ) has been submitted","title":"Docker"},{"location":"10/","text":"10. \u30d7\u30ed\u30b0\u30e9\u30e0\u958b\u767a\u74b0\u5883 GNU Compiler Collection (GCC) ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306fGCC\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u30b3\u30f3\u30d1\u30a4\u30eb/\u30ea\u30f3\u30af\u30b3\u30de\u30f3\u30c9\u4e00\u89a7 \u7a2e\u5225 \u8a00\u8a9e\u51e6\u7406\u7cfb \u30b3\u30de\u30f3\u30c9 \u9010\u6b21 Fortran gfortran C gcc C++ g++ MPI\u4e26\u5217 Fortran mpifort C mpicc C++ mpic++ Intel Parallel Studio XE ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306fIntel Parallel Studio XE\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u3067 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u74b0\u5883\u5909\u6570\u306b \u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u304a\u3088\u3073\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b5\u30fc\u30c1\u30d1\u30b9\u304c\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u3001\u5b9f\u884c\u7528\u74b0\u5883\u5909\u6570\u3082\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 Intel Parallel Studio XE\u306e\u74b0\u5883\u8a2d\u5b9a [ username@g0001 ~ ] $ module load intel / 2018.2.199 \u30b3\u30f3\u30d1\u30a4\u30eb/\u30ea\u30f3\u30af\u30b3\u30de\u30f3\u30c9\u4e00\u89a7 \u8a00\u8a9e\u51e6\u7406\u7cfb \u30b3\u30de\u30f3\u30c9 Fortran ifort C icc C++ icpc PGI ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306fPGI\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u3067 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u74b0\u5883\u5909\u6570\u306b \u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u304a\u3088\u3073\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b5\u30fc\u30c1\u30d1\u30b9\u304c\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u3001\u5b9f\u884c\u7528\u74b0\u5883\u5909\u6570\u3082\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 PGI\u306e\u74b0\u5883\u8a2d\u5b9a [ username@g0001 ~ ] $ module load pgi / 18.5 \u30b3\u30f3\u30d1\u30a4\u30eb/\u30ea\u30f3\u30af\u30b3\u30de\u30f3\u30c9\u4e00\u89a7 \u8a00\u8a9e\u51e6\u7406\u7cfb \u30b3\u30de\u30f3\u30c9 Fortran pgf90 C pgcc C++ pgCC OpenMP ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u30b3\u30f3\u30d1\u30a4\u30e9\u306f\u3001 OpenMP\u3092\u7528\u3044\u305f\u30b9\u30ec\u30c3\u30c9\u4e26\u5217\u5316\u6a5f\u80fd\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002 OpenMP\u3092\u6709\u52b9\u5316\u3059\u308b\u5834\u5408\u3001\u30b3\u30f3\u30d1\u30a4\u30eb/\u30ea\u30f3\u30af\u6642\u306b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30aa\u30d7\u30b7\u30e7\u30f3 GCC -fopenmp Intel Parallel Studio -qopenmp PGI -mp CUDA ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306fCUDA\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u3067 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u74b0\u5883\u5909\u6570\u306b \u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u304a\u3088\u3073\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b5\u30fc\u30c1\u30d1\u30b9\u304c\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u3001\u5b9f\u884c\u7528\u74b0\u5883\u5909\u6570\u3082\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 \u8a00\u8a9e\u51e6\u7406\u7cfb \u30b3\u30de\u30f3\u30c9 C++ nvcc","title":"10. \u30d7\u30ed\u30b0\u30e9\u30e0\u958b\u767a\u74b0\u5883"},{"location":"10/#10","text":"","title":"10. \u30d7\u30ed\u30b0\u30e9\u30e0\u958b\u767a\u74b0\u5883"},{"location":"10/#gnu-compiler-collection-gcc","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306fGCC\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u30b3\u30f3\u30d1\u30a4\u30eb/\u30ea\u30f3\u30af\u30b3\u30de\u30f3\u30c9\u4e00\u89a7 \u7a2e\u5225 \u8a00\u8a9e\u51e6\u7406\u7cfb \u30b3\u30de\u30f3\u30c9 \u9010\u6b21 Fortran gfortran C gcc C++ g++ MPI\u4e26\u5217 Fortran mpifort C mpicc C++ mpic++","title":"GNU Compiler Collection (GCC)"},{"location":"10/#intel-parallel-studio-xe","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306fIntel Parallel Studio XE\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u3067 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u74b0\u5883\u5909\u6570\u306b \u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u304a\u3088\u3073\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b5\u30fc\u30c1\u30d1\u30b9\u304c\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u3001\u5b9f\u884c\u7528\u74b0\u5883\u5909\u6570\u3082\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 Intel Parallel Studio XE\u306e\u74b0\u5883\u8a2d\u5b9a [ username@g0001 ~ ] $ module load intel / 2018.2.199 \u30b3\u30f3\u30d1\u30a4\u30eb/\u30ea\u30f3\u30af\u30b3\u30de\u30f3\u30c9\u4e00\u89a7 \u8a00\u8a9e\u51e6\u7406\u7cfb \u30b3\u30de\u30f3\u30c9 Fortran ifort C icc C++ icpc","title":"Intel Parallel Studio XE"},{"location":"10/#pgi","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306fPGI\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u3067 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u74b0\u5883\u5909\u6570\u306b \u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u304a\u3088\u3073\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b5\u30fc\u30c1\u30d1\u30b9\u304c\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u3001\u5b9f\u884c\u7528\u74b0\u5883\u5909\u6570\u3082\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 PGI\u306e\u74b0\u5883\u8a2d\u5b9a [ username@g0001 ~ ] $ module load pgi / 18.5 \u30b3\u30f3\u30d1\u30a4\u30eb/\u30ea\u30f3\u30af\u30b3\u30de\u30f3\u30c9\u4e00\u89a7 \u8a00\u8a9e\u51e6\u7406\u7cfb \u30b3\u30de\u30f3\u30c9 Fortran pgf90 C pgcc C++ pgCC","title":"PGI"},{"location":"10/#openmp","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u7528\u610f\u3055\u308c\u3066\u3044\u308b\u30b3\u30f3\u30d1\u30a4\u30e9\u306f\u3001 OpenMP\u3092\u7528\u3044\u305f\u30b9\u30ec\u30c3\u30c9\u4e26\u5217\u5316\u6a5f\u80fd\u304c\u5b9f\u88c5\u3055\u308c\u3066\u3044\u307e\u3059\u3002 OpenMP\u3092\u6709\u52b9\u5316\u3059\u308b\u5834\u5408\u3001\u30b3\u30f3\u30d1\u30a4\u30eb/\u30ea\u30f3\u30af\u6642\u306b\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30aa\u30d7\u30b7\u30e7\u30f3 GCC -fopenmp Intel Parallel Studio -qopenmp PGI -mp","title":"OpenMP"},{"location":"10/#cuda","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306fCUDA\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u3067 module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u3068\u3001\u30b3\u30f3\u30d1\u30a4\u30eb\u7528\u74b0\u5883\u5909\u6570\u306b \u30d8\u30c3\u30c0\u30d5\u30a1\u30a4\u30eb\u304a\u3088\u3073\u30e9\u30a4\u30d6\u30e9\u30ea\u306e\u30b5\u30fc\u30c1\u30d1\u30b9\u304c\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u3001\u5b9f\u884c\u7528\u74b0\u5883\u5909\u6570\u3082\u81ea\u52d5\u3067\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 \u8a00\u8a9e\u51e6\u7406\u7cfb \u30b3\u30de\u30f3\u30c9 C++ nvcc","title":"CUDA"},{"location":"11/","text":"","title":"11"},{"location":"12/","text":"","title":"12"},{"location":"13/","text":"","title":"13"},{"location":"abci-cloudstorage/","text":"ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8 ABCI\u3067\u306f\u3001Amazon Simple Storage Service (Amazon S3) \u4e92\u63db\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5099\u3048\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\u4ee5\u964d\u3001\u3053\u306e\u30b5\u30fc\u30d3\u30b9\u3092ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u547c\u3073\u307e\u3059\u3002 ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u306f\u3001ABCI\u3067\u63d0\u4f9b\u3059\u308b\u4ed6\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d3\u30b9\u306b\u306a\u3044\u6b21\u306e\u7279\u5fb4\u304c\u3042\u308a\u307e\u3059\u3002 Amazon S3 \u4e92\u63db\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b: ABCI\u5229\u7528\u8005\u306f\u3001Amazon S3\u3068\u4e92\u63db\u6027\u306e\u3042\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u7528\u3044\u3066\u3001\u672c\u30b9\u30c8\u30ec\u30fc\u30b8\u5185\u3067\u4e00\u610f\u3067\u3042\u308b\u30d0\u30b1\u30c3\u30c8\u306e\u4e0b\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002AWS Command Line Interface\uff08AWS CLI\uff09\u3084 s3cmd \u306e\u3088\u3046\u306a S3 \u4e92\u63db\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002boto \u3092\u4f7f\u3063\u3066\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c4\u30fc\u30eb\u3092\u4f5c\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff08\u305f\u3060\u3057\u3001\u4e00\u90e8\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044API\u304c\u3042\u308a\u307e\u3059\uff09\u3002AWS CLI \u306e\u4f7f\u7528\u4f8b\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u3001ABCI\u5916\u90e8\u306e\u4e21\u65b9\u304b\u3089\u30a2\u30af\u30bb\u30b9\u53ef\u80fd: \u8a08\u7b97\u30ce\u30fc\u30c9\u3084\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u304b\u3089\u306e\u307f\u306a\u3089\u305a\u3001ABCI\u5916\u90e8\u304b\u3089\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30b8\u30e7\u30d6\u3067\u4f7f\u7528\u3059\u308b\u30c7\u30fc\u30bf\u3092\u5916\u90e8\u304b\u3089ABCI\u306b\u8ee2\u9001\u3059\u308b\u624b\u6bb5\u3068\u3057\u3066\u4f7f\u3048\u307e\u3059\u3002 \u6697\u53f7\u5316\u6a5f\u80fd\u3092\u63d0\u4f9b: \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u306e\u9593\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u3092\u6697\u53f7\u5316\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u5185\u3067\u6697\u53f7\u5316\u3057\u3066\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u5229\u7528\u3092\u958b\u59cb\u3059\u308b\u306b\u306f\u3001\u5404ABCI\u30b0\u30eb\u30fc\u30d7\u306e\u5229\u7528\u7ba1\u7406\u8005\u304b\u3089\u306e\u7533\u8acb\u304c\u5fc5\u8981\u3067\u3059\u3002 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u304b\u3089\u7533\u8acb\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\u5229\u7528\u7ba1\u7406\u8005\u3067\u306a\u3044\u5834\u5408\u306f\u3001\u6240\u5c5e\u30b0\u30eb\u30fc\u30d7\u306e\u5229\u7528\u7ba1\u7406\u8005\u306b\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb\u306e\u64cd\u4f5c\u65b9\u6cd5\u306b\u95a2\u3057\u3066\u306f\u3001 \u3053\u3061\u3089 \u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306f\u3001\u4f7f\u7528\u91cf(\u30c7\u30fc\u30bf\u5360\u6709\u91cf)\u306b\u5fdc\u3058\u3066\u8ab2\u91d1\u3055\u308c\u307e\u3059\u3002\u6d88\u8cbb\u3055\u308c\u308b\u30dd\u30a4\u30f3\u30c8\u306b\u3064\u3044\u3066\u306f \u6599\u91d1\u8868 \u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002\u306a\u304a\u3001\u8ee2\u9001\u91cf\u3084API\u306e\u547c\u3073\u51fa\u3057\u56de\u6570\u306b\u3088\u308b\u8ab2\u91d1\u306f\u3042\u308a\u307e\u305b\u3093\u3002 Note \u73fe\u5728\u306f\u304a\u8a66\u3057\u5229\u7528\u671f\u9593\u306e\u305f\u3081\u3001\u5229\u7528\u6599\u91d1\u306f\u304b\u304b\u308a\u307e\u305b\u3093\u3002 \u30da\u30fc\u30b8\u540d \u6982\u8981 \u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u30a2\u30af\u30bb\u30b9\u30ad\u30fc ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u7528\u3044\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u8a8d\u8a3c\u7528\u306e\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002 \u4f7f\u3044\u65b9 \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3084\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306a\u3069\u306e\u57fa\u672c\u64cd\u4f5c\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u306e\u6697\u53f7\u5316 \u6697\u53f7\u5316\u306e\u6a5f\u80fd\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff081\uff09 ACL\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002\u30b0\u30eb\u30fc\u30d7\u9593\u3067\u306e\u30c7\u30fc\u30bf\u5171\u6709\u306e\u8a2d\u5b9a\u306a\u3069\u304c\u53ef\u80fd\u3067\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff082\uff09 \u30a2\u30ab\u30a6\u30f3\u30c8\u6bce\u306b\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u3092\u884c\u3046\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002ACL\u3067\u306f\u5b9f\u73fe\u3067\u304d\u306a\u3044\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u3082\u53ef\u80fd\u3067\u3059\u304c\u3001\u672c\u5236\u5fa1\u306f\u7ba1\u7406\u8005\u7528\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u306e\u307f\u5b9f\u884c\u53ef\u80fd\u3067\u3059\u3002","title":"\u6982\u8981"},{"location":"abci-cloudstorage/#abci","text":"ABCI\u3067\u306f\u3001Amazon Simple Storage Service (Amazon S3) \u4e92\u63db\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30fc\u30b9\u3092\u5099\u3048\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d3\u30b9\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\u4ee5\u964d\u3001\u3053\u306e\u30b5\u30fc\u30d3\u30b9\u3092ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u547c\u3073\u307e\u3059\u3002 ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u306f\u3001ABCI\u3067\u63d0\u4f9b\u3059\u308b\u4ed6\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30b5\u30fc\u30d3\u30b9\u306b\u306a\u3044\u6b21\u306e\u7279\u5fb4\u304c\u3042\u308a\u307e\u3059\u3002 Amazon S3 \u4e92\u63db\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u63d0\u4f9b: ABCI\u5229\u7528\u8005\u306f\u3001Amazon S3\u3068\u4e92\u63db\u6027\u306e\u3042\u308b\u30a4\u30f3\u30bf\u30d5\u30a7\u30fc\u30b9\u3092\u7528\u3044\u3066\u3001\u672c\u30b9\u30c8\u30ec\u30fc\u30b8\u5185\u3067\u4e00\u610f\u3067\u3042\u308b\u30d0\u30b1\u30c3\u30c8\u306e\u4e0b\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3068\u3057\u3066\u30c7\u30fc\u30bf\u3092\u683c\u7d0d\u3057\u307e\u3059\u3002AWS Command Line Interface\uff08AWS CLI\uff09\u3084 s3cmd \u306e\u3088\u3046\u306a S3 \u4e92\u63db\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u4f7f\u7528\u3067\u304d\u307e\u3059\u3002boto \u3092\u4f7f\u3063\u3066\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c4\u30fc\u30eb\u3092\u4f5c\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\uff08\u305f\u3060\u3057\u3001\u4e00\u90e8\u30b5\u30dd\u30fc\u30c8\u3055\u308c\u3066\u3044\u306a\u3044API\u304c\u3042\u308a\u307e\u3059\uff09\u3002AWS CLI \u306e\u4f7f\u7528\u4f8b\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002 \u8a08\u7b97\u30ce\u30fc\u30c9\u3001ABCI\u5916\u90e8\u306e\u4e21\u65b9\u304b\u3089\u30a2\u30af\u30bb\u30b9\u53ef\u80fd: \u8a08\u7b97\u30ce\u30fc\u30c9\u3084\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u304b\u3089\u306e\u307f\u306a\u3089\u305a\u3001ABCI\u5916\u90e8\u304b\u3089\u76f4\u63a5\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001\u30b8\u30e7\u30d6\u3067\u4f7f\u7528\u3059\u308b\u30c7\u30fc\u30bf\u3092\u5916\u90e8\u304b\u3089ABCI\u306b\u8ee2\u9001\u3059\u308b\u624b\u6bb5\u3068\u3057\u3066\u4f7f\u3048\u307e\u3059\u3002 \u6697\u53f7\u5316\u6a5f\u80fd\u3092\u63d0\u4f9b: \u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3068\u306e\u9593\u306e\u30c7\u30fc\u30bf\u8ee2\u9001\u3092\u6697\u53f7\u5316\u3067\u304d\u307e\u3059\u3002\u307e\u305f\u3001ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u5185\u3067\u6697\u53f7\u5316\u3057\u3066\u30c7\u30fc\u30bf\u3092\u4fdd\u5b58\u3057\u3066\u304a\u304f\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u5229\u7528\u3092\u958b\u59cb\u3059\u308b\u306b\u306f\u3001\u5404ABCI\u30b0\u30eb\u30fc\u30d7\u306e\u5229\u7528\u7ba1\u7406\u8005\u304b\u3089\u306e\u7533\u8acb\u304c\u5fc5\u8981\u3067\u3059\u3002 ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u304b\u3089\u7533\u8acb\u3092\u884c\u3063\u3066\u304f\u3060\u3055\u3044\u3002\u5229\u7528\u7ba1\u7406\u8005\u3067\u306a\u3044\u5834\u5408\u306f\u3001\u6240\u5c5e\u30b0\u30eb\u30fc\u30d7\u306e\u5229\u7528\u7ba1\u7406\u8005\u306b\u304a\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb\u306e\u64cd\u4f5c\u65b9\u6cd5\u306b\u95a2\u3057\u3066\u306f\u3001 \u3053\u3061\u3089 \u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306f\u3001\u4f7f\u7528\u91cf(\u30c7\u30fc\u30bf\u5360\u6709\u91cf)\u306b\u5fdc\u3058\u3066\u8ab2\u91d1\u3055\u308c\u307e\u3059\u3002\u6d88\u8cbb\u3055\u308c\u308b\u30dd\u30a4\u30f3\u30c8\u306b\u3064\u3044\u3066\u306f \u6599\u91d1\u8868 \u3092\u3054\u78ba\u8a8d\u304f\u3060\u3055\u3044\u3002\u306a\u304a\u3001\u8ee2\u9001\u91cf\u3084API\u306e\u547c\u3073\u51fa\u3057\u56de\u6570\u306b\u3088\u308b\u8ab2\u91d1\u306f\u3042\u308a\u307e\u305b\u3093\u3002 Note \u73fe\u5728\u306f\u304a\u8a66\u3057\u5229\u7528\u671f\u9593\u306e\u305f\u3081\u3001\u5229\u7528\u6599\u91d1\u306f\u304b\u304b\u308a\u307e\u305b\u3093\u3002 \u30da\u30fc\u30b8\u540d \u6982\u8981 \u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u30a2\u30af\u30bb\u30b9\u30ad\u30fc ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u7528\u3044\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u8a8d\u8a3c\u7528\u306e\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002 \u4f7f\u3044\u65b9 \u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3084\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306a\u3069\u306e\u57fa\u672c\u64cd\u4f5c\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002 \u30c7\u30fc\u30bf\u306e\u6697\u53f7\u5316 \u6697\u53f7\u5316\u306e\u6a5f\u80fd\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff081\uff09 ACL\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002\u30b0\u30eb\u30fc\u30d7\u9593\u3067\u306e\u30c7\u30fc\u30bf\u5171\u6709\u306e\u8a2d\u5b9a\u306a\u3069\u304c\u53ef\u80fd\u3067\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff082\uff09 \u30a2\u30ab\u30a6\u30f3\u30c8\u6bce\u306b\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u3092\u884c\u3046\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u3066\u3044\u307e\u3059\u3002ACL\u3067\u306f\u5b9f\u73fe\u3067\u304d\u306a\u3044\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u3082\u53ef\u80fd\u3067\u3059\u304c\u3001\u672c\u5236\u5fa1\u306f\u7ba1\u7406\u8005\u7528\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u306e\u307f\u5b9f\u884c\u53ef\u80fd\u3067\u3059\u3002","title":"ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8"},{"location":"appendix1/","text":"\u4ed8\u93321. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u69cb\u6210 Note \u672c\u9805\u3067\u8aac\u660e\u3059\u308b\u306e\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u69cb\u6210\u306e\u4e00\u90e8\u3067\u3059\u3002 Open MPI Open MPI 2.1.3 (for GCC) w/o CUDA INSTALL_DIR =/ apps / openmpi / 2.1.3 / gcc4 .8.5 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 2.1.3 [ username@g0001 openmpi-2.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ su [ root@g0001 openmpi-2.1.3 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-2.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 8.0.61.2 INSTALL_DIR =/ apps / openmpi / 2.1.3 / gcc4 .8.5 _cuda8 .0.61.2 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 2.1.3 [ username@g0001 ~ ] $ module load cuda / 8.0 / 8.0.61.2 [ username@g0001 openmpi-2.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ su [ root@g0001 openmpi-2.1.3 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-2.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.0.176.2 INSTALL_DIR =/ apps / openmpi / 2.1.3 / gcc4 .8.5 _cuda9 .0.176.2 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 2.1.3 [ username@g0001 ~ ] $ module load cuda / 9.0 / 9.0.176.2 [ username@g0001 openmpi-2.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ su [ root@g0001 openmpi-2.1.3 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-2.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.1.85.3 INSTALL_DIR =/ apps / openmpi / 2.1.3 / gcc4 .8.5 _cuda9 .1.85.3 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 2.1.3 [ username@g0001 ~ ] $ module load cuda / 9.1 / 9.1.85.3 [ username@g0001 openmpi-2.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ su [ root@g0001 openmpi-2.1.3 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-2.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.2.88.1 INSTALL_DIR =/ apps / openmpi / 2.1.3 / gcc4 .8.5 _cuda9 .2.88.1 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 2.1.3 [ username@g0001 ~ ] $ module load cuda / 9.2.88.1 [ username@g0001 openmpi-2.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ su [ root@g0001 openmpi-2.1.3 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-2.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf Open MPI 3.1.0 (for GCC) w/o CUDA INSTALL_DIR =/ apps / openmpi / 3.1.0 / gcc4 .8.5 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 3.1.0 [ username@g0001 openmpi-3.1.0 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ su [ root@g0001 openmpi-3.1.0 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-3.1.0 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 8.0.61.2 INSTALL_DIR =/ apps / openmpi / 3.1.0 / gcc4 .8.5 _cuda8 .0.61.2 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 3.1.0 [ username@g0001 ~ ] $ module load cuda / 8.0 / 8.0.61.2 [ username@g0001 ~ ] $ INSTALL_DIR =/ apps / openmpi / 3.1.0 / gcc4 .8.5 _cuda8 .0.61.2 [ username@g0001 openmpi-3.1.0 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-orterun-prefix-by-default \\ --with-cuda=$CUDA_HOME \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ su [ root@g0001 openmpi-3.1.0 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-3.1.0 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.0.176.2 INSTALL_DIR =/ apps / openmpi / 3.1.0 / gcc4 .8.5 _cuda9 .0.176.2 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 3.1.0 [ username@g0001 ~ ] $ module load cuda / 9.0 / 9.0.176.2 [ username@g0001 openmpi-3.1.0 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-orterun-prefix-by-default \\ --with-cuda=$CUDA_HOME \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ su [ root@g0001 openmpi-3.1.0 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-3.1.0 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.1.85.3 INSTALL_DIR =/ apps / openmpi / 3.1.0 / gcc4 .8.5 _cuda9 .1.85.3 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 3.1.0 [ username@g0001 ~ ] $ module load cuda / 9.1 / 9.1.85.3 [ username@g0001 openmpi-3.1.0 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-orterun-prefix-by-default \\ --with-cuda=$CUDA_HOME \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ su [ root@g0001 openmpi-3.1.0 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-3.1.0 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.2.88.1 INSTALL_DIR =/ apps / openmpi / 3.1.0 / gcc4 .8.5 _cuda9 .2.88.1 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 3.1.0 [ username@g0001 ~ ] $ module load cuda / 9.2 / 9.2.88.1 [ username@g0001 openmpi-3.1.0 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-orterun-prefix-by-default \\ --with-cuda=$CUDA_HOME \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ su [ root@g0001 openmpi-3.1.0 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-3.1.0 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf Open MPI 2.1.6 (for PGI18.5) w/o CUDA INSTALL_DIR = '/apps/openmpi/2.1.6/pgi18.5' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ cd openmpi - 2.1.6 [ username@g0001 openmpi-2.1.6 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-2.1.6 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-2.1.6 ] $ su [ root@g0001 openmpi-2.1.6 ] # make install [ root@g0001 openmpi-2.1.6 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 8.0.61.2 INSTALL_DIR = '/apps/openmpi/2.1.6/pgi18.5_cuda8.0.61.2' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 8.0 / 8.0.61.2 [ username@g0001 ~ ] $ cd openmpi - 2.1.6 [ username@g0001 openmpi-2.1.6 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-2.1.6 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-2.1.6 ] $ su [ root@g0001 openmpi-2.1.6 ] # make install [ root@g0001 openmpi-2.1.6 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.0.176.2 INSTALL_DIR = '/apps/openmpi/2.1.6/pgi18.5_cuda9.0.176.2' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.0 / 9.0.176.2 [ username@g0001 ~ ] $ cd openmpi - 2.1.6 [ username@g0001 openmpi-2.1.6 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-2.1.6 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-2.1.6 ] $ su [ root@g0001 openmpi-2.1.6 ] # make install [ root@g0001 openmpi-2.1.6 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.1.85.3 INSTALL_DIR = '/apps/openmpi/2.1.6/pgi18.5_cuda9.1.85.3' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.1 / 9.1.85.3 [ username@g0001 ~ ] $ cd openmpi - 2.1.6 [ username@g0001 openmpi-2.1.6 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-2.1.6 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-2.1.6 ] $ su [ root@g0001 openmpi-2.1.6 ] # make install [ root@g0001 openmpi-2.1.6 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.2.88.1 INSTALL_DIR = '/apps/openmpi/2.1.6/pgi18.5_cuda9.2.88.1' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.2 / 9.2.88.1 [ username@g0001 ~ ] $ cd openmpi - 2.1.6 [ username@g0001 openmpi-2.1.6 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-2.1.6 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-2.1.6 ] $ su [ root@g0001 openmpi-2.1.6 ] # make install [ root@g0001 openmpi-2.1.6 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.2.148.1 INSTALL_DIR = '/apps/openmpi/2.1.6/pgi18.5_cuda9.2.148.1' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.2 / 9.2.148.1 [ username@g0001 ~ ] $ cd openmpi - 2.1.6 [ username@g0001 openmpi-2.1.6 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-2.1.6 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-2.1.6 ] $ su [ root@g0001 openmpi-2.1.6 ] # make install [ root@g0001 openmpi-2.1.6 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf Open MPI 3.1.3 (for PGI18.5) w/o CUDA INSTALL_DIR = '/apps/openmpi/3.1.3/pgi18.5' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ cd openmpi - 3.1.3 [ username@g0001 openmpi-3.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-3.1.3 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-3.1.3 ] $ su [ root@g0001 openmpi-3.1.3 ] # make install [ root@g0001 openmpi-3.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 8.0.61.2 INSTALL_DIR = '/apps/openmpi/3.1.3/pgi18.5_cuda8.0.61.2' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 8.0 / 8.0.61.2 [ username@g0001 ~ ] $ cd openmpi - 3.1.3 [ username@g0001 openmpi-3.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-3.1.3 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-3.1.3 ] $ su [ root@g0001 openmpi-3.1.3 ] # make install [ root@g0001 openmpi-3.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.0.176.2 INSTALL_DIR = '/apps/openmpi/3.1.3/pgi18.5_cuda9.0.176.2' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.0 / 9.0.176.2 [ username@g0001 ~ ] $ cd openmpi - 3.1.3 [ username@g0001 openmpi-3.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-3.1.3 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-3.1.3 ] $ su [ root@g0001 openmpi-3.1.3 ] # make install [ root@g0001 openmpi-3.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.1.85.3 INSTALL_DIR = '/apps/openmpi/3.1.3/pgi18.5_cuda9.1.85.3' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.1 / 9.1.85.3 [ username@g0001 ~ ] $ cd openmpi - 3.1.3 [ username@g0001 openmpi-3.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-3.1.3 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-3.1.3 ] $ su [ root@g0001 openmpi-3.1.3 ] # make install [ root@g0001 openmpi-3.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.2.88.1 INSTALL_DIR = '/apps/openmpi/3.1.3/pgi18.5_cuda9.2.88.1' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.2 / 9.2.88.1 [ username@g0001 ~ ] $ cd openmpi - 3.1.3 [ username@g0001 openmpi-3.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-3.1.3 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-3.1.3 ] $ su [ root@g0001 openmpi-3.1.3 ] # make install [ root@g0001 openmpi-3.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf CUDA 9.2.148.1 INSTALL_DIR = '/apps/openmpi/3.1.3/pgi18.5_cuda9.2.148.1' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.2 / 9.2.148.1 [ username@g0001 ~ ] $ cd openmpi - 3.1.3 [ username@g0001 openmpi-3.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-3.1.3 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-3.1.3 ] $ su [ root@g0001 openmpi-3.1.3 ] # make install [ root@g0001 openmpi-3.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf MVAPICH2 (for GCC) w/o CUDA INSTALL_DIR =/ app / mvapich2 / 2.3 rc2 / gcc4 .8.5 [ username@g0001 ~ ] $ wget http : // mvapich . cse . ohio - state . edu / download / mvapich / mv2 / mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ tar zxf mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ cd mvapich2 - 2.3 rc2 [ username@g0001 mvapich2-2.3rc2 ] $ . / configure --prefix=$INSTALL_DIR 2>&1 | tee configure.log [ username@g0001 mvapich2-2.3rc2 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make check - j8 > make_check . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ su [ root@g0001 mvapich2-2.3rc2 ] # make install 2 >& 1 | tee make_install . log CUDA 8.0.61.2 INSTALL_DIR =/ apps / mvapich2 / 2.3 rc2 / gcc4 .8.5 _cuda8 .0.61.2 [ username@g0001 ~ ] $ wget http : // mvapich . cse . ohio - state . edu / download / mvapich / mv2 / mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ tar zxf mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ cd mvapich2 - 2.3 rc2 [ username@g0001 mvapich2-2.3rc2 ] $ module load cuda / 8.0 / 8.0.61.2 [ username@g0001 mvapich2-2.3rc2 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-cuda \\ --with-cuda=$CUDA_HOME \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make check - j8 > make_check . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ su [ root@g0001 mvapich2-2.3rc2 ] # make install 2 >& 1 | tee make_install . log CUDA 9.0.176.2 INSTALL_DIR =/ apps / mvapich2 / 2.3 rc2 / gcc4 .8.5 _cuda9 .0.176.2 [ username@g0001 ~ ] $ wget http : // mvapich . cse . ohio - state . edu / download / mvapich / mv2 / mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ tar zxf mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ cd mvapich2 - 2.3 rc2 [ username@g0001 mvapich2-2.3rc2 ] $ module load cuda / 9.0 / 9.0.176.2 [ username@g0001 mvapich2-2.3rc2 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-cuda \\ --with-cuda=$CUDA_HOME \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make check - j8 > make_check . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ su [ root@g0001 mvapich2-2.3rc2 ] # make install 2 >& 1 | tee make_install . log CUDA 9.1.85.3 INSTALL_DIR =/ apps / mvapich2 / 2.3 rc2 / gcc4 .8.5 _cuda9 .1.85.3 [ username@g0001 ~ ] $ wget http : // mvapich . cse . ohio - state . edu / download / mvapich / mv2 / mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ tar zxf mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ cd mvapich2 - 2.3 rc2 [ username@g0001 mvapich2-2.3rc2 ] $ module load cuda / 9.1 / 9.1.85.3 [ username@g0001 mvapich2-2.3rc2 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-cuda \\ --with-cuda=$CUDA_HOME \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make check - j8 > make_check . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ su [ root@g0001 mvapich2-2.3rc2 ] # make install 2 >& 1 | tee make_install . log CUDA 9.2.88.1 INSTALL_DIR =/ apps / mvapich2 / 2.3 rc2 / gcc4 .8.5 _cuda9 .2.88.1 [ username@g0001 ~ ] $ wget http : // mvapich . cse . ohio - state . edu / download / mvapich / mv2 / mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ tar zxf mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ cd mvapich2 - 2.3 rc2 [ username@g0001 mvapich2-2.3rc2 ] $ module load cuda / 9.2 / 9.2.88.1 [ username@g0001 mvapich2-2.3rc2 ] $ . / configure \\ --prefix=INSTALL_DIR \\ --enable-cuda \\ --with-cuda=$CUDA_HOME \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make check - j8 > make_check . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ su [ root@g0001 mvapich2-2.3rc2 ] # make install 2 >& 1 | tee make_install . log Python Python 2.7.15 INSTALL_DIR =/ apps / python / 2.7.15 [ username@g0001 ~ ] $ wget https : // www . python . org / ftp / python / 2.7.15 / Python - 2.7.15 . tar . xz [ username@g0001 ~ ] $ tar Jxf Python - 2.7.15 . tar . xz [ username@g0001 ~ ] $ cd Python - 2.7.15 [ username@g0001 Python-2.7.15 ] $ CXX = g ++ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-optimizations \\ --enable-shared \\ --with-ensurepip \\ --enable-unicode=ucs4 \\ --with-dbmliborder=gdbm:ndbm:bdb \\ --with-system-expat \\ --with-system-ffi \\ > configure . log 2 >& 1 [ username@g0001 Python-2.7.15 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 Python-2.7.15 ] $ make test > make_test . log 2 >& 1 [ username@g0001 Python-2.7.15 ] $ su [ root@g0001 Python-2.7.15 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 Python-2.7.15 ] # export PATH = $ INSTALL_DIR / bin : $ PATH [ root@g0001 Python-2.7.15 ] # pip install virtualenv R R 3.5.0 INSTALL_DIR =/ apps / R / 3.5.0 [ username@g0001 ~ ] $ wget https : // cran . ism . ac . jp / src / base / R - 3 / R - 3.5.0 . tar . gz [ username@g0001 ~ ] $ tar zxf R - 3.5.0 . tar . gz [ username@g0001 ~ ] $ cd R - 3.5.0 [ username@g0001 R-3.5.0 ] $ . / configure --prefix=$INSTALL_DIR 2>&1 | tee configure.log [ username@g0001 R-3.5.0 ] $ make 2 >& 1 | tee make . log [ username@g0001 R-3.5.0 ] $ make check 2 >& 1 | tee make_check . log [ username@g0001 R-3.5.0 ] $ su [ username@g0001 R-3.5.0 ] # make install 2 >& 1 | tee make_install . log NVIDIA Collective Communications Library (NCCL) NCCL 1.3.5 CUDA 8.0.61.2 INSTALL_DIR =/ apps / nccl / 1.3.5 / cuda8 .0 [ username@es1 ~ ] $ git clone https : // github . com / NVIDIA / nccl . git [ username@es1 ~ ] $ cd nccl [ username@es1 nccl ] $ module load cuda / 8.0 / 8.0.61.2 [ username@es1 nccl ] $ make CUDA_HOME = $ CUDA_HOME test [ username@es1 nccl ] $ su [ root@es1 nccl ] # mkdir - p $ INSTALL_DIR [ root@es1 nccl ] # make PREFIX = $ INSTALL_DIR install CUDA 9.0.176.2 INSTALL_DIR =/ apps / nccl / 1.3.5 / cuda9 .0 [ username@es1 ~ ] $ git clone https : // github . com / NVIDIA / nccl . git [ username@es1 ~ ] $ cd nccl [ username@es1 nccl ] $ module load cuda / 9.0 / 9.0.176.2 [ username@es1 nccl ] $ make CUDA_HOME = $ CUDA_HOME test [ username@es1 nccl ] $ su [ root@es1 nccl ] # mkdir - p $ INSTALL_DIR [ root@es1 nccl ] # make PREFIX = $ INSTALL_DIR install CUDA 9.1.85.3 INSTALL_DIR =/ apps / nccl / 1.3.5 / cuda9 .1 [ username@es1 ~ ] $ git clone https : // github . com / NVIDIA / nccl . git [ username@es1 ~ ] $ cd nccl [ username@es1 nccl ] $ module load cuda / 9.1 / 9.1.85.3 [ username@es1 nccl ] $ make CUDA_HOME = $ CUDA_HOME test [ username@es1 nccl ] $ su [ root@es1 nccl ] # mkdir - p $ INSTALL_DIR [ root@es1 nccl ] # make PREFIX = $ INSTALL_DIR install CUDA 9.2.88.1 INSTALL_DIR =/ apps / nccl / 1.3.5 / cuda9 .2 [ username@es1 ~ ] $ git clone https : // github . com / NVIDIA / nccl . git [ username@es1 ~ ] $ cd nccl [ username@es1 nccl ] $ module load cuda / 9.2 / 9.2.88.1 [ username@es1 nccl ] $ make CUDA_HOME = $ CUDA_HOME test [ username@es1 nccl ] $ su [ root@es1 nccl ] # mkdir - p $ INSTALL_DIR [ root@es1 nccl ] # make PREFIX = $ INSTALL_DIR install \u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af \u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af \u306f\u3001\u5229\u7528\u8005\u6a29\u9650\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u5927\u898f\u6a21\u30c7\u30fc\u30bf\u51e6\u7406 Hadoop INSTALL_DIR =/ apps / hadoop / 2 . 9 . 1 wget https : // archive . apache . org / dist / hadoop / common / hadoop - 2 . 9 . 1 / hadoop - 2 . 9 . 1 . tar . gz sudo mkdir - p $ INSTALL_DIR sudo tar xzf hadoop - 2 . 9 . 1 . tar . gz - C $ INSTALL_DIR --strip=1 sudo chown - R root : root $ INSTALL_DIR","title":"\u4ed8\u93321. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u69cb\u6210"},{"location":"appendix1/#1","text":"Note \u672c\u9805\u3067\u8aac\u660e\u3059\u308b\u306e\u306f\u3001\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u69cb\u6210\u306e\u4e00\u90e8\u3067\u3059\u3002","title":"\u4ed8\u93321. \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u6e08\u307f\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u69cb\u6210"},{"location":"appendix1/#open-mpi","text":"","title":"Open MPI"},{"location":"appendix1/#open-mpi-213-for-gcc","text":"","title":"Open MPI 2.1.3 (for GCC)"},{"location":"appendix1/#wo-cuda","text":"INSTALL_DIR =/ apps / openmpi / 2.1.3 / gcc4 .8.5 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 2.1.3 [ username@g0001 openmpi-2.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ su [ root@g0001 openmpi-2.1.3 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-2.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"w/o CUDA"},{"location":"appendix1/#cuda-80612","text":"INSTALL_DIR =/ apps / openmpi / 2.1.3 / gcc4 .8.5 _cuda8 .0.61.2 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 2.1.3 [ username@g0001 ~ ] $ module load cuda / 8.0 / 8.0.61.2 [ username@g0001 openmpi-2.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ su [ root@g0001 openmpi-2.1.3 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-2.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 8.0.61.2"},{"location":"appendix1/#cuda-901762","text":"INSTALL_DIR =/ apps / openmpi / 2.1.3 / gcc4 .8.5 _cuda9 .0.176.2 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 2.1.3 [ username@g0001 ~ ] $ module load cuda / 9.0 / 9.0.176.2 [ username@g0001 openmpi-2.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ su [ root@g0001 openmpi-2.1.3 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-2.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.0.176.2"},{"location":"appendix1/#cuda-91853","text":"INSTALL_DIR =/ apps / openmpi / 2.1.3 / gcc4 .8.5 _cuda9 .1.85.3 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 2.1.3 [ username@g0001 ~ ] $ module load cuda / 9.1 / 9.1.85.3 [ username@g0001 openmpi-2.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ su [ root@g0001 openmpi-2.1.3 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-2.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.1.85.3"},{"location":"appendix1/#cuda-92881","text":"INSTALL_DIR =/ apps / openmpi / 2.1.3 / gcc4 .8.5 _cuda9 .2.88.1 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.3 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 2.1.3 [ username@g0001 ~ ] $ module load cuda / 9.2.88.1 [ username@g0001 openmpi-2.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-2.1.3 ] $ su [ root@g0001 openmpi-2.1.3 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-2.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.2.88.1"},{"location":"appendix1/#open-mpi-310-for-gcc","text":"","title":"Open MPI 3.1.0 (for GCC)"},{"location":"appendix1/#wo-cuda_1","text":"INSTALL_DIR =/ apps / openmpi / 3.1.0 / gcc4 .8.5 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 3.1.0 [ username@g0001 openmpi-3.1.0 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ su [ root@g0001 openmpi-3.1.0 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-3.1.0 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"w/o CUDA"},{"location":"appendix1/#cuda-80612_1","text":"INSTALL_DIR =/ apps / openmpi / 3.1.0 / gcc4 .8.5 _cuda8 .0.61.2 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 3.1.0 [ username@g0001 ~ ] $ module load cuda / 8.0 / 8.0.61.2 [ username@g0001 ~ ] $ INSTALL_DIR =/ apps / openmpi / 3.1.0 / gcc4 .8.5 _cuda8 .0.61.2 [ username@g0001 openmpi-3.1.0 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-orterun-prefix-by-default \\ --with-cuda=$CUDA_HOME \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ su [ root@g0001 openmpi-3.1.0 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-3.1.0 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 8.0.61.2"},{"location":"appendix1/#cuda-901762_1","text":"INSTALL_DIR =/ apps / openmpi / 3.1.0 / gcc4 .8.5 _cuda9 .0.176.2 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 3.1.0 [ username@g0001 ~ ] $ module load cuda / 9.0 / 9.0.176.2 [ username@g0001 openmpi-3.1.0 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-orterun-prefix-by-default \\ --with-cuda=$CUDA_HOME \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ su [ root@g0001 openmpi-3.1.0 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-3.1.0 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.0.176.2"},{"location":"appendix1/#cuda-91853_1","text":"INSTALL_DIR =/ apps / openmpi / 3.1.0 / gcc4 .8.5 _cuda9 .1.85.3 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 3.1.0 [ username@g0001 ~ ] $ module load cuda / 9.1 / 9.1.85.3 [ username@g0001 openmpi-3.1.0 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-orterun-prefix-by-default \\ --with-cuda=$CUDA_HOME \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ su [ root@g0001 openmpi-3.1.0 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-3.1.0 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.1.85.3"},{"location":"appendix1/#cuda-92881_1","text":"INSTALL_DIR =/ apps / openmpi / 3.1.0 / gcc4 .8.5 _cuda9 .2.88.1 [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.0 . tar . bz2 [ username@g0001 ~ ] $ cd openmpi - 3.1.0 [ username@g0001 ~ ] $ module load cuda / 9.2 / 9.2.88.1 [ username@g0001 openmpi-3.1.0 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-orterun-prefix-by-default \\ --with-cuda=$CUDA_HOME \\ --with-sge \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 openmpi-3.1.0 ] $ su [ root@g0001 openmpi-3.1.0 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 openmpi-3.1.0 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.2.88.1"},{"location":"appendix1/#open-mpi-216-for-pgi185","text":"","title":"Open MPI 2.1.6 (for PGI18.5)"},{"location":"appendix1/#wo-cuda_2","text":"INSTALL_DIR = '/apps/openmpi/2.1.6/pgi18.5' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ cd openmpi - 2.1.6 [ username@g0001 openmpi-2.1.6 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-2.1.6 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-2.1.6 ] $ su [ root@g0001 openmpi-2.1.6 ] # make install [ root@g0001 openmpi-2.1.6 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"w/o CUDA"},{"location":"appendix1/#cuda-80612_2","text":"INSTALL_DIR = '/apps/openmpi/2.1.6/pgi18.5_cuda8.0.61.2' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 8.0 / 8.0.61.2 [ username@g0001 ~ ] $ cd openmpi - 2.1.6 [ username@g0001 openmpi-2.1.6 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-2.1.6 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-2.1.6 ] $ su [ root@g0001 openmpi-2.1.6 ] # make install [ root@g0001 openmpi-2.1.6 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 8.0.61.2"},{"location":"appendix1/#cuda-901762_2","text":"INSTALL_DIR = '/apps/openmpi/2.1.6/pgi18.5_cuda9.0.176.2' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.0 / 9.0.176.2 [ username@g0001 ~ ] $ cd openmpi - 2.1.6 [ username@g0001 openmpi-2.1.6 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-2.1.6 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-2.1.6 ] $ su [ root@g0001 openmpi-2.1.6 ] # make install [ root@g0001 openmpi-2.1.6 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.0.176.2"},{"location":"appendix1/#cuda-91853_2","text":"INSTALL_DIR = '/apps/openmpi/2.1.6/pgi18.5_cuda9.1.85.3' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.1 / 9.1.85.3 [ username@g0001 ~ ] $ cd openmpi - 2.1.6 [ username@g0001 openmpi-2.1.6 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-2.1.6 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-2.1.6 ] $ su [ root@g0001 openmpi-2.1.6 ] # make install [ root@g0001 openmpi-2.1.6 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.1.85.3"},{"location":"appendix1/#cuda-92881_2","text":"INSTALL_DIR = '/apps/openmpi/2.1.6/pgi18.5_cuda9.2.88.1' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.2 / 9.2.88.1 [ username@g0001 ~ ] $ cd openmpi - 2.1.6 [ username@g0001 openmpi-2.1.6 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-2.1.6 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-2.1.6 ] $ su [ root@g0001 openmpi-2.1.6 ] # make install [ root@g0001 openmpi-2.1.6 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.2.88.1"},{"location":"appendix1/#cuda-921481","text":"INSTALL_DIR = '/apps/openmpi/2.1.6/pgi18.5_cuda9.2.148.1' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v2 .1 / openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 2.1.6 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.2 / 9.2.148.1 [ username@g0001 ~ ] $ cd openmpi - 2.1.6 [ username@g0001 openmpi-2.1.6 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-mpi-thread-multiple \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-2.1.6 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-2.1.6 ] $ su [ root@g0001 openmpi-2.1.6 ] # make install [ root@g0001 openmpi-2.1.6 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.2.148.1"},{"location":"appendix1/#open-mpi-313-for-pgi185","text":"","title":"Open MPI 3.1.3 (for PGI18.5)"},{"location":"appendix1/#wo-cuda_3","text":"INSTALL_DIR = '/apps/openmpi/3.1.3/pgi18.5' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ cd openmpi - 3.1.3 [ username@g0001 openmpi-3.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-3.1.3 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-3.1.3 ] $ su [ root@g0001 openmpi-3.1.3 ] # make install [ root@g0001 openmpi-3.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"w/o CUDA"},{"location":"appendix1/#cuda-80612_3","text":"INSTALL_DIR = '/apps/openmpi/3.1.3/pgi18.5_cuda8.0.61.2' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 8.0 / 8.0.61.2 [ username@g0001 ~ ] $ cd openmpi - 3.1.3 [ username@g0001 openmpi-3.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-3.1.3 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-3.1.3 ] $ su [ root@g0001 openmpi-3.1.3 ] # make install [ root@g0001 openmpi-3.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 8.0.61.2"},{"location":"appendix1/#cuda-901762_3","text":"INSTALL_DIR = '/apps/openmpi/3.1.3/pgi18.5_cuda9.0.176.2' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.0 / 9.0.176.2 [ username@g0001 ~ ] $ cd openmpi - 3.1.3 [ username@g0001 openmpi-3.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-3.1.3 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-3.1.3 ] $ su [ root@g0001 openmpi-3.1.3 ] # make install [ root@g0001 openmpi-3.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.0.176.2"},{"location":"appendix1/#cuda-91853_3","text":"INSTALL_DIR = '/apps/openmpi/3.1.3/pgi18.5_cuda9.1.85.3' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.1 / 9.1.85.3 [ username@g0001 ~ ] $ cd openmpi - 3.1.3 [ username@g0001 openmpi-3.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-3.1.3 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-3.1.3 ] $ su [ root@g0001 openmpi-3.1.3 ] # make install [ root@g0001 openmpi-3.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.1.85.3"},{"location":"appendix1/#cuda-92881_3","text":"INSTALL_DIR = '/apps/openmpi/3.1.3/pgi18.5_cuda9.2.88.1' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.2 / 9.2.88.1 [ username@g0001 ~ ] $ cd openmpi - 3.1.3 [ username@g0001 openmpi-3.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-3.1.3 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-3.1.3 ] $ su [ root@g0001 openmpi-3.1.3 ] # make install [ root@g0001 openmpi-3.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.2.88.1"},{"location":"appendix1/#cuda-921481_1","text":"INSTALL_DIR = '/apps/openmpi/3.1.3/pgi18.5_cuda9.2.148.1' [ username@g0001 ~ ] $ wget https : // download . open - mpi . org / release / open - mpi / v3 .1 / openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ tar zxf openmpi - 3.1.3 . tar . gz [ username@g0001 ~ ] $ module load pgi / 18.5 [ username@g0001 ~ ] $ export CPP = cpp [ username@g0001 ~ ] $ module load cuda / 9.2 / 9.2.148.1 [ username@g0001 ~ ] $ cd openmpi - 3.1.3 [ username@g0001 openmpi-3.1.3 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --with-cuda=$CUDA_HOME \\ --enable-orterun-prefix-by-default \\ --with-sge \\ 2 >& 1 | tee configure . log [ username@g0001 openmpi-3.1.3 ] $ make - j 8 2 >& 1 | tee make . log [ username@g0001 openmpi-3.1.3 ] $ su [ root@g0001 openmpi-3.1.3 ] # make install [ root@g0001 openmpi-3.1.3 ] # echo \"btl_openib_warn_default_gid_prefix = 0\" >> $ INSTALL_DIR / etc / openmpi - mca - params . conf","title":"CUDA 9.2.148.1"},{"location":"appendix1/#mvapich2-for-gcc","text":"","title":"MVAPICH2 (for GCC)"},{"location":"appendix1/#wo-cuda_4","text":"INSTALL_DIR =/ app / mvapich2 / 2.3 rc2 / gcc4 .8.5 [ username@g0001 ~ ] $ wget http : // mvapich . cse . ohio - state . edu / download / mvapich / mv2 / mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ tar zxf mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ cd mvapich2 - 2.3 rc2 [ username@g0001 mvapich2-2.3rc2 ] $ . / configure --prefix=$INSTALL_DIR 2>&1 | tee configure.log [ username@g0001 mvapich2-2.3rc2 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make check - j8 > make_check . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ su [ root@g0001 mvapich2-2.3rc2 ] # make install 2 >& 1 | tee make_install . log","title":"w/o CUDA"},{"location":"appendix1/#cuda-80612_4","text":"INSTALL_DIR =/ apps / mvapich2 / 2.3 rc2 / gcc4 .8.5 _cuda8 .0.61.2 [ username@g0001 ~ ] $ wget http : // mvapich . cse . ohio - state . edu / download / mvapich / mv2 / mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ tar zxf mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ cd mvapich2 - 2.3 rc2 [ username@g0001 mvapich2-2.3rc2 ] $ module load cuda / 8.0 / 8.0.61.2 [ username@g0001 mvapich2-2.3rc2 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-cuda \\ --with-cuda=$CUDA_HOME \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make check - j8 > make_check . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ su [ root@g0001 mvapich2-2.3rc2 ] # make install 2 >& 1 | tee make_install . log","title":"CUDA 8.0.61.2"},{"location":"appendix1/#cuda-901762_4","text":"INSTALL_DIR =/ apps / mvapich2 / 2.3 rc2 / gcc4 .8.5 _cuda9 .0.176.2 [ username@g0001 ~ ] $ wget http : // mvapich . cse . ohio - state . edu / download / mvapich / mv2 / mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ tar zxf mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ cd mvapich2 - 2.3 rc2 [ username@g0001 mvapich2-2.3rc2 ] $ module load cuda / 9.0 / 9.0.176.2 [ username@g0001 mvapich2-2.3rc2 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-cuda \\ --with-cuda=$CUDA_HOME \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make check - j8 > make_check . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ su [ root@g0001 mvapich2-2.3rc2 ] # make install 2 >& 1 | tee make_install . log","title":"CUDA 9.0.176.2"},{"location":"appendix1/#cuda-91853_4","text":"INSTALL_DIR =/ apps / mvapich2 / 2.3 rc2 / gcc4 .8.5 _cuda9 .1.85.3 [ username@g0001 ~ ] $ wget http : // mvapich . cse . ohio - state . edu / download / mvapich / mv2 / mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ tar zxf mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ cd mvapich2 - 2.3 rc2 [ username@g0001 mvapich2-2.3rc2 ] $ module load cuda / 9.1 / 9.1.85.3 [ username@g0001 mvapich2-2.3rc2 ] $ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-cuda \\ --with-cuda=$CUDA_HOME \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make check - j8 > make_check . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ su [ root@g0001 mvapich2-2.3rc2 ] # make install 2 >& 1 | tee make_install . log","title":"CUDA 9.1.85.3"},{"location":"appendix1/#cuda-92881_4","text":"INSTALL_DIR =/ apps / mvapich2 / 2.3 rc2 / gcc4 .8.5 _cuda9 .2.88.1 [ username@g0001 ~ ] $ wget http : // mvapich . cse . ohio - state . edu / download / mvapich / mv2 / mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ tar zxf mvapich2 - 2.3 rc2 . tar . gz [ username@g0001 ~ ] $ cd mvapich2 - 2.3 rc2 [ username@g0001 mvapich2-2.3rc2 ] $ module load cuda / 9.2 / 9.2.88.1 [ username@g0001 mvapich2-2.3rc2 ] $ . / configure \\ --prefix=INSTALL_DIR \\ --enable-cuda \\ --with-cuda=$CUDA_HOME \\ 2 >& 1 | tee configure . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ make check - j8 > make_check . log 2 >& 1 [ username@g0001 mvapich2-2.3rc2 ] $ su [ root@g0001 mvapich2-2.3rc2 ] # make install 2 >& 1 | tee make_install . log","title":"CUDA 9.2.88.1"},{"location":"appendix1/#python","text":"","title":"Python"},{"location":"appendix1/#python-2715","text":"INSTALL_DIR =/ apps / python / 2.7.15 [ username@g0001 ~ ] $ wget https : // www . python . org / ftp / python / 2.7.15 / Python - 2.7.15 . tar . xz [ username@g0001 ~ ] $ tar Jxf Python - 2.7.15 . tar . xz [ username@g0001 ~ ] $ cd Python - 2.7.15 [ username@g0001 Python-2.7.15 ] $ CXX = g ++ . / configure \\ --prefix=$INSTALL_DIR \\ --enable-optimizations \\ --enable-shared \\ --with-ensurepip \\ --enable-unicode=ucs4 \\ --with-dbmliborder=gdbm:ndbm:bdb \\ --with-system-expat \\ --with-system-ffi \\ > configure . log 2 >& 1 [ username@g0001 Python-2.7.15 ] $ make - j8 > make . log 2 >& 1 [ username@g0001 Python-2.7.15 ] $ make test > make_test . log 2 >& 1 [ username@g0001 Python-2.7.15 ] $ su [ root@g0001 Python-2.7.15 ] # make install 2 >& 1 | tee make_install . log [ root@g0001 Python-2.7.15 ] # export PATH = $ INSTALL_DIR / bin : $ PATH [ root@g0001 Python-2.7.15 ] # pip install virtualenv","title":"Python 2.7.15"},{"location":"appendix1/#r","text":"","title":"R"},{"location":"appendix1/#r-350","text":"INSTALL_DIR =/ apps / R / 3.5.0 [ username@g0001 ~ ] $ wget https : // cran . ism . ac . jp / src / base / R - 3 / R - 3.5.0 . tar . gz [ username@g0001 ~ ] $ tar zxf R - 3.5.0 . tar . gz [ username@g0001 ~ ] $ cd R - 3.5.0 [ username@g0001 R-3.5.0 ] $ . / configure --prefix=$INSTALL_DIR 2>&1 | tee configure.log [ username@g0001 R-3.5.0 ] $ make 2 >& 1 | tee make . log [ username@g0001 R-3.5.0 ] $ make check 2 >& 1 | tee make_check . log [ username@g0001 R-3.5.0 ] $ su [ username@g0001 R-3.5.0 ] # make install 2 >& 1 | tee make_install . log","title":"R 3.5.0"},{"location":"appendix1/#nvidia-collective-communications-library-nccl","text":"","title":"NVIDIA Collective Communications Library (NCCL)"},{"location":"appendix1/#nccl-135","text":"","title":"NCCL 1.3.5"},{"location":"appendix1/#cuda-80612_5","text":"INSTALL_DIR =/ apps / nccl / 1.3.5 / cuda8 .0 [ username@es1 ~ ] $ git clone https : // github . com / NVIDIA / nccl . git [ username@es1 ~ ] $ cd nccl [ username@es1 nccl ] $ module load cuda / 8.0 / 8.0.61.2 [ username@es1 nccl ] $ make CUDA_HOME = $ CUDA_HOME test [ username@es1 nccl ] $ su [ root@es1 nccl ] # mkdir - p $ INSTALL_DIR [ root@es1 nccl ] # make PREFIX = $ INSTALL_DIR install","title":"CUDA 8.0.61.2"},{"location":"appendix1/#cuda-901762_5","text":"INSTALL_DIR =/ apps / nccl / 1.3.5 / cuda9 .0 [ username@es1 ~ ] $ git clone https : // github . com / NVIDIA / nccl . git [ username@es1 ~ ] $ cd nccl [ username@es1 nccl ] $ module load cuda / 9.0 / 9.0.176.2 [ username@es1 nccl ] $ make CUDA_HOME = $ CUDA_HOME test [ username@es1 nccl ] $ su [ root@es1 nccl ] # mkdir - p $ INSTALL_DIR [ root@es1 nccl ] # make PREFIX = $ INSTALL_DIR install","title":"CUDA 9.0.176.2"},{"location":"appendix1/#cuda-91853_5","text":"INSTALL_DIR =/ apps / nccl / 1.3.5 / cuda9 .1 [ username@es1 ~ ] $ git clone https : // github . com / NVIDIA / nccl . git [ username@es1 ~ ] $ cd nccl [ username@es1 nccl ] $ module load cuda / 9.1 / 9.1.85.3 [ username@es1 nccl ] $ make CUDA_HOME = $ CUDA_HOME test [ username@es1 nccl ] $ su [ root@es1 nccl ] # mkdir - p $ INSTALL_DIR [ root@es1 nccl ] # make PREFIX = $ INSTALL_DIR install","title":"CUDA 9.1.85.3"},{"location":"appendix1/#cuda-92881_5","text":"INSTALL_DIR =/ apps / nccl / 1.3.5 / cuda9 .2 [ username@es1 ~ ] $ git clone https : // github . com / NVIDIA / nccl . git [ username@es1 ~ ] $ cd nccl [ username@es1 nccl ] $ module load cuda / 9.2 / 9.2.88.1 [ username@es1 nccl ] $ make CUDA_HOME = $ CUDA_HOME test [ username@es1 nccl ] $ su [ root@es1 nccl ] # mkdir - p $ INSTALL_DIR [ root@es1 nccl ] # make PREFIX = $ INSTALL_DIR install","title":"CUDA 9.2.88.1"},{"location":"appendix1/#_1","text":"\u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af \u306f\u3001\u5229\u7528\u8005\u6a29\u9650\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u5229\u7528\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af"},{"location":"appendix1/#_2","text":"","title":"\u5927\u898f\u6a21\u30c7\u30fc\u30bf\u51e6\u7406"},{"location":"appendix1/#hadoop","text":"INSTALL_DIR =/ apps / hadoop / 2 . 9 . 1 wget https : // archive . apache . org / dist / hadoop / common / hadoop - 2 . 9 . 1 / hadoop - 2 . 9 . 1 . tar . gz sudo mkdir - p $ INSTALL_DIR sudo tar xzf hadoop - 2 . 9 . 1 . tar . gz - C $ INSTALL_DIR --strip=1 sudo chown - R root : root $ INSTALL_DIR","title":"Hadoop"},{"location":"appendix2/","text":"\u4ed8\u93322. HPCI\u306b\u3088\u308bABCI\u5229\u7528 Note \u672c\u9805\u3067\u306f\u3001HPCI\u306e\u5229\u7528\u8005\u306e\u65b9\u3092\u5bfe\u8c61\u306b\u3001ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u3001\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u65b9\u6cd5\u7b49\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3 ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u3042\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9 (\u4ee3\u8868\u30db\u30b9\u30c8\u540d\uff1a es ) \u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u306b\u306f\u3001\u4ee3\u7406\u8a3c\u660e\u66f8\u3092\u5229\u7528\u3057\u3066HPCI \u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0 (\u30db\u30b9\u30c8\u540d\uff1a hpci.abci.ai ) \u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001\u66f4\u306b ssh \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u306a\u304a\u672c\u7ae0\u3067\u306f\u3001ABCI\u306e\u30b5\u30fc\u30d0\u540d\u306f\u30d5\u30a9\u30f3\u30c8\u3092\u30a4\u30bf\u30ea\u30c3\u30af\u3067\u8868\u8a18\u3057\u307e\u3059\u3002 Linux / macOS\u306a\u3069\u306e\u74b0\u5883 gsissh \u30b3\u30de\u30f3\u30c9\u3067HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0( hpci.abci.ai )\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [yourpc ~]$ gsissh -p 2222 hpci.abci.ai [username@hpci1 ~]$ HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306b\u30ed\u30b0\u30a4\u30f3\u5f8c\u3001 ssh \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [username@hpci1 ~]$ ssh es [username@es1 ~]$ Windows\u74b0\u5883 (GSI-SSHTerm) \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u306f\u3001\u4ee5\u4e0b\u624b\u9806\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002 GSI-SSHTerm \u3092\u8d77\u52d5 \u30db\u30b9\u30c8\u540d\u306bHPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0( hpci.abci.ai )\u3092\u5165\u529b\u3057\u3001\u30ed\u30b0\u30a4\u30f3 ssh \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u30ed\u30b0\u30a4\u30f3 HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306b\u30ed\u30b0\u30a4\u30f3\u5f8c\u3001 ssh \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [username@hpci1 ~]$ ssh es [username@es1 ~]$ \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001 HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3067\u306f\u30db\u30fc\u30e0\u9818\u57df\u304c\u5171\u6709\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002 \u305d\u306e\u305f\u3081\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u3092\u3059\u308b\u5834\u5408\u3001 \u4e00\u65e6HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0(\u30db\u30b9\u30c8\u540d\uff1a hpci.abci.ai )\u3078\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u3057\u3001 \u3055\u3089\u306b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078 scp ( sftp )\u30b3\u30de\u30f3\u30c9\u3067\u8ee2\u9001\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [username@hpci1 ~]$ scp local-file username@ es :remote-dir local-file 100% |***********************| file-size transfer-time HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u7528\u30db\u30fc\u30e0\u9818\u57df\u306e\u4f7f\u7528\u72b6\u6cc1\u3068\u5272\u308a\u5f53\u3066\u91cf\u3092\u8868\u793a\u3059\u308b\u306b\u306f\u3001 quota \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002 [ username @ hpci1 ~ ]$ quota Disk quotas for user axa01004ti ( uid 1004 ) : Filesystem blocks quota limit grace files quota limit grace / dev / sdb2 48 104857600 104857600 10 0 0 \u9805\u76ee \u8aac\u660e Filesystem \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 blocks \u30c7\u30a3\u30b9\u30af\u4f7f\u7528\u91cf(KB) files \u30d5\u30a1\u30a4\u30eb\u4f7f\u7528\u6570 quota \u4e0a\u9650\u5024(\u30bd\u30d5\u30c8\u30ea\u30df\u30c3\u30c8) limit \u4e0a\u9650\u5024(\u30cf\u30fc\u30c9\u30ea\u30df\u30c3\u30c8) grace \u7336\u4e88\u671f\u9593 Note HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306e\u30db\u30fc\u30e0\u9818\u57df\u306e\u5272\u308a\u5f53\u3066\u91cf\u306f100GB\u3067\u3059\u3002 \u4e0d\u8981\u306b\u306a\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u306f\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002 HPCI\u5171\u7528\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30de\u30a6\u30f3\u30c8 HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3067HPCI\u5171\u7528\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u5834\u5408\u306f\u3001 mount.hpci \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 Note \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u306fHPCI\u5171\u7528\u30b9\u30c8\u30ec\u30fc\u30b8\u306f\u30de\u30a6\u30f3\u30c8\u3067\u304d\u307e\u305b\u3093\u3002 [ username@hpci1 ~ ] $ mount . hpci \u30de\u30a6\u30f3\u30c8\u72b6\u6cc1\u306f df \u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 [ username@hpci1 ~ ] $ df - h / gfarm / project - ID / username HPCI\u5171\u7528\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u30a2\u30f3\u30de\u30a6\u30f3\u30c8\u3059\u308b\u5834\u5408\u306f\u3001 umount.hpci \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 [ username@hpci1 ~ ] $ umount . hpci HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3068\u5916\u90e8\u30b5\u30fc\u30d3\u30b9\u306e\u901a\u4fe1 HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3068ABCI\u5916\u90e8\u306e\u30b5\u30fc\u30d3\u30b9\u30fb\u30b5\u30fc\u30d0\u9593\u306e\u901a\u4fe1\u306f\u4e00\u90e8\u8a31\u53ef\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u73fe\u5728\u8a31\u53ef\u3055\u308c\u3066\u3044\u306a\u3044\u901a\u4fe1\u306b\u95a2\u3057\u3066\u3082\u3001\u7533\u8acb\u30d9\u30fc\u30b9\u3067\u4e00\u5b9a\u671f\u9593\u8a31\u53ef\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u307e\u3059\u306e\u3067\u3001\u8981\u671b\u3042\u308a\u307e\u3057\u305f\u3089\u30b5\u30dd\u30fc\u30c8\u307e\u3067\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002 HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u304b\u3089ABCI\u5916\u90e8\u3078\u306e\u901a\u4fe1 \u4ee5\u4e0b\u306e\u30dd\u30fc\u30c8\u306b\u95a2\u3057\u3066\u901a\u4fe1\u3092\u8a31\u53ef\u3057\u3066\u3044\u307e\u3059\u3002 \u30dd\u30fc\u30c8\u756a\u53f7 \u30b5\u30fc\u30d3\u30b9\u30bf\u30a4\u30d7 443/tcp https Note HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u304b\u3089ABCI\u5916\u90e8\u306eHPCI\u30ed\u30b0\u30a4\u30f3\u30b5\u30fc\u30d0\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002","title":"\u4ed8\u93322. HPCI\u306b\u3088\u308bABCI\u30b7\u30b9\u30c6\u30e0\u5229\u7528"},{"location":"appendix2/#2-hpciabci","text":"Note \u672c\u9805\u3067\u306f\u3001HPCI\u306e\u5229\u7528\u8005\u306e\u65b9\u3092\u5bfe\u8c61\u306b\u3001ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u3001\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u65b9\u6cd5\u7b49\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u4ed8\u93322. HPCI\u306b\u3088\u308bABCI\u5229\u7528"},{"location":"appendix2/#login-to-interactive-node","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u306e\u30d5\u30ed\u30f3\u30c8\u30a8\u30f3\u30c9\u3067\u3042\u308b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9 (\u4ee3\u8868\u30db\u30b9\u30c8\u540d\uff1a es ) \u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u306b\u306f\u3001\u4ee3\u7406\u8a3c\u660e\u66f8\u3092\u5229\u7528\u3057\u3066HPCI \u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0 (\u30db\u30b9\u30c8\u540d\uff1a hpci.abci.ai ) \u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001\u66f4\u306b ssh \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u306a\u304a\u672c\u7ae0\u3067\u306f\u3001ABCI\u306e\u30b5\u30fc\u30d0\u540d\u306f\u30d5\u30a9\u30f3\u30c8\u3092\u30a4\u30bf\u30ea\u30c3\u30af\u3067\u8868\u8a18\u3057\u307e\u3059\u3002","title":"\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3"},{"location":"appendix2/#linux-macos-environment","text":"gsissh \u30b3\u30de\u30f3\u30c9\u3067HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0( hpci.abci.ai )\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [yourpc ~]$ gsissh -p 2222 hpci.abci.ai [username@hpci1 ~]$ HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306b\u30ed\u30b0\u30a4\u30f3\u5f8c\u3001 ssh \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [username@hpci1 ~]$ ssh es [username@es1 ~]$","title":"Linux / macOS\u306a\u3069\u306e\u74b0\u5883"},{"location":"appendix2/#windows-environment-gsi-sshterm","text":"\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u306f\u3001\u4ee5\u4e0b\u624b\u9806\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002 GSI-SSHTerm \u3092\u8d77\u52d5 \u30db\u30b9\u30c8\u540d\u306bHPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0( hpci.abci.ai )\u3092\u5165\u529b\u3057\u3001\u30ed\u30b0\u30a4\u30f3 ssh \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u30ed\u30b0\u30a4\u30f3 HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306b\u30ed\u30b0\u30a4\u30f3\u5f8c\u3001 ssh \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [username@hpci1 ~]$ ssh es [username@es1 ~]$","title":"Windows\u74b0\u5883 (GSI-SSHTerm)"},{"location":"appendix2/#file-transfer-to-interactive-node","text":"HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3067\u306f\u30db\u30fc\u30e0\u9818\u57df\u304c\u5171\u6709\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002 \u305d\u306e\u305f\u3081\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u3092\u3059\u308b\u5834\u5408\u3001 \u4e00\u65e6HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0(\u30db\u30b9\u30c8\u540d\uff1a hpci.abci.ai )\u3078\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001\u3057\u3001 \u3055\u3089\u306b\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078 scp ( sftp )\u30b3\u30de\u30f3\u30c9\u3067\u8ee2\u9001\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [username@hpci1 ~]$ scp local-file username@ es :remote-dir local-file 100% |***********************| file-size transfer-time HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u7528\u30db\u30fc\u30e0\u9818\u57df\u306e\u4f7f\u7528\u72b6\u6cc1\u3068\u5272\u308a\u5f53\u3066\u91cf\u3092\u8868\u793a\u3059\u308b\u306b\u306f\u3001 quota \u30b3\u30de\u30f3\u30c9\u3092\u5229\u7528\u3057\u307e\u3059\u3002 [ username @ hpci1 ~ ]$ quota Disk quotas for user axa01004ti ( uid 1004 ) : Filesystem blocks quota limit grace files quota limit grace / dev / sdb2 48 104857600 104857600 10 0 0 \u9805\u76ee \u8aac\u660e Filesystem \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0 blocks \u30c7\u30a3\u30b9\u30af\u4f7f\u7528\u91cf(KB) files \u30d5\u30a1\u30a4\u30eb\u4f7f\u7528\u6570 quota \u4e0a\u9650\u5024(\u30bd\u30d5\u30c8\u30ea\u30df\u30c3\u30c8) limit \u4e0a\u9650\u5024(\u30cf\u30fc\u30c9\u30ea\u30df\u30c3\u30c8) grace \u7336\u4e88\u671f\u9593 Note HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306e\u30db\u30fc\u30e0\u9818\u57df\u306e\u5272\u308a\u5f53\u3066\u91cf\u306f100GB\u3067\u3059\u3002 \u4e0d\u8981\u306b\u306a\u3063\u305f\u30d5\u30a1\u30a4\u30eb\u306f\u524a\u9664\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30d5\u30a1\u30a4\u30eb\u8ee2\u9001"},{"location":"appendix2/#mount-hpci-shared-storage","text":"HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3067HPCI\u5171\u7528\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u30de\u30a6\u30f3\u30c8\u3059\u308b\u5834\u5408\u306f\u3001 mount.hpci \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 Note \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u306fHPCI\u5171\u7528\u30b9\u30c8\u30ec\u30fc\u30b8\u306f\u30de\u30a6\u30f3\u30c8\u3067\u304d\u307e\u305b\u3093\u3002 [ username@hpci1 ~ ] $ mount . hpci \u30de\u30a6\u30f3\u30c8\u72b6\u6cc1\u306f df \u30b3\u30de\u30f3\u30c9\u3067\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002 [ username@hpci1 ~ ] $ df - h / gfarm / project - ID / username HPCI\u5171\u7528\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u30a2\u30f3\u30de\u30a6\u30f3\u30c8\u3059\u308b\u5834\u5408\u306f\u3001 umount.hpci \u30b3\u30de\u30f3\u30c9\u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 [ username@hpci1 ~ ] $ umount . hpci","title":"HPCI\u5171\u7528\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30de\u30a6\u30f3\u30c8"},{"location":"appendix2/#communication-between-access-server-for-hpci-and-external-services","text":"HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3068ABCI\u5916\u90e8\u306e\u30b5\u30fc\u30d3\u30b9\u30fb\u30b5\u30fc\u30d0\u9593\u306e\u901a\u4fe1\u306f\u4e00\u90e8\u8a31\u53ef\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u73fe\u5728\u8a31\u53ef\u3055\u308c\u3066\u3044\u306a\u3044\u901a\u4fe1\u306b\u95a2\u3057\u3066\u3082\u3001\u7533\u8acb\u30d9\u30fc\u30b9\u3067\u4e00\u5b9a\u671f\u9593\u8a31\u53ef\u3059\u308b\u3053\u3068\u3092\u691c\u8a0e\u3057\u307e\u3059\u306e\u3067\u3001\u8981\u671b\u3042\u308a\u307e\u3057\u305f\u3089\u30b5\u30dd\u30fc\u30c8\u307e\u3067\u554f\u3044\u5408\u308f\u305b\u304f\u3060\u3055\u3044\u3002 HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u304b\u3089ABCI\u5916\u90e8\u3078\u306e\u901a\u4fe1 \u4ee5\u4e0b\u306e\u30dd\u30fc\u30c8\u306b\u95a2\u3057\u3066\u901a\u4fe1\u3092\u8a31\u53ef\u3057\u3066\u3044\u307e\u3059\u3002 \u30dd\u30fc\u30c8\u756a\u53f7 \u30b5\u30fc\u30d3\u30b9\u30bf\u30a4\u30d7 443/tcp https Note HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u304b\u3089ABCI\u5916\u90e8\u306eHPCI\u30ed\u30b0\u30a4\u30f3\u30b5\u30fc\u30d0\u3078\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002","title":"HPCI\u5411\u3051\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3068\u5916\u90e8\u30b5\u30fc\u30d3\u30b9\u306e\u901a\u4fe1"},{"location":"faq/","text":"FAQ Q. \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u5229\u7528\u6642\u306bCtrl+S\u3092\u5165\u529b\u3059\u308b\u3068\u305d\u308c\u4ee5\u964d\u306e\u30ad\u30fc\u5165\u529b\u304c\u3067\u304d\u306a\u3044 macOS\u3001Windows\u3001Linux\u306a\u3069\u306e\u6a19\u6e96\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u3067\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067Ctrl+S/Ctrl+Q\u306b\u3088\u308b\u51fa\u529b\u5236\u5fa1\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002\u7121\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30ed\u30fc\u30ab\u30ebPC\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u3067\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002 $ stty -ixon \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u72b6\u614b\u3067\u5b9f\u884c\u3057\u3066\u3082\u540c\u7b49\u306e\u52b9\u679c\u304c\u3042\u308a\u307e\u3059\u3002 Q. \u30b0\u30eb\u30fc\u30d7\u9818\u57df\u304c\u5b9f\u30b5\u30a4\u30ba\u4ee5\u4e0a\u306b\u6d88\u8cbb\u3055\u308c\u3066\u3057\u307e\u3046 \u4e00\u822c\u306b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u306f\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u304c\u3042\u308a\u3001\u3069\u3093\u306a\u306b\u5c0f\u3055\u3044\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u3063\u3066\u3082\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u5206\u306e\u5bb9\u91cf\u3092\u6d88\u8cbb\u3057\u307e\u3059\u3002 ABCI\u3067\u306f\u3001\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306e\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u306f128KB\u3001\u30db\u30fc\u30e0\u9818\u57df\u306e\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u306f4KB\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306b\u5c0f\u3055\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u5927\u91cf\u306b\u4f5c\u308b\u3068\u5229\u7528\u52b9\u7387\u304c\u4e0b\u304c\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u30014KB\u672a\u6e80\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\u5834\u5408\u306b\u306f\u3001\u30db\u30fc\u30e0\u9818\u57df\u306e\u7d0432\u500d\u306e\u5bb9\u91cf\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002 Q. \u8a8d\u8a3c\u304c\u5fc5\u8981\u306a\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u3092Singularity\u3067\u5229\u7528\u3067\u304d\u306a\u3044 Singularity version 2.6\u306b\u306f docker login \u76f8\u5f53\u306e\u6a5f\u80fd\u3068\u3057\u3066\u3001\u74b0\u5883\u5909\u6570\u3067\u8a8d\u8a3c\u60c5\u5831\u3092\u4e0e\u3048\u308b\u6a5f\u80fd\u304c\u3042\u308a\u307e\u3059\u3002 [ username@es ~ ] $ export SINGULARITY_DOCKER_USERNAME = 'username' [ username@es ~ ] $ export SINGULARITY_DOCKER_PASSWORD = 'password' [ username@es ~ ] $ singularity pull docker://myregistry.azurecr.io/namespace/repo_name:repo_tag Singularity version 2.6\u306e\u8a8d\u8a3c\u306b\u95a2\u3059\u308b\u8a73\u7d30\u306f\u3001\u4ee5\u4e0b\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Singularity Container Documentation 14.6 How do I specify my Docker image? 14.7 Custom Authentication Q. NGC CLI\u304c\u5b9f\u884c\u3067\u304d\u306a\u3044 ABCI\u4e0a\u3067\u3001 NGC Catalog CLI \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u3066\u5b9f\u884c\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u306fNGC CLI\u304cUbuntu 14.04\u4ee5\u964d\u7528\u306b\u30d3\u30eb\u30c9\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002 ImportError : / lib64 / libc . so . 6 : version ` GLIBC_2 . 18 ' not found ( required by / tmp / _MEIxvHq8h / libstdc ++ . so . 6 ) [ 89261 ] Failed to execute script ngc \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7528\u610f\u3059\u308b\u3053\u3068\u3067\u3001Singularity\u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002NGC CLI\u306b\u9650\u3089\u305a\u3001\u4e00\u822c\u7684\u306b\u4f7f\u3048\u308b\u30c6\u30af\u30cb\u30c3\u30af\u3067\u3059\u3002 1 2 3 4 5 6 #!/bin/sh source /etc/profile.d/modules.sh module load singularity/2.6.1 NGC_HOME = $HOME /ngc singularity exec $NGC_HOME /ubuntu-18.04.simg $NGC_HOME /ngc $@ Q. \u8907\u6570\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u5272\u308a\u5f53\u3066\u3001\u305d\u308c\u305e\u308c\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u7570\u306a\u308b\u51e6\u7406\u3092\u3055\u305b\u305f\u3044 qrsh \u3084 qsub \u3067 -l rt_F=N \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4e0e\u3048\u308b\u3068\u3001N\u500b\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u5272\u308a\u5f53\u3066\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u305d\u308c\u305e\u308c\u7570\u306a\u308b\u51e6\u7406\u3092\u3055\u305b\u305f\u3044\u5834\u5408\u306b\u3082MPI\u304c\u4f7f\u3048\u307e\u3059\u3002 $ module load openmpi/2.1.6 $ mpirun -hostfile $SGE_JOB_HOSTLIST -np 1 command1 : -np 1 command2 : ... : -np1 commandN Q. SSH\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u9589\u3058\u3089\u308c\u3066\u3057\u307e\u3046\u306e\u3092\u56de\u907f\u3057\u305f\u3044 SSH\u3067ABCI\u306b\u7121\u4e8b\u63a5\u7d9a\u3057\u305f\u3057\u3070\u3089\u304f\u5f8c\u306b\u3001SSH\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u9589\u3058\u3089\u308c\u3066\u3057\u307e\u3046\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306a\u5834\u5408\u306f\u3001SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u30b5\u30fc\u30d0\u9593\u3067KeepAlive\u306e\u901a\u4fe1\u3092\u3059\u308b\u3053\u3068\u3067\u56de\u907f\u3067\u304d\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 KeepAlive\u3092\u9069\u7528\u3059\u308b\u306b\u306f\u3001\u5229\u7528\u8005\u306e\u7aef\u672b\u3067\u30b7\u30b9\u30c6\u30e0\u306essh\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(/etc/ssh/ssh_config)\u3001\u307e\u305f\u306f\u30e6\u30fc\u30b6\u6bce\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(~/.ssh/config)\u306b\u3001\u30aa\u30d7\u30b7\u30e7\u30f3 ServerAliveInterval \u309260\u79d2\u7a0b\u5ea6\u3067\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@userpc ~ ] $ vi ~/ . ssh / config [ username@userpc ~ ] $ cat ~/ . ssh / config ( snip ) Host as . abci . ai ServerAliveInterval 60 ( snip ) [ username@userpc ~ ] $ Note ServerAliveInterval \u306e\u521d\u671f\u5024\u306f 0 (KeepAlive\u306a\u3057)\u3067\u3059\u3002","title":"FAQ"},{"location":"faq/#faq","text":"","title":"FAQ"},{"location":"faq/#q-ctrls","text":"macOS\u3001Windows\u3001Linux\u306a\u3069\u306e\u6a19\u6e96\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u3067\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067Ctrl+S/Ctrl+Q\u306b\u3088\u308b\u51fa\u529b\u5236\u5fa1\u304c\u6709\u52b9\u306b\u306a\u3063\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002\u7121\u52b9\u306b\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u30ed\u30fc\u30ab\u30ebPC\u306e\u30bf\u30fc\u30df\u30ca\u30eb\u30a8\u30df\u30e5\u30ec\u30fc\u30bf\u3067\u4ee5\u4e0b\u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002 $ stty -ixon \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u305f\u72b6\u614b\u3067\u5b9f\u884c\u3057\u3066\u3082\u540c\u7b49\u306e\u52b9\u679c\u304c\u3042\u308a\u307e\u3059\u3002","title":"Q. \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u5229\u7528\u6642\u306bCtrl+S\u3092\u5165\u529b\u3059\u308b\u3068\u305d\u308c\u4ee5\u964d\u306e\u30ad\u30fc\u5165\u529b\u304c\u3067\u304d\u306a\u3044"},{"location":"faq/#q","text":"\u4e00\u822c\u306b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u306f\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u304c\u3042\u308a\u3001\u3069\u3093\u306a\u306b\u5c0f\u3055\u3044\u30d5\u30a1\u30a4\u30eb\u3067\u3042\u3063\u3066\u3082\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u5206\u306e\u5bb9\u91cf\u3092\u6d88\u8cbb\u3057\u307e\u3059\u3002 ABCI\u3067\u306f\u3001\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306e\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u306f128KB\u3001\u30db\u30fc\u30e0\u9818\u57df\u306e\u30d6\u30ed\u30c3\u30af\u30b5\u30a4\u30ba\u306f4KB\u3068\u3057\u3066\u3044\u307e\u3059\u3002\u3053\u306e\u305f\u3081\u3001\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306b\u5c0f\u3055\u3044\u30d5\u30a1\u30a4\u30eb\u3092\u5927\u91cf\u306b\u4f5c\u308b\u3068\u5229\u7528\u52b9\u7387\u304c\u4e0b\u304c\u308a\u307e\u3059\u3002\u4f8b\u3048\u3070\u30014KB\u672a\u6e80\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u308b\u5834\u5408\u306b\u306f\u3001\u30db\u30fc\u30e0\u9818\u57df\u306e\u7d0432\u500d\u306e\u5bb9\u91cf\u304c\u5fc5\u8981\u306b\u306a\u308a\u307e\u3059\u3002","title":"Q. \u30b0\u30eb\u30fc\u30d7\u9818\u57df\u304c\u5b9f\u30b5\u30a4\u30ba\u4ee5\u4e0a\u306b\u6d88\u8cbb\u3055\u308c\u3066\u3057\u307e\u3046"},{"location":"faq/#q-singularity","text":"Singularity version 2.6\u306b\u306f docker login \u76f8\u5f53\u306e\u6a5f\u80fd\u3068\u3057\u3066\u3001\u74b0\u5883\u5909\u6570\u3067\u8a8d\u8a3c\u60c5\u5831\u3092\u4e0e\u3048\u308b\u6a5f\u80fd\u304c\u3042\u308a\u307e\u3059\u3002 [ username@es ~ ] $ export SINGULARITY_DOCKER_USERNAME = 'username' [ username@es ~ ] $ export SINGULARITY_DOCKER_PASSWORD = 'password' [ username@es ~ ] $ singularity pull docker://myregistry.azurecr.io/namespace/repo_name:repo_tag Singularity version 2.6\u306e\u8a8d\u8a3c\u306b\u95a2\u3059\u308b\u8a73\u7d30\u306f\u3001\u4ee5\u4e0b\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Singularity Container Documentation 14.6 How do I specify my Docker image? 14.7 Custom Authentication","title":"Q. \u8a8d\u8a3c\u304c\u5fc5\u8981\u306a\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u3092Singularity\u3067\u5229\u7528\u3067\u304d\u306a\u3044"},{"location":"faq/#q-ngc-cli","text":"ABCI\u4e0a\u3067\u3001 NGC Catalog CLI \u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u30a8\u30e9\u30fc\u30e1\u30c3\u30bb\u30fc\u30b8\u304c\u51fa\u3066\u5b9f\u884c\u3067\u304d\u307e\u305b\u3093\u3002\u3053\u308c\u306fNGC CLI\u304cUbuntu 14.04\u4ee5\u964d\u7528\u306b\u30d3\u30eb\u30c9\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3067\u3059\u3002 ImportError : / lib64 / libc . so . 6 : version ` GLIBC_2 . 18 ' not found ( required by / tmp / _MEIxvHq8h / libstdc ++ . so . 6 ) [ 89261 ] Failed to execute script ngc \u4ee5\u4e0b\u306e\u3088\u3046\u306a\u30b7\u30a7\u30eb\u30b9\u30af\u30ea\u30d7\u30c8\u3092\u7528\u610f\u3059\u308b\u3053\u3068\u3067\u3001Singularity\u3092\u4f7f\u3063\u3066\u5b9f\u884c\u3055\u305b\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002NGC CLI\u306b\u9650\u3089\u305a\u3001\u4e00\u822c\u7684\u306b\u4f7f\u3048\u308b\u30c6\u30af\u30cb\u30c3\u30af\u3067\u3059\u3002 1 2 3 4 5 6 #!/bin/sh source /etc/profile.d/modules.sh module load singularity/2.6.1 NGC_HOME = $HOME /ngc singularity exec $NGC_HOME /ubuntu-18.04.simg $NGC_HOME /ngc $@","title":"Q. NGC CLI\u304c\u5b9f\u884c\u3067\u304d\u306a\u3044"},{"location":"faq/#q_1","text":"qrsh \u3084 qsub \u3067 -l rt_F=N \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4e0e\u3048\u308b\u3068\u3001N\u500b\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u5272\u308a\u5f53\u3066\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u5272\u308a\u5f53\u3066\u3089\u308c\u305f\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u305d\u308c\u305e\u308c\u7570\u306a\u308b\u51e6\u7406\u3092\u3055\u305b\u305f\u3044\u5834\u5408\u306b\u3082MPI\u304c\u4f7f\u3048\u307e\u3059\u3002 $ module load openmpi/2.1.6 $ mpirun -hostfile $SGE_JOB_HOSTLIST -np 1 command1 : -np 1 command2 : ... : -np1 commandN","title":"Q. \u8907\u6570\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u5272\u308a\u5f53\u3066\u3001\u305d\u308c\u305e\u308c\u306e\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u7570\u306a\u308b\u51e6\u7406\u3092\u3055\u305b\u305f\u3044"},{"location":"faq/#q-ssh","text":"SSH\u3067ABCI\u306b\u7121\u4e8b\u63a5\u7d9a\u3057\u305f\u3057\u3070\u3089\u304f\u5f8c\u306b\u3001SSH\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u9589\u3058\u3089\u308c\u3066\u3057\u307e\u3046\u3053\u3068\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u306e\u3088\u3046\u306a\u5834\u5408\u306f\u3001SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3068\u30b5\u30fc\u30d0\u9593\u3067KeepAlive\u306e\u901a\u4fe1\u3092\u3059\u308b\u3053\u3068\u3067\u56de\u907f\u3067\u304d\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002 KeepAlive\u3092\u9069\u7528\u3059\u308b\u306b\u306f\u3001\u5229\u7528\u8005\u306e\u7aef\u672b\u3067\u30b7\u30b9\u30c6\u30e0\u306essh\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(/etc/ssh/ssh_config)\u3001\u307e\u305f\u306f\u30e6\u30fc\u30b6\u6bce\u306e\u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb(~/.ssh/config)\u306b\u3001\u30aa\u30d7\u30b7\u30e7\u30f3 ServerAliveInterval \u309260\u79d2\u7a0b\u5ea6\u3067\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@userpc ~ ] $ vi ~/ . ssh / config [ username@userpc ~ ] $ cat ~/ . ssh / config ( snip ) Host as . abci . ai ServerAliveInterval 60 ( snip ) [ username@userpc ~ ] $ Note ServerAliveInterval \u306e\u521d\u671f\u5024\u306f 0 (KeepAlive\u306a\u3057)\u3067\u3059\u3002","title":"Q. SSH\u306e\u30bb\u30c3\u30b7\u30e7\u30f3\u304c\u9589\u3058\u3089\u308c\u3066\u3057\u307e\u3046\u306e\u3092\u56de\u907f\u3057\u305f\u3044"},{"location":"known-issues/","text":"\u65e2\u77e5\u306e\u554f\u984c \u65e5\u6642 \u5185\u5bb9 \u72b6\u6cc1 2019/10/04 MVPICH2-GDR 2.3.2\u306eMPI_Allreduce\u306b\u3066\u3001GPU\u30e1\u30e2\u30ea\u9593\u3067\u306e\u901a\u4fe1\u3092\u884c\u3063\u305f\u969b\u3001\u4ee5\u4e0b\u306e\u30ce\u30fc\u30c9\u6570\u3001GPU\u6570\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u30b5\u30a4\u30ba\u306e\u7d44\u307f\u5408\u308f\u305b\u3067floating point exception\u304c\u767a\u751f\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002 Nodes: 28, GPU/Node: 4, Message size: 256KB Nodes: 30, GPU/Node: 4, Message size: 256KB Nodes: 33, GPU/Node: 4, Message size: 256KB Nodes: 34, GPU/Node: 4, Message size: 256KB \u6b21\u30d0\u30fc\u30b8\u30e7\u30f3\u4ee5\u964d\u3067\u5bfe\u5fdc\u4e88\u5b9a 2019/04/10 \u30b8\u30e7\u30d6\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8(8.5.4 -> 8.6.3)\u306b\u4f34\u3044\u3001\u4ee5\u4e0b\u306e\u30b8\u30e7\u30d6\u6295\u5165\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u5f15\u6570\u304c\u5fc5\u9808\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u30ea\u30bd\u30fc\u30b9\u30bf\u30a4\u30d7(-l rt_F\u7b49) $ qsub -g GROUP -l rt_F=1 $ qsub -g GROUP -l rt_G.small=1 \u5bfe\u5fdc\u5b8c\u4e86 2019/04/10 \u30b8\u30e7\u30d6\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8(8.5.4 -> 8.6.3)\u306b\u4f34\u3044\u3001\u4ee5\u4e0b\u306e\u30b8\u30e7\u30d6\u6295\u5165\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u5f15\u6570\u304c\u5fc5\u9808\u306b\u306a\u308a\u307e\u3057\u305f\u3002BEEOND\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001-l USE_BEEOND\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\"1\"\u3092\u7701\u7565\u305b\u305a\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 BEEOND \u5b9f\u884c (-l USE_BEEOND) $ qsub -g GROUP -l rt_F=2 -l USE_BEEOND=1 \u5bfe\u5fdc\u5b8c\u4e86 2019/04/05 \u901a\u5e38\u8a08\u7b97\u30ce\u30fc\u30c9\u3067 rt_C.small/rt_G.small \u306f\u305d\u308c\u305e\u308c\u6700\u5927\u30674\u30b8\u30e7\u30d6\u307e\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u304c\u3001\u30b8\u30e7\u30d6\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306e\u4e0d\u5177\u5408\u306b\u3088\u308a\u3001\u305d\u308c\u305e\u308c\u6700\u59272\u30b8\u30e7\u30d6\u307e\u3067\u3057\u304b\u5b9f\u884c\u3067\u304d\u306a\u3044\u4e8b\u8c61\u304c\u767a\u751f\u3057\u3066\u3044\u307e\u3059\u3002 Reserved\u30b5\u30fc\u30d3\u30b9\u3067\u3082\u540c\u69d8\u306e\u4e8b\u8c61\u304c\u767a\u751f\u3057\u3066\u304a\u308a\u3001rt_C.small/rt_G.small \u3092\u4f7f\u7528\u306e\u5834\u5408\u306f\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002 $ qsub -ar ARID -l rt_G.small=1 -g GROUP run.sh (x 3\u56de) $ qstat job-ID prior name user state -------- 478583 0.25586 sample.sh username r 478584 0.25586 sample.sh username r 478586 0.25586 sample.sh username qw 2019/10/04 \u5bfe\u5fdc\u5b8c\u4e86","title":"\u65e2\u77e5\u306e\u554f\u984c"},{"location":"known-issues/#_1","text":"\u65e5\u6642 \u5185\u5bb9 \u72b6\u6cc1 2019/10/04 MVPICH2-GDR 2.3.2\u306eMPI_Allreduce\u306b\u3066\u3001GPU\u30e1\u30e2\u30ea\u9593\u3067\u306e\u901a\u4fe1\u3092\u884c\u3063\u305f\u969b\u3001\u4ee5\u4e0b\u306e\u30ce\u30fc\u30c9\u6570\u3001GPU\u6570\u3001\u30e1\u30c3\u30bb\u30fc\u30b8\u30b5\u30a4\u30ba\u306e\u7d44\u307f\u5408\u308f\u305b\u3067floating point exception\u304c\u767a\u751f\u3059\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002 Nodes: 28, GPU/Node: 4, Message size: 256KB Nodes: 30, GPU/Node: 4, Message size: 256KB Nodes: 33, GPU/Node: 4, Message size: 256KB Nodes: 34, GPU/Node: 4, Message size: 256KB \u6b21\u30d0\u30fc\u30b8\u30e7\u30f3\u4ee5\u964d\u3067\u5bfe\u5fdc\u4e88\u5b9a 2019/04/10 \u30b8\u30e7\u30d6\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8(8.5.4 -> 8.6.3)\u306b\u4f34\u3044\u3001\u4ee5\u4e0b\u306e\u30b8\u30e7\u30d6\u6295\u5165\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u5f15\u6570\u304c\u5fc5\u9808\u306b\u306a\u308a\u307e\u3057\u305f\u3002 \u30ea\u30bd\u30fc\u30b9\u30bf\u30a4\u30d7(-l rt_F\u7b49) $ qsub -g GROUP -l rt_F=1 $ qsub -g GROUP -l rt_G.small=1 \u5bfe\u5fdc\u5b8c\u4e86 2019/04/10 \u30b8\u30e7\u30d6\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306e\u30a2\u30c3\u30d7\u30c7\u30fc\u30c8(8.5.4 -> 8.6.3)\u306b\u4f34\u3044\u3001\u4ee5\u4e0b\u306e\u30b8\u30e7\u30d6\u6295\u5165\u30aa\u30d7\u30b7\u30e7\u30f3\u306f\u5f15\u6570\u304c\u5fc5\u9808\u306b\u306a\u308a\u307e\u3057\u305f\u3002BEEOND\u4f7f\u7528\u3059\u308b\u5834\u5408\u306f\u3001-l USE_BEEOND\u30aa\u30d7\u30b7\u30e7\u30f3\u306b\"1\"\u3092\u7701\u7565\u305b\u305a\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 BEEOND \u5b9f\u884c (-l USE_BEEOND) $ qsub -g GROUP -l rt_F=2 -l USE_BEEOND=1 \u5bfe\u5fdc\u5b8c\u4e86 2019/04/05 \u901a\u5e38\u8a08\u7b97\u30ce\u30fc\u30c9\u3067 rt_C.small/rt_G.small \u306f\u305d\u308c\u305e\u308c\u6700\u5927\u30674\u30b8\u30e7\u30d6\u307e\u3067\u5b9f\u884c\u3055\u308c\u307e\u3059\u304c\u3001\u30b8\u30e7\u30d6\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306e\u4e0d\u5177\u5408\u306b\u3088\u308a\u3001\u305d\u308c\u305e\u308c\u6700\u59272\u30b8\u30e7\u30d6\u307e\u3067\u3057\u304b\u5b9f\u884c\u3067\u304d\u306a\u3044\u4e8b\u8c61\u304c\u767a\u751f\u3057\u3066\u3044\u307e\u3059\u3002 Reserved\u30b5\u30fc\u30d3\u30b9\u3067\u3082\u540c\u69d8\u306e\u4e8b\u8c61\u304c\u767a\u751f\u3057\u3066\u304a\u308a\u3001rt_C.small/rt_G.small \u3092\u4f7f\u7528\u306e\u5834\u5408\u306f\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002 $ qsub -ar ARID -l rt_G.small=1 -g GROUP run.sh (x 3\u56de) $ qstat job-ID prior name user state -------- 478583 0.25586 sample.sh username r 478584 0.25586 sample.sh username r 478586 0.25586 sample.sh username qw 2019/10/04 \u5bfe\u5fdc\u5b8c\u4e86","title":"\u65e2\u77e5\u306e\u554f\u984c"},{"location":"ngc/","text":"NVIDIA GPU Cloud (NGC) NVIDIA GPU Cloud (NGC) \u306f\u3001GPU\u306b\u6700\u9069\u5316\u3055\u308c\u305f\u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u30b3\u30f3\u30c6\u30ca\u3084HPC\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u306eDocker\u30a4\u30e1\u30fc\u30b8\u3068\u3001\u305d\u308c\u3089\u3092\u914d\u5e03\u3059\u308b\u305f\u3081\u306eNGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002ABCI\u3067\u306f\u3001 Singularity \u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001NGC\u304c\u63d0\u4f9b\u3059\u308bDocker\u30a4\u30e1\u30fc\u30b8\u3092\u7c21\u4fbf\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308bDocker\u30a4\u30e1\u30fc\u30b8\u3092ABCI\u3067\u5229\u7528\u3059\u308b\u624b\u9806\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 \u524d\u63d0\u77e5\u8b58 NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u306eDocker\u30a4\u30e1\u30fc\u30b8\u306f\u3001\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067\u6307\u5b9a\u3055\u308c\u307e\u3059\u3002 nvcr . io /< namespace >/< repo_name > : < repo_tag > Singularity\u304b\u3089\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001URL\u30b9\u30ad\u30fc\u30de\u3068\u3057\u3066 docker:// \u3092\u6307\u5b9a\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u3057\u307e\u3059\u3002 docker : // nvcr . io /< namespace >/< repo_name > : < repo_tag > NGC Website NGC Website \u306f\u3001NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u306e\u30ab\u30bf\u30ed\u30b0\u306e\u63d0\u4f9b\u3001NGC API Key\u306e\u751f\u6210\u306a\u3069\u306e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3059\u308b\u30dd\u30fc\u30bf\u30eb\u3067\u3059\u3002 NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u306eDocker\u30a4\u30e1\u30fc\u30b8\u306e\u3046\u3061\u3001\u5927\u534a\u306f\u81ea\u7531\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u304c\u3001\u4e00\u90e8\u306fNGC\u30a2\u30ab\u30a6\u30f3\u30c8\u3068NGC API Key\u304c\u306a\u3051\u308c\u3070\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u306b\u4e21\u8005\u306e\u4f8b\u3092\u6319\u3052\u307e\u3059\u3002 \u81ea\u7531\u306b\u5229\u7528\u3067\u304d\u308b\u30a4\u30e1\u30fc\u30b8\u306e\u4f8b: https://ngc.nvidia.com/catalog/containers/nvidia:tensorflow \u30a2\u30af\u30bb\u30b9\u5236\u9650\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u306e\u4f8b: https://ngc.nvidia.com/catalog/containers/partners:chainer NGC Website\u3067\u3001NGC\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u3044\u306a\u3044\u72b6\u614b\u3067\u306f\u3001\u5f8c\u8005\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306ePull Command\u306a\u3069\u4e00\u90e8\u60c5\u5831\u304c\u95b2\u89a7\u3067\u304d\u305a\u3001\u307e\u305fAPI Key\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u305b\u3093\u3002 \u4ee5\u4e0b\u3067\u306f\u3001\u81ea\u7531\u306b\u5229\u7528\u3067\u304d\u308b\u30a4\u30e1\u30fc\u30b8\u3092\u524d\u63d0\u306b\u8aac\u660e\u3092\u884c\u3044\u307e\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u5236\u9650\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u306e\u5229\u7528 \u306b\u3064\u3044\u3066\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002 \u305d\u306e\u4ed6\u3001NGC Website\u306b\u95a2\u3059\u308b\u8a73\u7d30\u306f NGC Getting Started Guide \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30b7\u30f3\u30b0\u30eb\u30ce\u30fc\u30c9\u3067\u306e\u5b9f\u884c TensorFlow\u3092\u4f8b\u306b\u3068\u308a\u3001NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308bDocker\u30a4\u30e1\u30fc\u30b8\u306e\u5b9f\u884c\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u30a4\u30e1\u30fc\u30b8URL\u306e\u78ba\u8a8d TensorFlow\u306e\u30a4\u30e1\u30fc\u30b8\u3092NGC Wbesite\u3067\u63a2\u3057\u307e\u3059\u3002\u30d6\u30e9\u30a6\u30b6\u3067 \" https://ngc.nvidia.com/ \" \u3092\u958b\u304d\u3001\"Search Containers\" \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u306b \"tensorflow\" \u3068\u5165\u529b\u3059\u308b\u3068\u3001 https://ngc.nvidia.com/catalog/containers/nvidia:tensorflow \u304c\u898b\u3064\u3051\u3089\u308c\u308b\u306f\u305a\u3067\u3059\u3002 Docker\u3067\u5229\u7528\u3059\u308b\u969b\u306ePull Command\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 docker pull nvcr . io / nvidia / tensorflow : 19 . 06 - py2 NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea \u3067\u8aac\u660e\u3057\u305f\u3068\u304a\u308a\u3001Singularity\u304b\u3089\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u3053\u306e\u30a4\u30e1\u30fc\u30b8\u306f\u4ee5\u4e0b\u306eURL\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 docker : // nvcr . io / nvidia / tensorflow : 19 . 06 - py2 Singularity\u30a4\u30e1\u30fc\u30b8\u306e\u751f\u6210 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u4e0a\u3067TensorFlow\u306eSingularity\u30a4\u30e1\u30fc\u30b8\u3092\u751f\u6210\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ module load singularity / 2.6.1 [ username@es1 ~ ] $ singularity pull docker : // nvcr . io / nvidia / tensorflow : 19.06 - py2 tensorflow-19.06-py2.simg \u3068\u3044\u3046\u540d\u524d\u306e\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002 Singularity\u30a4\u30e1\u30fc\u30b8\u306e\u5b9f\u884c 1\u30ce\u30fc\u30c9\u5360\u6709\u3067\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u3092\u8d77\u52d5\u3057\u3001\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0 cnn_mnist.py \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ qrsh - g grpname - l rt_F = 1 [ username@g0001 ~ ] $ module load singularity / 2.6.1 [ username@g0001 ~ ] $ wget https : // raw . githubusercontent . com / tensorflow / tensorflow / v1 .13.1 / tensorflow / examples / tutorials / layers / cnn_mnist . py [ username@g0001 ~ ] $ singularity run --nv tensorflow-19.06-py2.simg python cnn_mnist.py : { 'loss' : 0.10828217 , 'global_step' : 20000 , 'accuracy' : 0.9667 } \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3067\u3082\u540c\u69d8\u306b\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 1 2 3 4 5 6 7 8 9 #!/bin/sh #$ -l rt_F=1 #$ -j y #$ -cwd source /etc/profile.d/modules.sh module load singularity/2.6.1 wget https://raw.githubusercontent.com/tensorflow/tensorflow/v1.13.1/tensorflow/examples/tutorials/layers/cnn_mnist.py singularity run --nv tensorflow-19.06-py2.simg python cnn_mnist.py \u8907\u6570\u30ce\u30fc\u30c9\u3067\u306e\u5b9f\u884c NGC\u306e\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306e\u3046\u3061\u4e00\u90e8\u306f\u3001MPI\u3067\u306e\u4e26\u5217\u5b9f\u884c\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002 \u30b7\u30f3\u30b0\u30eb\u30ce\u30fc\u30c9\u3067\u306e\u5b9f\u884c \u3067\u4f7f\u7528\u3057\u305fTensorFlow\u30a4\u30e1\u30fc\u30b8\u3082\u4e26\u5217\u5b9f\u884c\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002 MPI\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d TensorFlow\u30a4\u30e1\u30fc\u30b8\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bMPI\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 [ username @ es1 ~ ] $ module load singularity / 2 . 6 . 1 [ username @ es1 ~ ] $ singularity exec tensorflow - 19 . 06 - py2 . simg mpirun -- version mpirun ( Open MPI ) 3 . 1 . 3 Report bugs to http : // www . open - mpi . org / community / help / \u6b21\u306bABCI\u3067\u5229\u7528\u3067\u304d\u308bOpen MPI\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ module avail openmpi -------------------------------------------- /apps/modules/modulefiles/mpi --------------------------------------------- openmpi / 1.10.7 openmpi / 2.1.5 openmpi / 3.0.3 openmpi / 3.1.2 openmpi / 2.1.3 openmpi / 2.1.6 ( default ) openmpi / 3.1.0 openmpi / 3.1.3 openmpi/3.1.3 \u3092\u4f7f\u3046\u306e\u304c\u9069\u5f53\u306e\u3088\u3046\u3067\u3059\u3002\u5c11\u306a\u304f\u3068\u3082\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4e00\u81f4\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Singularity\u30a4\u30e1\u30fc\u30b8\u306eMPI\u5b9f\u884c 2\u30ce\u30fc\u30c9\u5360\u6709\u3067\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u3092\u8d77\u52d5\u3057\u3001\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002 [ username@es1 ~ ] $ qrsh - g grpname - l rt_F = 2 [ username@g0001 ~ ] $ module load singularity / 2.6.1 openmpi / 3.1.3 1\u30ce\u30fc\u30c9\u3042\u305f\u308a4\u57fa\u306eGPU\u304c\u3042\u308a\u30012\u30ce\u30fc\u30c9\u5360\u6709\u3067\u306f\u8a088\u57fa\u306eGPU\u304c\u4f7f\u3048\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u30018\u500b\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u30ce\u30fc\u30c9\u3042\u305f\u308a4\u500b\u305a\u3064\u4e26\u5217\u306b\u8d77\u52d5\u3057\u3001\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0 tensorflow_mnist.py \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 [ username@g0001 ~ ] $ wget https : // raw . githubusercontent . com / horovod / horovod / v0 .16.4 / examples / tensorflow_mnist . py [ username@g0001 ~ ] $ mpirun - np 8 - npernode 4 singularity run --nv tensorflow-19.06-py2.simg python tensorflow_mnist.py : INFO : tensorflow : loss = 2.1563044 , step = 30 ( 0.153 sec ) INFO : tensorflow : loss = 2.1480849 , step = 30 ( 0.153 sec ) INFO : tensorflow : loss = 2.1783454 , step = 30 ( 0.152 sec ) INFO : tensorflow : loss = 2.1527252 , step = 30 ( 0.152 sec ) INFO : tensorflow : loss = 2.1556997 , step = 30 ( 0.152 sec ) INFO : tensorflow : loss = 2.1814752 , step = 30 ( 0.153 sec ) INFO : tensorflow : loss = 2.190885 , step = 30 ( 0.153 sec ) INFO : tensorflow : loss = 2.1524186 , step = 30 ( 0.153 sec ) INFO : tensorflow : loss = 1.7863444 , step = 40 ( 0.153 sec ) INFO : tensorflow : loss = 1.7349662 , step = 40 ( 0.153 sec ) INFO : tensorflow : loss = 1.8009219 , step = 40 ( 0.153 sec ) INFO : tensorflow : loss = 1.7753524 , step = 40 ( 0.154 sec ) INFO : tensorflow : loss = 1.7744101 , step = 40 ( 0.154 sec ) INFO : tensorflow : loss = 1.7266351 , step = 40 ( 0.154 sec ) INFO : tensorflow : loss = 1.7221795 , step = 40 ( 0.154 sec ) INFO : tensorflow : loss = 1.8231221 , step = 40 ( 0.154 sec ) : \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3067\u3082\u540c\u69d8\u306b\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 1 2 3 4 5 6 7 8 9 #!/bin/sh #$ -l rt_F=2 #$ -j y #$ -cwd source /etc/profile.d/modules.sh module load singularity/2.6.1 openmpi/3.1.3 wget https://raw.githubusercontent.com/horovod/horovod/v0.16.4/examples/tensorflow_mnist.py mpirun -np 8 -npernode 4 singularity run --nv tensorflow-19.06-py2.simg python tensorflow_mnist.py \u30a2\u30af\u30bb\u30b9\u5236\u9650\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u306e\u5229\u7528 \u4ee5\u4e0b\u3067\u306f\u3001Chainer\u3092\u4f8b\u306b\u3001NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u4e0a\u3067\u30a2\u30af\u30bb\u30b9\u5236\u9650\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u306e\u5b9f\u884c\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u30a4\u30e1\u30fc\u30b8URL\u306e\u78ba\u8a8d https://ngc.nvidia.com/catalog/containers/partners:chainer \u3067NGC\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3059\u308b\u3053\u3068\u3067\u3001Docker\u3067\u5229\u7528\u3059\u308b\u969b\u306ePull Command\u304c\u5f97\u3089\u308c\u307e\u3059\u3002 docker pull nvcr . io / partners / chainer : 4 . 0 . 0 b1 Singularity\u304b\u3089\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u3053\u306e\u30a4\u30e1\u30fc\u30b8\u306f\u4ee5\u4e0b\u306eURL\u3067\u6307\u5b9a\u3067\u304d\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002 docker : // nvcr . io / partners / chainer : 4 . 0 . 0 b1 Singularity\u30a4\u30e1\u30fc\u30b8\u306e\u751f\u6210 \u30a4\u30e1\u30fc\u30b8\u306e\u751f\u6210\u306b\u306f\u3001NGC API Key\u304c\u5fc5\u8981\u3067\u3059\u3002\u4e0b\u8a18\u306e\u624b\u9806\u306b\u3057\u305f\u304c\u3063\u3066\u751f\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Generating Your NGC API Key \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u4e0a\u3067Singularity\u30a4\u30e1\u30fc\u30b8\u3092\u751f\u6210\u3057\u307e\u3059\u3002Docker\u30a4\u30e1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306b\u306f\u3001\u74b0\u5883\u5909\u6570 SINGULARITY_DOCKER_USERNAME , SINGULARITY_DOCKER_PASSWORD \u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002 [ username@es1 ~ ] $ module load singularity / 2.6.1 [ username@es1 ~ ] $ export SINGULARITY_DOCKER_USERNAME = '$oauthtoken' [ username@es1 ~ ] $ export SINGULARITY_DOCKER_PASSWORD =< NGC API Key > [ username@es1 ~ ] $ singularity pull docker : // nvcr . io / partners / chainer : 4.0.0 b1 chainer-4.0.0b1.simg \u3068\u3044\u3046\u540d\u524d\u306e\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002 Singularity\u30a4\u30e1\u30fc\u30b8\u306e\u5b9f\u884c \u901a\u5e38\u306eSingularity\u30a4\u30e1\u30fc\u30b8\u3068\u540c\u3058\u624b\u9806\u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 [ username @ es1 ~ ] $ qrsh - g grpname - l rt_G . small = 1 [ username @ g0001 ~ ]$ module load singularity / 2 . 6 . 1 [ username @ g0001 ~ ]$ wget https : // raw . githubusercontent . com / chainer / chainer / v4 . 0 . 0 b1 / examples / mnist / train_mnist . py [ username @ g0001 ~ ]$ singularity exec -- nv chainer - 4 . 0 . 0 b1 . simg python train_mnist . py - g 0 : epoch main / loss validation / main / loss main / accuracy validation / main / accuracy elapsed_time 1 0 . 192916 0 . 103601 0 . 9418 0 . 967 9 . 05948 2 0 . 0748937 0 . 0690557 0 . 977333 0 . 9784 10 . 951 3 0 . 0507463 0 . 0666913 0 . 983682 0 . 9804 12 . 8735 4 0 . 0353792 0 . 0878195 0 . 988432 0 . 9748 14 . 7425 : \u53c2\u8003 NGC Getting Started Guide NGC Container User Guide Running NGC Containers Using Singularity \u65e5\u672c\u6700\u901f\u306e\u30b9\u30fc\u30d1\u30fc\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u304c NGC \u3092\u63a1\u7528\u3057\u3001\u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0 \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u5229\u7528\u3092\u3088\u308a\u7c21\u5358\u306b | NVIDIA","title":"NVIDIA GPU Cloud (NGC)"},{"location":"ngc/#nvidia-gpu-cloud-ngc","text":"NVIDIA GPU Cloud (NGC) \u306f\u3001GPU\u306b\u6700\u9069\u5316\u3055\u308c\u305f\u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u30b3\u30f3\u30c6\u30ca\u3084HPC\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u30b3\u30f3\u30c6\u30ca\u306eDocker\u30a4\u30e1\u30fc\u30b8\u3068\u3001\u305d\u308c\u3089\u3092\u914d\u5e03\u3059\u308b\u305f\u3081\u306eNGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002ABCI\u3067\u306f\u3001 Singularity \u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3067\u3001NGC\u304c\u63d0\u4f9b\u3059\u308bDocker\u30a4\u30e1\u30fc\u30b8\u3092\u7c21\u4fbf\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u3053\u3053\u3067\u306f\u3001NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u306b\u767b\u9332\u3055\u308c\u3066\u3044\u308bDocker\u30a4\u30e1\u30fc\u30b8\u3092ABCI\u3067\u5229\u7528\u3059\u308b\u624b\u9806\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002","title":"NVIDIA GPU Cloud (NGC)"},{"location":"ngc/#prerequisites","text":"","title":"\u524d\u63d0\u77e5\u8b58"},{"location":"ngc/#ngc-container-registry","text":"NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u306eDocker\u30a4\u30e1\u30fc\u30b8\u306f\u3001\u4ee5\u4e0b\u306e\u5f62\u5f0f\u3067\u6307\u5b9a\u3055\u308c\u307e\u3059\u3002 nvcr . io /< namespace >/< repo_name > : < repo_tag > Singularity\u304b\u3089\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001URL\u30b9\u30ad\u30fc\u30de\u3068\u3057\u3066 docker:// \u3092\u6307\u5b9a\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8868\u3057\u307e\u3059\u3002 docker : // nvcr . io /< namespace >/< repo_name > : < repo_tag >","title":"NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea"},{"location":"ngc/#ngc-website","text":"NGC Website \u306f\u3001NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u306e\u30ab\u30bf\u30ed\u30b0\u306e\u63d0\u4f9b\u3001NGC API Key\u306e\u751f\u6210\u306a\u3069\u306e\u6a5f\u80fd\u3092\u63d0\u4f9b\u3059\u308b\u30dd\u30fc\u30bf\u30eb\u3067\u3059\u3002 NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u306eDocker\u30a4\u30e1\u30fc\u30b8\u306e\u3046\u3061\u3001\u5927\u534a\u306f\u81ea\u7531\u306b\u5229\u7528\u3067\u304d\u307e\u3059\u304c\u3001\u4e00\u90e8\u306fNGC\u30a2\u30ab\u30a6\u30f3\u30c8\u3068NGC API Key\u304c\u306a\u3051\u308c\u3070\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u305b\u3093\u3002\u4ee5\u4e0b\u306b\u4e21\u8005\u306e\u4f8b\u3092\u6319\u3052\u307e\u3059\u3002 \u81ea\u7531\u306b\u5229\u7528\u3067\u304d\u308b\u30a4\u30e1\u30fc\u30b8\u306e\u4f8b: https://ngc.nvidia.com/catalog/containers/nvidia:tensorflow \u30a2\u30af\u30bb\u30b9\u5236\u9650\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u306e\u4f8b: https://ngc.nvidia.com/catalog/containers/partners:chainer NGC Website\u3067\u3001NGC\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u30b5\u30a4\u30f3\u30a4\u30f3\u3057\u3066\u3044\u306a\u3044\u72b6\u614b\u3067\u306f\u3001\u5f8c\u8005\u306e\u30a4\u30e1\u30fc\u30b8\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306ePull Command\u306a\u3069\u4e00\u90e8\u60c5\u5831\u304c\u95b2\u89a7\u3067\u304d\u305a\u3001\u307e\u305fAPI Key\u3092\u751f\u6210\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u305b\u3093\u3002 \u4ee5\u4e0b\u3067\u306f\u3001\u81ea\u7531\u306b\u5229\u7528\u3067\u304d\u308b\u30a4\u30e1\u30fc\u30b8\u3092\u524d\u63d0\u306b\u8aac\u660e\u3092\u884c\u3044\u307e\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u5236\u9650\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u306e\u5229\u7528 \u306b\u3064\u3044\u3066\u306f\u5f8c\u8ff0\u3057\u307e\u3059\u3002 \u305d\u306e\u4ed6\u3001NGC Website\u306b\u95a2\u3059\u308b\u8a73\u7d30\u306f NGC Getting Started Guide \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"NGC Website"},{"location":"ngc/#single-node-run","text":"TensorFlow\u3092\u4f8b\u306b\u3068\u308a\u3001NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308bDocker\u30a4\u30e1\u30fc\u30b8\u306e\u5b9f\u884c\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u30b7\u30f3\u30b0\u30eb\u30ce\u30fc\u30c9\u3067\u306e\u5b9f\u884c"},{"location":"ngc/#identify-image-url","text":"TensorFlow\u306e\u30a4\u30e1\u30fc\u30b8\u3092NGC Wbesite\u3067\u63a2\u3057\u307e\u3059\u3002\u30d6\u30e9\u30a6\u30b6\u3067 \" https://ngc.nvidia.com/ \" \u3092\u958b\u304d\u3001\"Search Containers\" \u3068\u8868\u793a\u3055\u308c\u3066\u3044\u308b\u691c\u7d22\u30d5\u30a9\u30fc\u30e0\u306b \"tensorflow\" \u3068\u5165\u529b\u3059\u308b\u3068\u3001 https://ngc.nvidia.com/catalog/containers/nvidia:tensorflow \u304c\u898b\u3064\u3051\u3089\u308c\u308b\u306f\u305a\u3067\u3059\u3002 Docker\u3067\u5229\u7528\u3059\u308b\u969b\u306ePull Command\u304c\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u793a\u3055\u308c\u3066\u3044\u307e\u3059\u3002 docker pull nvcr . io / nvidia / tensorflow : 19 . 06 - py2 NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea \u3067\u8aac\u660e\u3057\u305f\u3068\u304a\u308a\u3001Singularity\u304b\u3089\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u3053\u306e\u30a4\u30e1\u30fc\u30b8\u306f\u4ee5\u4e0b\u306eURL\u3067\u6307\u5b9a\u3067\u304d\u307e\u3059\u3002 docker : // nvcr . io / nvidia / tensorflow : 19 . 06 - py2","title":"\u30a4\u30e1\u30fc\u30b8URL\u306e\u78ba\u8a8d"},{"location":"ngc/#build-a-singularity-image","text":"\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u4e0a\u3067TensorFlow\u306eSingularity\u30a4\u30e1\u30fc\u30b8\u3092\u751f\u6210\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ module load singularity / 2.6.1 [ username@es1 ~ ] $ singularity pull docker : // nvcr . io / nvidia / tensorflow : 19.06 - py2 tensorflow-19.06-py2.simg \u3068\u3044\u3046\u540d\u524d\u306e\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002","title":"Singularity\u30a4\u30e1\u30fc\u30b8\u306e\u751f\u6210"},{"location":"ngc/#run-a-singularity-image","text":"1\u30ce\u30fc\u30c9\u5360\u6709\u3067\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u3092\u8d77\u52d5\u3057\u3001\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0 cnn_mnist.py \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ qrsh - g grpname - l rt_F = 1 [ username@g0001 ~ ] $ module load singularity / 2.6.1 [ username@g0001 ~ ] $ wget https : // raw . githubusercontent . com / tensorflow / tensorflow / v1 .13.1 / tensorflow / examples / tutorials / layers / cnn_mnist . py [ username@g0001 ~ ] $ singularity run --nv tensorflow-19.06-py2.simg python cnn_mnist.py : { 'loss' : 0.10828217 , 'global_step' : 20000 , 'accuracy' : 0.9667 } \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3067\u3082\u540c\u69d8\u306b\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 1 2 3 4 5 6 7 8 9 #!/bin/sh #$ -l rt_F=1 #$ -j y #$ -cwd source /etc/profile.d/modules.sh module load singularity/2.6.1 wget https://raw.githubusercontent.com/tensorflow/tensorflow/v1.13.1/tensorflow/examples/tutorials/layers/cnn_mnist.py singularity run --nv tensorflow-19.06-py2.simg python cnn_mnist.py","title":"Singularity\u30a4\u30e1\u30fc\u30b8\u306e\u5b9f\u884c"},{"location":"ngc/#multiple-node-run","text":"NGC\u306e\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306e\u3046\u3061\u4e00\u90e8\u306f\u3001MPI\u3067\u306e\u4e26\u5217\u5b9f\u884c\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002 \u30b7\u30f3\u30b0\u30eb\u30ce\u30fc\u30c9\u3067\u306e\u5b9f\u884c \u3067\u4f7f\u7528\u3057\u305fTensorFlow\u30a4\u30e1\u30fc\u30b8\u3082\u4e26\u5217\u5b9f\u884c\u306b\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002","title":"\u8907\u6570\u30ce\u30fc\u30c9\u3067\u306e\u5b9f\u884c"},{"location":"ngc/#identify-mpi-version","text":"TensorFlow\u30a4\u30e1\u30fc\u30b8\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308bMPI\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 [ username @ es1 ~ ] $ module load singularity / 2 . 6 . 1 [ username @ es1 ~ ] $ singularity exec tensorflow - 19 . 06 - py2 . simg mpirun -- version mpirun ( Open MPI ) 3 . 1 . 3 Report bugs to http : // www . open - mpi . org / community / help / \u6b21\u306bABCI\u3067\u5229\u7528\u3067\u304d\u308bOpen MPI\u306e\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ module avail openmpi -------------------------------------------- /apps/modules/modulefiles/mpi --------------------------------------------- openmpi / 1.10.7 openmpi / 2.1.5 openmpi / 3.0.3 openmpi / 3.1.2 openmpi / 2.1.3 openmpi / 2.1.6 ( default ) openmpi / 3.1.0 openmpi / 3.1.3 openmpi/3.1.3 \u3092\u4f7f\u3046\u306e\u304c\u9069\u5f53\u306e\u3088\u3046\u3067\u3059\u3002\u5c11\u306a\u304f\u3068\u3082\u30e1\u30b8\u30e3\u30fc\u30d0\u30fc\u30b8\u30e7\u30f3\u304c\u4e00\u81f4\u3057\u3066\u3044\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002","title":"MPI\u30d0\u30fc\u30b8\u30e7\u30f3\u306e\u78ba\u8a8d"},{"location":"ngc/#run-a-singularity-image-with-mpi","text":"2\u30ce\u30fc\u30c9\u5360\u6709\u3067\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30b8\u30e7\u30d6\u3092\u8d77\u52d5\u3057\u3001\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u8aad\u307f\u8fbc\u307f\u307e\u3059\u3002 [ username@es1 ~ ] $ qrsh - g grpname - l rt_F = 2 [ username@g0001 ~ ] $ module load singularity / 2.6.1 openmpi / 3.1.3 1\u30ce\u30fc\u30c9\u3042\u305f\u308a4\u57fa\u306eGPU\u304c\u3042\u308a\u30012\u30ce\u30fc\u30c9\u5360\u6709\u3067\u306f\u8a088\u57fa\u306eGPU\u304c\u4f7f\u3048\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002\u3053\u306e\u5834\u5408\u30018\u500b\u306e\u30d7\u30ed\u30bb\u30b9\u3092\u30ce\u30fc\u30c9\u3042\u305f\u308a4\u500b\u305a\u3064\u4e26\u5217\u306b\u8d77\u52d5\u3057\u3001\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0 tensorflow_mnist.py \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 [ username@g0001 ~ ] $ wget https : // raw . githubusercontent . com / horovod / horovod / v0 .16.4 / examples / tensorflow_mnist . py [ username@g0001 ~ ] $ mpirun - np 8 - npernode 4 singularity run --nv tensorflow-19.06-py2.simg python tensorflow_mnist.py : INFO : tensorflow : loss = 2.1563044 , step = 30 ( 0.153 sec ) INFO : tensorflow : loss = 2.1480849 , step = 30 ( 0.153 sec ) INFO : tensorflow : loss = 2.1783454 , step = 30 ( 0.152 sec ) INFO : tensorflow : loss = 2.1527252 , step = 30 ( 0.152 sec ) INFO : tensorflow : loss = 2.1556997 , step = 30 ( 0.152 sec ) INFO : tensorflow : loss = 2.1814752 , step = 30 ( 0.153 sec ) INFO : tensorflow : loss = 2.190885 , step = 30 ( 0.153 sec ) INFO : tensorflow : loss = 2.1524186 , step = 30 ( 0.153 sec ) INFO : tensorflow : loss = 1.7863444 , step = 40 ( 0.153 sec ) INFO : tensorflow : loss = 1.7349662 , step = 40 ( 0.153 sec ) INFO : tensorflow : loss = 1.8009219 , step = 40 ( 0.153 sec ) INFO : tensorflow : loss = 1.7753524 , step = 40 ( 0.154 sec ) INFO : tensorflow : loss = 1.7744101 , step = 40 ( 0.154 sec ) INFO : tensorflow : loss = 1.7266351 , step = 40 ( 0.154 sec ) INFO : tensorflow : loss = 1.7221795 , step = 40 ( 0.154 sec ) INFO : tensorflow : loss = 1.8231221 , step = 40 ( 0.154 sec ) : \u30d0\u30c3\u30c1\u30b8\u30e7\u30d6\u3067\u3082\u540c\u69d8\u306b\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 1 2 3 4 5 6 7 8 9 #!/bin/sh #$ -l rt_F=2 #$ -j y #$ -cwd source /etc/profile.d/modules.sh module load singularity/2.6.1 openmpi/3.1.3 wget https://raw.githubusercontent.com/horovod/horovod/v0.16.4/examples/tensorflow_mnist.py mpirun -np 8 -npernode 4 singularity run --nv tensorflow-19.06-py2.simg python tensorflow_mnist.py","title":"Singularity\u30a4\u30e1\u30fc\u30b8\u306eMPI\u5b9f\u884c"},{"location":"ngc/#using-locked-images","text":"\u4ee5\u4e0b\u3067\u306f\u3001Chainer\u3092\u4f8b\u306b\u3001NGC\u30b3\u30f3\u30c6\u30ca\u30ec\u30b8\u30b9\u30c8\u30ea\u4e0a\u3067\u30a2\u30af\u30bb\u30b9\u5236\u9650\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u306e\u5b9f\u884c\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u30a2\u30af\u30bb\u30b9\u5236\u9650\u3055\u308c\u305f\u30a4\u30e1\u30fc\u30b8\u306e\u5229\u7528"},{"location":"ngc/#identify-locked-image-url","text":"https://ngc.nvidia.com/catalog/containers/partners:chainer \u3067NGC\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u30b5\u30a4\u30f3\u30a4\u30f3\u3059\u308b\u3053\u3068\u3067\u3001Docker\u3067\u5229\u7528\u3059\u308b\u969b\u306ePull Command\u304c\u5f97\u3089\u308c\u307e\u3059\u3002 docker pull nvcr . io / partners / chainer : 4 . 0 . 0 b1 Singularity\u304b\u3089\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001\u3053\u306e\u30a4\u30e1\u30fc\u30b8\u306f\u4ee5\u4e0b\u306eURL\u3067\u6307\u5b9a\u3067\u304d\u308b\u3053\u3068\u304c\u5206\u304b\u308a\u307e\u3059\u3002 docker : // nvcr . io / partners / chainer : 4 . 0 . 0 b1","title":"\u30a4\u30e1\u30fc\u30b8URL\u306e\u78ba\u8a8d"},{"location":"ngc/#build-a-singularity-image-for-a-locked-ngc-image","text":"\u30a4\u30e1\u30fc\u30b8\u306e\u751f\u6210\u306b\u306f\u3001NGC API Key\u304c\u5fc5\u8981\u3067\u3059\u3002\u4e0b\u8a18\u306e\u624b\u9806\u306b\u3057\u305f\u304c\u3063\u3066\u751f\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Generating Your NGC API Key \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u4e0a\u3067Singularity\u30a4\u30e1\u30fc\u30b8\u3092\u751f\u6210\u3057\u307e\u3059\u3002Docker\u30a4\u30e1\u30fc\u30b8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306b\u306f\u3001\u74b0\u5883\u5909\u6570 SINGULARITY_DOCKER_USERNAME , SINGULARITY_DOCKER_PASSWORD \u306e\u8a2d\u5b9a\u304c\u5fc5\u8981\u3067\u3059\u3002 [ username@es1 ~ ] $ module load singularity / 2.6.1 [ username@es1 ~ ] $ export SINGULARITY_DOCKER_USERNAME = '$oauthtoken' [ username@es1 ~ ] $ export SINGULARITY_DOCKER_PASSWORD =< NGC API Key > [ username@es1 ~ ] $ singularity pull docker : // nvcr . io / partners / chainer : 4.0.0 b1 chainer-4.0.0b1.simg \u3068\u3044\u3046\u540d\u524d\u306e\u30a4\u30e1\u30fc\u30b8\u30d5\u30a1\u30a4\u30eb\u304c\u751f\u6210\u3055\u308c\u307e\u3059\u3002","title":"Singularity\u30a4\u30e1\u30fc\u30b8\u306e\u751f\u6210"},{"location":"ngc/#run-a-singularity-image_1","text":"\u901a\u5e38\u306eSingularity\u30a4\u30e1\u30fc\u30b8\u3068\u540c\u3058\u624b\u9806\u3067\u5b9f\u884c\u3067\u304d\u307e\u3059\u3002 [ username @ es1 ~ ] $ qrsh - g grpname - l rt_G . small = 1 [ username @ g0001 ~ ]$ module load singularity / 2 . 6 . 1 [ username @ g0001 ~ ]$ wget https : // raw . githubusercontent . com / chainer / chainer / v4 . 0 . 0 b1 / examples / mnist / train_mnist . py [ username @ g0001 ~ ]$ singularity exec -- nv chainer - 4 . 0 . 0 b1 . simg python train_mnist . py - g 0 : epoch main / loss validation / main / loss main / accuracy validation / main / accuracy elapsed_time 1 0 . 192916 0 . 103601 0 . 9418 0 . 967 9 . 05948 2 0 . 0748937 0 . 0690557 0 . 977333 0 . 9784 10 . 951 3 0 . 0507463 0 . 0666913 0 . 983682 0 . 9804 12 . 8735 4 0 . 0353792 0 . 0878195 0 . 988432 0 . 9748 14 . 7425 :","title":"Singularity\u30a4\u30e1\u30fc\u30b8\u306e\u5b9f\u884c"},{"location":"ngc/#reference","text":"NGC Getting Started Guide NGC Container User Guide Running NGC Containers Using Singularity \u65e5\u672c\u6700\u901f\u306e\u30b9\u30fc\u30d1\u30fc\u30b3\u30f3\u30d4\u30e5\u30fc\u30bf\u304c NGC \u3092\u63a1\u7528\u3057\u3001\u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0 \u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u5229\u7528\u3092\u3088\u308a\u7c21\u5358\u306b | NVIDIA","title":"\u53c2\u8003"},{"location":"system-updates/","text":"\u30b7\u30b9\u30c6\u30e0\u66f4\u65b0\u5c65\u6b74 2019-11-06 Add / Update / Delete Software Version Previous version Add GCC 7.3.0, 7.4.0 Add sregistry-cli 0.2.31 \u305d\u306e\u4ed6\u306e\u4fee\u6b63\u70b9\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059: CUDA \u30e2\u30b8\u30e5\u30fc\u30eb\u304c extras/CUPTI \u3078\u306e\u30d1\u30b9\u3092\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\u3002 2019-10-04 Add / Update / Delete Software Version Previous version Update Univa Grid Engine 8.6.6 8.6.3 Update DDN GRIDScaler 4.2.3.17 4.2.3.15 Update BeeOND 7.1.3 7.1.2 Add CUDA 10.1.243 Add cuDNN 7.6.3, 7.6.4 Add NCCL 2.4.8-1 Add MVAPICH2-GDR 2.3.2 Add MVAPICH2 2.3.2 Add fuse-sshfs 2.10 \u305d\u306e\u4ed6\u306e\u4fee\u6b63\u70b9\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059: cuDNN 7.5.0, 7.5.1, 7.6.0, 7.6.1, 7.6.2 \u3092 CUDA 10.1 \u306b\u5bfe\u5fdc NCCL 2.4.2-1, 2.4.7-1 \u3092 CUDA 10.1 \u306b\u5bfe\u5fdc GDRCopy 1.2 \u3092 CUDA 10.0, 10.1 \u306b\u5bfe\u5fdc Open MPI 2.1.6 \u3092 CUDA 10.1 \u306b\u5bfe\u5fdc \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u3066\u30d7\u30ed\u30bb\u30b9\u76e3\u8996\u304a\u3088\u3073\u30d7\u30ed\u30bb\u30b9\u524a\u9664\u306e\u4ed5\u7d44\u307f\u3092\u8ffd\u52a0 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306e\u30d7\u30ed\u30bb\u30b9\u76e3\u8996\u3092\u958b\u59cb \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306e\u30d7\u30ed\u30bb\u30b9\u76e3\u8996\u3092\u958b\u59cb\u3057\u307e\u3057\u305f\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u306e\u9ad8\u8ca0\u8377\u306a\u51e6\u7406\u3084\u9577\u6642\u9593\u306e\u51e6\u7406\u306f\u30d7\u30ed\u30bb\u30b9\u76e3\u8996\u30b7\u30b9\u30c6\u30e0\u306b \u3088\u3063\u3066\u505c\u6b62\u3055\u308c\u308b\u305f\u3081\u3001 qrsh/qsub \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u3054\u4f7f\u7528\u304f\u3060\u3055\u3044\u3002 \u30b8\u30e7\u30d6\u6295\u5165\u6570\u304a\u3088\u3073\u5b9f\u884c\u6570\u5236\u9650\u306e\u5909\u66f4 \u30b8\u30e7\u30d6\u6295\u5165\u6570\u304a\u3088\u3073\u5b9f\u884c\u6570\u5236\u9650\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\u3002 \u5236\u9650\u9805\u76ee \u73fe\u5728\u306e\u5236\u9650\u5024 \u5909\u66f4\u524d\u306e\u5236\u9650\u5024 \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u3042\u305f\u308a\u306e\u6700\u5927\u6295\u5165\u53ef\u80fd\u30bf\u30b9\u30af\u6570 75000 1000 ABCI \u30a2\u30ab\u30a6\u30f3\u30c8\u3042\u305f\u308a\u306e\u540c\u6642\u5b9f\u884c\u30b8\u30e7\u30d6\u6570 200 0(\u7121\u5236\u9650) \u65e2\u77e5\u306e\u554f\u984c\u306b\u95a2\u3057\u3066 \u4ee5\u4e0b\u306e\u65e2\u77e5\u306e\u554f\u984c\u3078\u306e\u5bfe\u5fdc\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u8cc7\u6e90\u30bf\u30a4\u30d7 rt_C.small/rt_G.small \u3092\u6307\u5b9a\u3057\u305f\u30b8\u30e7\u30d6\u304c1\u8a08\u7b97\u30ce\u30fc\u30c9\u3042\u305f\u308a 2\u30b8\u30e7\u30d6\u307e\u3067\u3057\u304b\u5b9f\u884c\u3055\u308c\u306a\u3044(\u901a\u5e384\u30b8\u30e7\u30d6\u304c\u5b9f\u884c\u3055\u308c\u308b)\u3002 2019-08-01 Add / Update / Delete Software Version Previous version Add cuDNN 7.6.2 Add NCCL 2.4.7-1 Add s3fs-fuse 1.85 \u305d\u306e\u4ed6\u306e\u4fee\u6b63\u70b9\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059: Open MPI 1.10.7, 2.1.5, 2.1.6 \u3092 CUDA 10.0 \u306b\u5bfe\u5fdc 2019-07-10 Add / Update / Delete Software Version Previous version Add CUDA 10.0.130.1 Add cuDNN 7.5.1, 7.6.0, 7.6.1 Add aws-cli 1.16.194 2019-04-05 Add / Update / Delete Software Version Previous version Update CentOS 7.5 7.4 Update Univa Grid Engine 8.6.3 8.5.4 Update Java 1.7.0_171 1.7.0_141 Update Java 1.8.0_161 1.8.0_131 Add DDN Lustre 2.10.5_ddn7-1 Add CUDA 10.0.130 Add Intel Compiler 2019.3 Add PGI 18.10 19.3 \u305d\u306e\u4ed6\u306e\u4fee\u6b63\u70b9\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059: \u30db\u30fc\u30e0\u9818\u57df\u3092 GPFS \u304b\u3089 Lustre \u306b\u79fb\u884c 2019-03-14 Add / Update / Delete Software Version Previous version Add Intel Compiler 2017.8, 2018.3 Add PGI 17.10 Add Open MPI 2.1.6 Add cuDNN 7.5.0 Add NCCL 2.4.2-1 Add Intel MKL 2017.8, 2018.3 \u305d\u306e\u4ed6\u306e\u4fee\u6b63\u70b9\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059: MVAPICH2-GDR 2.3 \u3092 PGI 17.10 \u306b\u5bfe\u5fdc Open MPI 2.1.5, 2.1.6, 3.1.3 \u3092 PGI \u306b\u5bfe\u5fdc Open MPI \u306e default module \u3092 2.1.6 \u306b\u5909\u66f4 MVAPICH2 \u306e\u30c8\u30c3\u30d7\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306etypo\u3092\u4fee\u6b63 2019-01-31 qstat\u30b3\u30de\u30f3\u30c9\u306e\u51fa\u529b\u306e\u5909\u66f4 \u30b8\u30e7\u30d6\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306e\u8a2d\u5b9a\u5909\u66f4\u3092\u5b9f\u65bd\u3057\u3001qstat \u30b3\u30de\u30f3\u30c9\u306e\u51fa\u529b\u306b\u304a\u3044\u3066\u3001\u30e6\u30fc\u30b6/\u30b0\u30eb\u30fc\u30d7/\u30b8\u30e7\u30d6\u540d\u304c\u30de\u30b9\u30af\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002 \u81ea\u8eab\u306e\u30b8\u30e7\u30d6\u306e\u5834\u5408\u306e\u307f\u4e0a\u8a18\u306e\u60c5\u5831\u306f\u8868\u793a\u3055\u308c\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306f\u3053\u308c\u3089\u306e\u60c5\u5831\u306f'*'\u3067\u30de\u30b9\u30af\u3055\u308c\u307e\u3059\u3002\u4ee5\u4e0b\u306b\u8868\u793a\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ qstat - u '*' | head job - ID prior name user state submit / start at queue jclass slots ja - task - ID ------------------------------------------------------------------------------------------------------------------------------------------------ 123456 0.28027 run . sh username r 01 / 31 / 2019 12 : 34 : 56 gpu @g0001 80 123457 0.28027 ********** ********** r 01 / 31 / 2019 12 : 34 : 56 gpu @g0002 80 123458 0.28027 ********** ********** r 01 / 31 / 2019 12 : 34 : 56 gpu @g0003 80 123450 0.28027 ********** ********** r 01 / 31 / 2019 12 : 34 : 56 gpu @g0004 80 2018-12-18 Add / Update / Delete Software Version Previous version Add NCCL 2.3.7-1 Add cuDNN 7.4.2 Add Open MPI 3.0.3, 3.1.3 Add MVAPICH2-GDR 2.3 Add Hadoop 2.9.2 Add Spark 2.3.2, 2.4.0 Add Go 1.11.2 Add Intel MKL 2018.2.199 NCCL 2.3.7-1 NVIDIA Collective Communications Library (NCCL) 2.3.7-1 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8: NCCL Release 2.3.7 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load cuda/9.2/9.2.148.1 $ module load nccl/2.3/2.3.7-1 cuDNN 7.4.2 NVIDIA CUDA Deep Neural Network library (cuDNN) 7.4.2 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8: cuDNN Release Notes v7.4.2 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load cuda/9.2/9.2.148.1 $ module load cudnn/7.4/7.4.2 Open MPI 3.0.3, 3.1.3 Open MPI (without --cuda option) 3.0.3, 3.1.3 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load openmpi/3.1.3 MVAPICH2-GDR 2.3 MVAPICH2-GDR 2.3 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load cuda/9.2/9.2.148.1 $ module load mvapich/mvapich2-gdr/2.3 Hadoop 2.9.2 Apache Hadoop 2.9.2 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load openjdk/1.8.0.131 $ module load hadoop/2.9.1 Spark 2.3.2, 2.4.0 Apache Spark 2.3.2, 2.4.0 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load spark/2.4.0 Go 1.11.2 Go \u8a00\u8a9e 1.11.2 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load go/1.11.2 Intel MKL 2018.2.199 Intel Math Kernel Library (MKL) 2018.2.199 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load intel-mkl/2018.2.199 2018-12-14 Add / Update / Delete Software Version Previous version Update Singularity 2.6.1 2.6.0 Delete Singularity 2.5.2 Singularity 2.6.1 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\u4f7f\u7528\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 $ module load singularity/2.6.1 $ singularity run image_path \u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u60c5\u5831\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Singularity 2.6.1 \u307e\u305f\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u8106\u5f31\u6027 ( CVE-2018-19295 ) \u304c\u5831\u544a\u3055\u308c\u305f\u305f\u3081\u3001Singularity 2.5.2, 2.6.0 \u306f\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u3067\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066 Singularity \u74b0\u5883\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\uff08 singularity/2.5.2 , singularity/2.6.0 \u306a\u3069\uff09\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u3092 singularity/2.6.1 \u306b\u4fee\u6b63\u304f\u3060\u3055\u3044\u3002 ex ) module load singularity / 2 . 5 . 2 -> module load singularity / 2 . 6 . 1","title":"\u30b7\u30b9\u30c6\u30e0\u66f4\u65b0\u5c65\u6b74"},{"location":"system-updates/#_1","text":"","title":"\u30b7\u30b9\u30c6\u30e0\u66f4\u65b0\u5c65\u6b74"},{"location":"system-updates/#2019-11-06","text":"Add / Update / Delete Software Version Previous version Add GCC 7.3.0, 7.4.0 Add sregistry-cli 0.2.31 \u305d\u306e\u4ed6\u306e\u4fee\u6b63\u70b9\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059: CUDA \u30e2\u30b8\u30e5\u30fc\u30eb\u304c extras/CUPTI \u3078\u306e\u30d1\u30b9\u3092\u8a2d\u5b9a\u3059\u308b\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\u3002","title":"2019-11-06"},{"location":"system-updates/#2019-10-04","text":"Add / Update / Delete Software Version Previous version Update Univa Grid Engine 8.6.6 8.6.3 Update DDN GRIDScaler 4.2.3.17 4.2.3.15 Update BeeOND 7.1.3 7.1.2 Add CUDA 10.1.243 Add cuDNN 7.6.3, 7.6.4 Add NCCL 2.4.8-1 Add MVAPICH2-GDR 2.3.2 Add MVAPICH2 2.3.2 Add fuse-sshfs 2.10 \u305d\u306e\u4ed6\u306e\u4fee\u6b63\u70b9\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059: cuDNN 7.5.0, 7.5.1, 7.6.0, 7.6.1, 7.6.2 \u3092 CUDA 10.1 \u306b\u5bfe\u5fdc NCCL 2.4.2-1, 2.4.7-1 \u3092 CUDA 10.1 \u306b\u5bfe\u5fdc GDRCopy 1.2 \u3092 CUDA 10.0, 10.1 \u306b\u5bfe\u5fdc Open MPI 2.1.6 \u3092 CUDA 10.1 \u306b\u5bfe\u5fdc \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u3066\u30d7\u30ed\u30bb\u30b9\u76e3\u8996\u304a\u3088\u3073\u30d7\u30ed\u30bb\u30b9\u524a\u9664\u306e\u4ed5\u7d44\u307f\u3092\u8ffd\u52a0","title":"2019-10-04"},{"location":"system-updates/#_2","text":"\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306e\u30d7\u30ed\u30bb\u30b9\u76e3\u8996\u3092\u958b\u59cb\u3057\u307e\u3057\u305f\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u306e\u9ad8\u8ca0\u8377\u306a\u51e6\u7406\u3084\u9577\u6642\u9593\u306e\u51e6\u7406\u306f\u30d7\u30ed\u30bb\u30b9\u76e3\u8996\u30b7\u30b9\u30c6\u30e0\u306b \u3088\u3063\u3066\u505c\u6b62\u3055\u308c\u308b\u305f\u3081\u3001 qrsh/qsub \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u3054\u4f7f\u7528\u304f\u3060\u3055\u3044\u3002","title":"\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306e\u30d7\u30ed\u30bb\u30b9\u76e3\u8996\u3092\u958b\u59cb"},{"location":"system-updates/#_3","text":"\u30b8\u30e7\u30d6\u6295\u5165\u6570\u304a\u3088\u3073\u5b9f\u884c\u6570\u5236\u9650\u3092\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5909\u66f4\u3057\u307e\u3057\u305f\u3002 \u5236\u9650\u9805\u76ee \u73fe\u5728\u306e\u5236\u9650\u5024 \u5909\u66f4\u524d\u306e\u5236\u9650\u5024 \u30a2\u30ec\u30a4\u30b8\u30e7\u30d6\u3042\u305f\u308a\u306e\u6700\u5927\u6295\u5165\u53ef\u80fd\u30bf\u30b9\u30af\u6570 75000 1000 ABCI \u30a2\u30ab\u30a6\u30f3\u30c8\u3042\u305f\u308a\u306e\u540c\u6642\u5b9f\u884c\u30b8\u30e7\u30d6\u6570 200 0(\u7121\u5236\u9650)","title":"\u30b8\u30e7\u30d6\u6295\u5165\u6570\u304a\u3088\u3073\u5b9f\u884c\u6570\u5236\u9650\u306e\u5909\u66f4"},{"location":"system-updates/#_4","text":"\u4ee5\u4e0b\u306e\u65e2\u77e5\u306e\u554f\u984c\u3078\u306e\u5bfe\u5fdc\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f\u3002 \u8cc7\u6e90\u30bf\u30a4\u30d7 rt_C.small/rt_G.small \u3092\u6307\u5b9a\u3057\u305f\u30b8\u30e7\u30d6\u304c1\u8a08\u7b97\u30ce\u30fc\u30c9\u3042\u305f\u308a 2\u30b8\u30e7\u30d6\u307e\u3067\u3057\u304b\u5b9f\u884c\u3055\u308c\u306a\u3044(\u901a\u5e384\u30b8\u30e7\u30d6\u304c\u5b9f\u884c\u3055\u308c\u308b)\u3002","title":"\u65e2\u77e5\u306e\u554f\u984c\u306b\u95a2\u3057\u3066"},{"location":"system-updates/#2019-08-01","text":"Add / Update / Delete Software Version Previous version Add cuDNN 7.6.2 Add NCCL 2.4.7-1 Add s3fs-fuse 1.85 \u305d\u306e\u4ed6\u306e\u4fee\u6b63\u70b9\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059: Open MPI 1.10.7, 2.1.5, 2.1.6 \u3092 CUDA 10.0 \u306b\u5bfe\u5fdc","title":"2019-08-01"},{"location":"system-updates/#2019-07-10","text":"Add / Update / Delete Software Version Previous version Add CUDA 10.0.130.1 Add cuDNN 7.5.1, 7.6.0, 7.6.1 Add aws-cli 1.16.194","title":"2019-07-10"},{"location":"system-updates/#2019-04-05","text":"Add / Update / Delete Software Version Previous version Update CentOS 7.5 7.4 Update Univa Grid Engine 8.6.3 8.5.4 Update Java 1.7.0_171 1.7.0_141 Update Java 1.8.0_161 1.8.0_131 Add DDN Lustre 2.10.5_ddn7-1 Add CUDA 10.0.130 Add Intel Compiler 2019.3 Add PGI 18.10 19.3 \u305d\u306e\u4ed6\u306e\u4fee\u6b63\u70b9\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059: \u30db\u30fc\u30e0\u9818\u57df\u3092 GPFS \u304b\u3089 Lustre \u306b\u79fb\u884c","title":"2019-04-05"},{"location":"system-updates/#2019-03-14","text":"Add / Update / Delete Software Version Previous version Add Intel Compiler 2017.8, 2018.3 Add PGI 17.10 Add Open MPI 2.1.6 Add cuDNN 7.5.0 Add NCCL 2.4.2-1 Add Intel MKL 2017.8, 2018.3 \u305d\u306e\u4ed6\u306e\u4fee\u6b63\u70b9\u306f\u4e0b\u8a18\u306e\u901a\u308a\u3067\u3059: MVAPICH2-GDR 2.3 \u3092 PGI 17.10 \u306b\u5bfe\u5fdc Open MPI 2.1.5, 2.1.6, 3.1.3 \u3092 PGI \u306b\u5bfe\u5fdc Open MPI \u306e default module \u3092 2.1.6 \u306b\u5909\u66f4 MVAPICH2 \u306e\u30c8\u30c3\u30d7\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306etypo\u3092\u4fee\u6b63","title":"2019-03-14"},{"location":"system-updates/#2019-01-31","text":"","title":"2019-01-31"},{"location":"system-updates/#qstat","text":"\u30b8\u30e7\u30d6\u30b9\u30b1\u30b8\u30e5\u30fc\u30e9\u306e\u8a2d\u5b9a\u5909\u66f4\u3092\u5b9f\u65bd\u3057\u3001qstat \u30b3\u30de\u30f3\u30c9\u306e\u51fa\u529b\u306b\u304a\u3044\u3066\u3001\u30e6\u30fc\u30b6/\u30b0\u30eb\u30fc\u30d7/\u30b8\u30e7\u30d6\u540d\u304c\u30de\u30b9\u30af\u8868\u793a\u3055\u308c\u308b\u3088\u3046\u306b\u3057\u307e\u3057\u305f\u3002 \u81ea\u8eab\u306e\u30b8\u30e7\u30d6\u306e\u5834\u5408\u306e\u307f\u4e0a\u8a18\u306e\u60c5\u5831\u306f\u8868\u793a\u3055\u308c\u3001\u305d\u3046\u3067\u306a\u3044\u5834\u5408\u306f\u3053\u308c\u3089\u306e\u60c5\u5831\u306f'*'\u3067\u30de\u30b9\u30af\u3055\u308c\u307e\u3059\u3002\u4ee5\u4e0b\u306b\u8868\u793a\u4f8b\u3092\u793a\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ qstat - u '*' | head job - ID prior name user state submit / start at queue jclass slots ja - task - ID ------------------------------------------------------------------------------------------------------------------------------------------------ 123456 0.28027 run . sh username r 01 / 31 / 2019 12 : 34 : 56 gpu @g0001 80 123457 0.28027 ********** ********** r 01 / 31 / 2019 12 : 34 : 56 gpu @g0002 80 123458 0.28027 ********** ********** r 01 / 31 / 2019 12 : 34 : 56 gpu @g0003 80 123450 0.28027 ********** ********** r 01 / 31 / 2019 12 : 34 : 56 gpu @g0004 80","title":"qstat\u30b3\u30de\u30f3\u30c9\u306e\u51fa\u529b\u306e\u5909\u66f4"},{"location":"system-updates/#2018-12-18","text":"Add / Update / Delete Software Version Previous version Add NCCL 2.3.7-1 Add cuDNN 7.4.2 Add Open MPI 3.0.3, 3.1.3 Add MVAPICH2-GDR 2.3 Add Hadoop 2.9.2 Add Spark 2.3.2, 2.4.0 Add Go 1.11.2 Add Intel MKL 2018.2.199","title":"2018-12-18"},{"location":"system-updates/#nccl-237-1","text":"NVIDIA Collective Communications Library (NCCL) 2.3.7-1 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8: NCCL Release 2.3.7 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load cuda/9.2/9.2.148.1 $ module load nccl/2.3/2.3.7-1","title":"NCCL 2.3.7-1"},{"location":"system-updates/#cudnn-742","text":"NVIDIA CUDA Deep Neural Network library (cuDNN) 7.4.2 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u30ea\u30ea\u30fc\u30b9\u30ce\u30fc\u30c8: cuDNN Release Notes v7.4.2 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load cuda/9.2/9.2.148.1 $ module load cudnn/7.4/7.4.2","title":"cuDNN 7.4.2"},{"location":"system-updates/#open-mpi-303-313","text":"Open MPI (without --cuda option) 3.0.3, 3.1.3 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load openmpi/3.1.3","title":"Open MPI 3.0.3, 3.1.3"},{"location":"system-updates/#mvapich2-gdr-23","text":"MVAPICH2-GDR 2.3 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load cuda/9.2/9.2.148.1 $ module load mvapich/mvapich2-gdr/2.3","title":"MVAPICH2-GDR 2.3"},{"location":"system-updates/#hadoop-292","text":"Apache Hadoop 2.9.2 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load openjdk/1.8.0.131 $ module load hadoop/2.9.1","title":"Hadoop 2.9.2"},{"location":"system-updates/#spark-232-240","text":"Apache Spark 2.3.2, 2.4.0 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load spark/2.4.0","title":"Spark 2.3.2, 2.4.0"},{"location":"system-updates/#go-1112","text":"Go \u8a00\u8a9e 1.11.2 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load go/1.11.2","title":"Go 1.11.2"},{"location":"system-updates/#intel-mkl-20182199","text":"Intel Math Kernel Library (MKL) 2018.2.199 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002 \u5229\u7528\u74b0\u5883\u306e\u8a2d\u5b9a: $ module load intel-mkl/2018.2.199","title":"Intel MKL 2018.2.199"},{"location":"system-updates/#2018-12-14","text":"Add / Update / Delete Software Version Previous version Update Singularity 2.6.1 2.6.0 Delete Singularity 2.5.2 Singularity 2.6.1 \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\u4f7f\u7528\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 $ module load singularity/2.6.1 $ singularity run image_path \u30a2\u30c3\u30d7\u30c7\u30fc\u30c8\u60c5\u5831\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Singularity 2.6.1 \u307e\u305f\u3001\u30bd\u30d5\u30c8\u30a6\u30a7\u30a2\u306e\u8106\u5f31\u6027 ( CVE-2018-19295 ) \u304c\u5831\u544a\u3055\u308c\u305f\u305f\u3081\u3001Singularity 2.5.2, 2.6.0 \u306f\u30a2\u30f3\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3057\u305f\u3002\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u5185\u3067\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u3092\u6307\u5b9a\u3057\u3066 Singularity \u74b0\u5883\u3092\u8a2d\u5b9a\u3057\u3066\u3044\u308b\u5834\u5408\uff08 singularity/2.5.2 , singularity/2.6.0 \u306a\u3069\uff09\u3001\u30d0\u30fc\u30b8\u30e7\u30f3\u6307\u5b9a\u3092 singularity/2.6.1 \u306b\u4fee\u6b63\u304f\u3060\u3055\u3044\u3002 ex ) module load singularity / 2 . 5 . 2 -> module load singularity / 2 . 6 . 1","title":"2018-12-14"},{"location":"abci-cloudstorage/acl/","text":"\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff08\uff11\uff09- ACL\u306b\u3088\u308b\u5236\u5fa1 ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306f\u3001\u30d0\u30b1\u30c3\u30c8\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066\u30a2\u30af\u30bb\u30b9\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8(ACL)\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u8ab0\u304c\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u304b\u3092\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u6240\u5c5e\u3059\u308b\u30b0\u30eb\u30fc\u30d7\u304b\u3089\u306e\u307f\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u304c\u3001\u4ed6\u306eABCI\u30b0\u30eb\u30fc\u30d7\u3001\u3042\u308b\u3044\u306f\u8ab0\u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 Caution \u73fe\u6642\u70b9\u3067\u306f\u8ab0\u304b\u3089\u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u8a2d\u5b9a\u306f\u884c\u308f\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u30c7\u30fc\u30bf\u516c\u958b\u306b\u95a2\u3059\u308b\u7d04\u6b3e\u985e\u304c\u6574\u3044\u6b21\u7b2c\u3001\u3054\u6848\u5185\u3044\u305f\u3057\u307e\u3059\u3002 ACL\u3067\u306e\u8a2d\u5b9a\u9805\u76ee ACL\u306f\u3001\u8ab0\u304b\u3089\u306e\u3001\u3069\u306e\u64cd\u4f5c\u3092\u8a31\u53ef\u3092\u3059\u308b\u306e\u304b\u3092\u30d0\u30b1\u30c3\u30c8\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6bce\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u8a31\u53ef\u3059\u308b\u76f8\u624b\u3068\u3057\u3066\u4ee5\u4e0b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002ABCI\u30b0\u30eb\u30fc\u30d7\u5358\u4f4d\u3088\u308a\u7d30\u304b\u304f\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u3064\u307e\u308a\u3001\u3042\u308b\u7279\u5b9a\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 \u8a31\u53ef\u3059\u308b\u76f8\u624b \u8aac\u660e ABCI\u30b0\u30eb\u30fc\u30d7 \u6240\u5c5e\u30b0\u30eb\u30fc\u30d7\u4ee5\u5916\u306e\u7279\u5b9a\u306eABCI\u30b0\u30eb\u30fc\u30d7\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002\u6307\u5b9a\u3057\u305fABCI\u30b0\u30eb\u30fc\u30d7\u306b\u6240\u5c5e\u3059\u308b\u5168\u3066\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002 ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u4fdd\u6301\u8005\u5168\u54e1 ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3064\u5168\u3066\u306e\u5229\u7528\u8005\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002\u30a2\u30af\u30bb\u30b9\u306b\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306b\u3088\u308b\u8a8d\u8a3c\u3092\u8981\u6c42\u3057\u307e\u3059\u3002 \u8ab0\u3067\u3082 \u8ab0\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3067\u3082\u8a31\u53ef\u3057\u307e\u3059\u3002\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306b\u3088\u308b\u8a8d\u8a3c\u3082\u8981\u6c42\u3057\u307e\u305b\u3093\u3002 \u8a31\u53ef\u3059\u308b\u64cd\u4f5c\u306f\u3001\u30d0\u30b1\u30c3\u30c8\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u7570\u306a\u308a\u307e\u3059\u3002 \u8a31\u53ef\u3059\u308b\u64cd\u4f5c\u306e\u4e00\u89a7\uff1a\u30d0\u30b1\u30c3\u30c8 \u8a31\u53ef\u3059\u308b\u64cd\u4f5c \u8aac\u660e read \u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u914d\u4e0b\u306b\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4e00\u89a7\u306e\u53d6\u5f97\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 write \u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u914d\u4e0b\u3067\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\u3001\u6d88\u53bb\u3001\u5909\u66f4\u304c\u53ef\u80fd\u3067\u3059\u3002 read-acp \u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u306eACL\u306e\u53d6\u5f97\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 write-acp \u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u306eACL\u306e\u5909\u66f4\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 full-control \u4e0a\u8a18\u5168\u3066\u306eACL\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 \u8a31\u53ef\u3059\u308b\u64cd\u4f5c\u306e\u4e00\u89a7\uff1a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u8a31\u53ef\u3059\u308b\u64cd\u4f5c \u8aac\u660e read \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 write \u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002 read-acp \u6307\u5b9a\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306eACL\u306e\u53d6\u5f97\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 write-acp \u6307\u5b9a\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306eACL\u306e\u5909\u66f4\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 full-control \u4e0a\u8a18\u5168\u3066\u306eACL\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 \u4f5c\u6210\u3057\u305f\u3070\u304b\u308a\u306e\u30d0\u30b1\u30c3\u30c8\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001\u6240\u5c5eABCI\u30b0\u30eb\u30fc\u30d7\u306b\u5bfe\u3059\u308b full-control \u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u516c\u958b\u306e\u3088\u3046\u306a\u8a31\u53ef\u3059\u308b\u300c\u76f8\u624b\u300d\u3068\u300c\u64cd\u4f5c\u300d\u306e\u7d44\u307f\u5408\u308f\u305b\u304c\u5b9a\u578b\u7684\u306aACL\u306f\u3001\u65e2\u5b9aACL\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u65e2\u5b9aACL\u306b\u3064\u3044\u3066\u306f\u3001\u5f8c\u8ff0\u3057\u307e\u3059\u3002 ACL\u306e\u8a2d\u5b9a\u65b9\u6cd5\uff08\u8a2d\u5b9a\u4f8b\uff09 ABCI\u30b0\u30eb\u30fc\u30d7\u9593\u3067\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5171\u6709 ABCI\u30b0\u30eb\u30fc\u30d7\u9593\u3067\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5171\u6709\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 \u4f8b\u3068\u3057\u3066\u3001ABCI\u30b0\u30eb\u30fc\u30d7 gaa00000 \u306e testdata \u3068\u3044\u3046\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3001ABCI\u30b0\u30eb\u30fc\u30d7 gaa11111 \u304c\u8aad\u307f\u3068\u308c\u308b\u3088\u3046\u306a\u8a31\u53ef\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002 \u5171\u6709\u5143ABCI \u30b0\u30eb\u30fc\u30d7 \u5171\u6709\u5148ABCI \u30b0\u30eb\u30fc\u30d7 gaa00000 gaa11111 \u5171\u6709\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u8a73\u7d30 \u30d0\u30b1\u30c3\u30c8\u540d prefix \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d test-share test/ testdata \u307e\u305a\u3001\u5171\u6709\u76f8\u624b\u3068\u306a\u308bABCI\u30b0\u30eb\u30fc\u30d7\u306b \u6b63\u898fID \u306e\u78ba\u8a8d\u3092\u4f9d\u983c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u5171\u6709\u76f8\u624b\u5074\u3067\u306f\u3001gaa11111 \u306b\u5c5e\u3057\u3066\u3044\u308b\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3067 s3 list-bucket \u3092\u5b9f\u884c\u3057\u3001\u51fa\u529b\u306b\u3042\u308b \"Owner\"->\"ID\" \u306e\u5024\u3092\u78ba\u8a8d\u3057\u3001\u5171\u6709\u5143\u306b\u9023\u7d61\u3057\u3066\u304f\u3060\u3055\u3044\u3002 $ aws --endpoint-url https://s3.abci.ai s3api list-buckets { \"Buckets\" : [ { \"Name\" : \"gaa11111-bucket-1\" , \"CreationDate\" : \"2019-08-22T11:36:17.523Z\" } ] , \"Owner\" : { \"DisplayName\" : \"gaa11111\" , \u6b63\u898fID-> \"ID\" : \"1a2bc03fa4ee5ba678b90cc1a234f5f67f890f1f2341fa56a78901234cc5fad6\" } } \u5171\u6709\u5143\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306bACL\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u8aad\u307f\u8fbc\u307f(read)\u306e\u307f\u306e\u64cd\u4f5c\u306f --grant-read \u3092\u6307\u5b9a\u3057\u3001\u88ab\u4ed8\u4e0e\u8005\u3068\u3057\u3066\u5171\u6709\u76f8\u624b\u306e\u6b63\u898fID\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --grant-read id=1a2bc03fa4ee5ba678b90cc1a234f5f67f890f1f2341fa56a78901234cc5fad6 --bucket test-share --key test/testdata \u8a2d\u5b9a\u306e\u7d50\u679c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Grants\u306e\u8981\u7d20\u306b\u3001gaa11111 \u306e\u8981\u7d20\u304c Permission \"READ\" \u3067\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api get-object-acl --bucket test-share --key test/testdata { \"Owner\" : { \"DisplayName\" : \"gaa00000\" , \"ID\" : \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\" } , \"Grants\" : [ { \"Grantee\": { \"DisplayName\": \"gaa11111\", \"ID\": \"1a2bc03fa4ee5ba678b90cc1a234f5f67f890f1f2341fa56a78901234cc5fad6\", \"Type\": \"CanonicalUser\" }, \"Permission\": \"READ\" } ] } \u8a2d\u5b9a\u3092\u623b\u3059\u3068\u304d\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b ACL \u3092 private \u306b\u8a2d\u5b9a\u3059\u308c\u3070\u3001\u521d\u671f\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --acl private --bucket test-share --key test/testdata ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5168\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u516c\u958b ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5168\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u516c\u958b\u3059\u308b\u306b\u306f --acl \u306b authenticated-read \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306f\u3001gaa00000-bucket-2 \u3068\u3044\u3046\u30d0\u30b1\u30c3\u30c8\u306e dataset.txt \u3068\u3044\u3046\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8a2d\u5b9a\u3059\u308b\u4f8b\u3067\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --acl authenticated-read --bucket gaa00000-bucket-2 --key dataset.txt aws s3api put-object \u3067\u30d0\u30b1\u30c3\u30c8\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u5834\u5408\u3001\u3053\u306e acl \u306e\u6307\u5b9a\u3092\u540c\u6642\u306b\u884c\u3046\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u540c\u6642\u6307\u5b9a\u306e\u65b9\u6cd5\u306f\u3001 aws s3api put-object help \u3067\u8868\u793a\u3055\u308c\u308b\u30d8\u30eb\u30d7\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 \u30d1\u30d6\u30ea\u30c3\u30af\u30a2\u30af\u30bb\u30b9 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u8ab0\u304b\u3089\u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\uff08\u30d1\u30d6\u30ea\u30c3\u30af\u30a2\u30af\u30bb\u30b9\uff09\u8a2d\u5b9a\u306f\u3001\u6b21\u306e\uff12\u3064\u306e\u65e2\u5b9aACL\u3092\u7528\u3044\u3066\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u308c\u305e\u308c\u3001\u30d0\u30b1\u30c3\u30c8\u3042\u308b\u3044\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u9069\u7528\u3057\u307e\u3059\u3002 \u65e2\u5b9aACL \u30d0\u30b1\u30c3\u30c8 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8 public-read \u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u914d\u4e0b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4e00\u89a7\u304c\u516c\u958b\u3055\u308c\u307e\u3059\u3002 \u6307\u5b9a\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u516c\u958b\u3055\u308c\u307e\u3059\u3002\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5909\u66f4\u306f\u3001\u9069\u5207\u306a\u6a29\u9650\u3092\u6709\u3059\u308b\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u307f\u304c\u884c\u3048\u307e\u3059\u3002 public-read-write \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u8ab0\u3082\u304c\u3001\u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u914d\u4e0b\u306e\u8aad\u307f\u66f8\u304d\u3001\u304a\u3088\u3073ACL\u306e\u5909\u66f4\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u8ab0\u3082\u304cACL\u3092\u9069\u7528\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u8aad\u307f\u66f8\u304d\u3001\u304a\u3088\u3073ACL\u306e\u5909\u66f4\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002 Caution public-read-write \u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u89b3\u70b9\u304b\u3089\u5229\u7528\u3092\u63a8\u5968\u3057\u307e\u305b\u3093\u3002\u5fc5\u8981\u6027\u3068\u30ea\u30b9\u30af\u3092\u5341\u5206\u306b\u3054\u691c\u8a0e\u304f\u3060\u3055\u3044\u3002 Caution \u73fe\u6642\u70b9\u3067\u306f\u8ab0\u304b\u3089\u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u8a2d\u5b9a\u306f\u884c\u308f\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u30c7\u30fc\u30bf\u516c\u958b\u306b\u95a2\u3059\u308b\u7d04\u6b3e\u985e\u304c\u6574\u3044\u6b21\u7b2c\u3001\u3054\u6848\u5185\u3044\u305f\u3057\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u65e2\u5b9aACL\u306f private \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u516c\u958b\u3092\u505c\u6b62\u3059\u308b\u5834\u5408\u306f\u3001private \u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30d0\u30b1\u30c3\u30c8\u306e\u516c\u958b\uff08public-read\uff09 \u65e2\u5b9aACL\u300cpublic-read\u300d\u3092\u30d0\u30b1\u30c3\u30c8\u306b\u9069\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u305d\u306e\u30d0\u30b1\u30c3\u30c8\u914d\u4e0b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4e00\u89a7\u304c\u516c\u958b\u3055\u308c\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30d0\u30b1\u30c3\u30c8\u3092\u516c\u958b\u3059\u308b\u4f8b\u3067\u8aac\u660e\u3057\u307e\u3059\u3002 \u9069\u7528ACL \u516c\u958b\u30d0\u30b1\u30c3\u30c8 public-read test-pub Caution \u73fe\u6642\u70b9\u3067\u306f\u672c\u8a2d\u5b9a\u306f\u884c\u308f\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u30c7\u30fc\u30bf\u516c\u958b\u306b\u95a2\u3059\u308b\u7d04\u6b3e\u985e\u304c\u6574\u3044\u6b21\u7b2c\u3001\u3054\u6848\u5185\u3044\u305f\u3057\u307e\u3059\u3002 put-bucket-acl \u3067 public-read \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u8a2d\u5b9a\u306e\u78ba\u8a8d\u306f get-bucket-acl \u3092\u7528\u3044\u3066\u884c\u3044\u307e\u3059\u3002public \u3092\u793a\u3059URI \"http://acs.amazonaws.com/groups/global/AllUsers\" \u306e Permission \u306b READ \u304c\u4ed8\u4e0e\u3055\u308c\u305f Grantee \u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-bucket-acl --acl public-read --bucket test-pub [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api get-bucket-acl --bucket test-pub { \"Owner\" : { \"DisplayName\" : \"gxx00000\" , \"ID\" : \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\" } , \"Grants\" : [ { \"Grantee\": { \"DisplayName\": \"gxx00000\", \"ID\": \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\", \"Type\": \"CanonicalUser\" }, \"Permission\": \"FULL_CONTROL\" }, { \"Grantee\": { \"Type\": \"Group\", \"URI\": \"http://acs.amazonaws.com/groups/global/AllUsers\" }, \"Permission\": \"READ\" } ] } \u30a2\u30af\u30bb\u30b9\u304c\u3067\u304d\u308b\u3053\u3068\u306e\u78ba\u8a8d\u306f\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d6\u30e9\u30a6\u30b6\u3067 https://test-pub.s3.abci.ai \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3067\u3082\u53ef\u80fd\u3067\u3059\u3002Firefox\u306e\u5834\u5408\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ea\u30b9\u30c8\u3092\u542b\u3080XML\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u516c\u958b\u3092\u505c\u6b62\u3057\u3001\u521d\u671f\u5024\u306b\u623b\u3059\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u8ffd\u52a0\u3055\u308c\u305f Grantee \u304c\u306a\u304f\u306a\u308a\u3001ABCI\u30b0\u30eb\u30fc\u30d7\u540d\u304c\u306e Permission \u304c \"FULL_CONTROL\" \u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-bucket-acl --acl private --bucket test-pub [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api get-bucket-acl --bucket test-pub { \"Owner\" : { \"DisplayName\" : \"gxx00000\" , \"ID\" : \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\" } , \"Grants\" : [ { \"Grantee\": { \"DisplayName\": \"gxx00000\", \"ID\": \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\", \"Type\": \"CanonicalUser\" }, \"Permission\": \"FULL_CONTROL\" } ] } \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u516c\u958b\uff08public-read\uff09 \u65e2\u5b9aACL\u300cpublic-read\u300d\u3092\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u9069\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u305d\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u516c\u958b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u516c\u958b\u3059\u308b\u4f8b\u3067\u8aac\u660e\u3057\u307e\u3059\u3002 \u9069\u7528ACL \u30d0\u30b1\u30c3\u30c8 prefix \u516c\u958b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 public-read test-pub2 test/ test.txt Caution \u73fe\u6642\u70b9\u3067\u306f\u672c\u8a2d\u5b9a\u306f\u884c\u308f\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u30c7\u30fc\u30bf\u516c\u958b\u306b\u95a2\u3059\u308b\u7d04\u6b3e\u985e\u304c\u6574\u3044\u6b21\u7b2c\u3001\u3054\u6848\u5185\u3044\u305f\u3057\u307e\u3059\u3002 put-object-acl \u3067 public-read \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u307e\u305f\u3001get-object-acl \u3067\u8a2d\u5b9a\u72b6\u6cc1\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002public \u3092\u793a\u3059URI \"http://acs.amazonaws.com/groups/global/AllUsers\" \u306e Permission \u306b READ \u304c\u4ed8\u4e0e\u3055\u308c\u305f Grantee \u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --bucket test-pub2 --acl public-read --key test/test.txt [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api get-object-acl--bucket test-pub2 --key test/test.txt { \"Owner\" : { \"DisplayName\" : \"gxx00000\" , \"ID\" : \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\" } , \"Grants\" : [ { \"Grantee\": { \"DisplayName\": \"gxx00000\", \"ID\": \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\", \"Type\": \"CanonicalUser\" }, \"Permission\": \"FULL_CONTROL\" }, { \"Grantee\": { \"Type\": \"Group\", \"URI\": \"http://acs.amazonaws.com/groups/global/AllUsers\" }, \"Permission\": \"READ\" } ] } \u30a2\u30af\u30bb\u30b9\u304c\u3067\u304d\u308b\u3053\u3068\u306e\u78ba\u8a8d\u306f\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d6\u30e9\u30a6\u30b6\u3067 https://test-pub2.s3.abci.ai/test/test.txt \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3067\u3082\u53ef\u80fd\u3067\u3059\u3002Firefox\u306e\u5834\u5408\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30c7\u30fc\u30bf\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u516c\u958b\u3092\u505c\u6b62\u3057\u3001\u521d\u671f\u5024\u306b\u623b\u3059\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u8ffd\u52a0\u3055\u308c\u305f Grantee \u304c\u306a\u304f\u306a\u308a\u3001ABCI\u30b0\u30eb\u30fc\u30d7\u540d\u304c\u306e Permission \u304c \"FULL_CONTROL\" \u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --acl private --bucket test-pub2 --key test/test.txt [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api get-object-acl --bucket test-pub2 --key test/test.txt { \"Owner\" : { \"DisplayName\" : \"gxx00000\" , \"ID\" : \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\" } , \"Grants\" : [ { \"Grantee\": { \"DisplayName\": \"gxx00000\", \"ID\": \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\", \"Type\": \"CanonicalUser\" }, \"Permission\": \"FULL_CONTROL\" } ] }","title":"\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff081\uff09"},{"location":"abci-cloudstorage/acl/#1-acl","text":"ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306f\u3001\u30d0\u30b1\u30c3\u30c8\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u5bfe\u3057\u3066\u30a2\u30af\u30bb\u30b9\u30b3\u30f3\u30c8\u30ed\u30fc\u30eb\u30ea\u30b9\u30c8(ACL)\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001\u8ab0\u304c\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u304b\u3092\u5236\u5fa1\u3067\u304d\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u6240\u5c5e\u3059\u308b\u30b0\u30eb\u30fc\u30d7\u304b\u3089\u306e\u307f\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u304c\u3001\u4ed6\u306eABCI\u30b0\u30eb\u30fc\u30d7\u3001\u3042\u308b\u3044\u306f\u8ab0\u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u8a2d\u5b9a\u3092\u5909\u66f4\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 Caution \u73fe\u6642\u70b9\u3067\u306f\u8ab0\u304b\u3089\u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u8a2d\u5b9a\u306f\u884c\u308f\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u30c7\u30fc\u30bf\u516c\u958b\u306b\u95a2\u3059\u308b\u7d04\u6b3e\u985e\u304c\u6574\u3044\u6b21\u7b2c\u3001\u3054\u6848\u5185\u3044\u305f\u3057\u307e\u3059\u3002","title":"\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff08\uff11\uff09- ACL\u306b\u3088\u308b\u5236\u5fa1"},{"location":"abci-cloudstorage/acl/#acl","text":"ACL\u306f\u3001\u8ab0\u304b\u3089\u306e\u3001\u3069\u306e\u64cd\u4f5c\u3092\u8a31\u53ef\u3092\u3059\u308b\u306e\u304b\u3092\u30d0\u30b1\u30c3\u30c8\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u6bce\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u8a31\u53ef\u3059\u308b\u76f8\u624b\u3068\u3057\u3066\u4ee5\u4e0b\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002ABCI\u30b0\u30eb\u30fc\u30d7\u5358\u4f4d\u3088\u308a\u7d30\u304b\u304f\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u3064\u307e\u308a\u3001\u3042\u308b\u7279\u5b9a\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093\u3002 \u8a31\u53ef\u3059\u308b\u76f8\u624b \u8aac\u660e ABCI\u30b0\u30eb\u30fc\u30d7 \u6240\u5c5e\u30b0\u30eb\u30fc\u30d7\u4ee5\u5916\u306e\u7279\u5b9a\u306eABCI\u30b0\u30eb\u30fc\u30d7\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002\u6307\u5b9a\u3057\u305fABCI\u30b0\u30eb\u30fc\u30d7\u306b\u6240\u5c5e\u3059\u308b\u5168\u3066\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u3057\u3066\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3059\u308b\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002 ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u4fdd\u6301\u8005\u5168\u54e1 ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3064\u5168\u3066\u306e\u5229\u7528\u8005\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002\u30a2\u30af\u30bb\u30b9\u306b\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306b\u3088\u308b\u8a8d\u8a3c\u3092\u8981\u6c42\u3057\u307e\u3059\u3002 \u8ab0\u3067\u3082 \u8ab0\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3067\u3082\u8a31\u53ef\u3057\u307e\u3059\u3002\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306b\u3088\u308b\u8a8d\u8a3c\u3082\u8981\u6c42\u3057\u307e\u305b\u3093\u3002 \u8a31\u53ef\u3059\u308b\u64cd\u4f5c\u306f\u3001\u30d0\u30b1\u30c3\u30c8\u3068\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3067\u7570\u306a\u308a\u307e\u3059\u3002 \u8a31\u53ef\u3059\u308b\u64cd\u4f5c\u306e\u4e00\u89a7\uff1a\u30d0\u30b1\u30c3\u30c8 \u8a31\u53ef\u3059\u308b\u64cd\u4f5c \u8aac\u660e read \u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u914d\u4e0b\u306b\u3042\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4e00\u89a7\u306e\u53d6\u5f97\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 write \u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u914d\u4e0b\u3067\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4f5c\u6210\u3001\u6d88\u53bb\u3001\u5909\u66f4\u304c\u53ef\u80fd\u3067\u3059\u3002 read-acp \u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u306eACL\u306e\u53d6\u5f97\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 write-acp \u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u306eACL\u306e\u5909\u66f4\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 full-control \u4e0a\u8a18\u5168\u3066\u306eACL\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 \u8a31\u53ef\u3059\u308b\u64cd\u4f5c\u306e\u4e00\u89a7\uff1a\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u8a31\u53ef\u3059\u308b\u64cd\u4f5c \u8aac\u660e read \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30c7\u30fc\u30bf\u306e\u8aad\u307f\u8fbc\u307f\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 write \u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002 read-acp \u6307\u5b9a\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306eACL\u306e\u53d6\u5f97\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 write-acp \u6307\u5b9a\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306eACL\u306e\u5909\u66f4\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 full-control \u4e0a\u8a18\u5168\u3066\u306eACL\u3092\u8a31\u53ef\u3057\u307e\u3059\u3002 \u4f5c\u6210\u3057\u305f\u3070\u304b\u308a\u306e\u30d0\u30b1\u30c3\u30c8\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001\u6240\u5c5eABCI\u30b0\u30eb\u30fc\u30d7\u306b\u5bfe\u3059\u308b full-control \u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u3078\u306e\u516c\u958b\u306e\u3088\u3046\u306a\u8a31\u53ef\u3059\u308b\u300c\u76f8\u624b\u300d\u3068\u300c\u64cd\u4f5c\u300d\u306e\u7d44\u307f\u5408\u308f\u305b\u304c\u5b9a\u578b\u7684\u306aACL\u306f\u3001\u65e2\u5b9aACL\u304c\u7528\u610f\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u65e2\u5b9aACL\u306b\u3064\u3044\u3066\u306f\u3001\u5f8c\u8ff0\u3057\u307e\u3059\u3002","title":"ACL\u3067\u306e\u8a2d\u5b9a\u9805\u76ee"},{"location":"abci-cloudstorage/acl/#acl_1","text":"","title":"ACL\u306e\u8a2d\u5b9a\u65b9\u6cd5\uff08\u8a2d\u5b9a\u4f8b\uff09"},{"location":"abci-cloudstorage/acl/#abci","text":"ABCI\u30b0\u30eb\u30fc\u30d7\u9593\u3067\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u5171\u6709\u3059\u308b\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 \u4f8b\u3068\u3057\u3066\u3001ABCI\u30b0\u30eb\u30fc\u30d7 gaa00000 \u306e testdata \u3068\u3044\u3046\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u3001ABCI\u30b0\u30eb\u30fc\u30d7 gaa11111 \u304c\u8aad\u307f\u3068\u308c\u308b\u3088\u3046\u306a\u8a31\u53ef\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002 \u5171\u6709\u5143ABCI \u30b0\u30eb\u30fc\u30d7 \u5171\u6709\u5148ABCI \u30b0\u30eb\u30fc\u30d7 gaa00000 gaa11111 \u5171\u6709\u3059\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u8a73\u7d30 \u30d0\u30b1\u30c3\u30c8\u540d prefix \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u540d test-share test/ testdata \u307e\u305a\u3001\u5171\u6709\u76f8\u624b\u3068\u306a\u308bABCI\u30b0\u30eb\u30fc\u30d7\u306b \u6b63\u898fID \u306e\u78ba\u8a8d\u3092\u4f9d\u983c\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u5171\u6709\u76f8\u624b\u5074\u3067\u306f\u3001gaa11111 \u306b\u5c5e\u3057\u3066\u3044\u308b\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3067 s3 list-bucket \u3092\u5b9f\u884c\u3057\u3001\u51fa\u529b\u306b\u3042\u308b \"Owner\"->\"ID\" \u306e\u5024\u3092\u78ba\u8a8d\u3057\u3001\u5171\u6709\u5143\u306b\u9023\u7d61\u3057\u3066\u304f\u3060\u3055\u3044\u3002 $ aws --endpoint-url https://s3.abci.ai s3api list-buckets { \"Buckets\" : [ { \"Name\" : \"gaa11111-bucket-1\" , \"CreationDate\" : \"2019-08-22T11:36:17.523Z\" } ] , \"Owner\" : { \"DisplayName\" : \"gaa11111\" , \u6b63\u898fID-> \"ID\" : \"1a2bc03fa4ee5ba678b90cc1a234f5f67f890f1f2341fa56a78901234cc5fad6\" } } \u5171\u6709\u5143\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306bACL\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u8aad\u307f\u8fbc\u307f(read)\u306e\u307f\u306e\u64cd\u4f5c\u306f --grant-read \u3092\u6307\u5b9a\u3057\u3001\u88ab\u4ed8\u4e0e\u8005\u3068\u3057\u3066\u5171\u6709\u76f8\u624b\u306e\u6b63\u898fID\u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --grant-read id=1a2bc03fa4ee5ba678b90cc1a234f5f67f890f1f2341fa56a78901234cc5fad6 --bucket test-share --key test/testdata \u8a2d\u5b9a\u306e\u7d50\u679c\u3092\u78ba\u8a8d\u3057\u307e\u3059\u3002\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001Grants\u306e\u8981\u7d20\u306b\u3001gaa11111 \u306e\u8981\u7d20\u304c Permission \"READ\" \u3067\u8ffd\u52a0\u3055\u308c\u3066\u3044\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api get-object-acl --bucket test-share --key test/testdata { \"Owner\" : { \"DisplayName\" : \"gaa00000\" , \"ID\" : \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\" } , \"Grants\" : [ { \"Grantee\": { \"DisplayName\": \"gaa11111\", \"ID\": \"1a2bc03fa4ee5ba678b90cc1a234f5f67f890f1f2341fa56a78901234cc5fad6\", \"Type\": \"CanonicalUser\" }, \"Permission\": \"READ\" } ] } \u8a2d\u5b9a\u3092\u623b\u3059\u3068\u304d\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b ACL \u3092 private \u306b\u8a2d\u5b9a\u3059\u308c\u3070\u3001\u521d\u671f\u5024\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --acl private --bucket test-share --key test/testdata","title":"ABCI\u30b0\u30eb\u30fc\u30d7\u9593\u3067\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5171\u6709"},{"location":"abci-cloudstorage/acl/#abci_1","text":"ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5168\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u516c\u958b\u3059\u308b\u306b\u306f --acl \u306b authenticated-read \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306f\u3001gaa00000-bucket-2 \u3068\u3044\u3046\u30d0\u30b1\u30c3\u30c8\u306e dataset.txt \u3068\u3044\u3046\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8a2d\u5b9a\u3059\u308b\u4f8b\u3067\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --acl authenticated-read --bucket gaa00000-bucket-2 --key dataset.txt aws s3api put-object \u3067\u30d0\u30b1\u30c3\u30c8\u306b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u8ffd\u52a0\u3059\u308b\u5834\u5408\u3001\u3053\u306e acl \u306e\u6307\u5b9a\u3092\u540c\u6642\u306b\u884c\u3046\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u540c\u6642\u6307\u5b9a\u306e\u65b9\u6cd5\u306f\u3001 aws s3api put-object help \u3067\u8868\u793a\u3055\u308c\u308b\u30d8\u30eb\u30d7\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002","title":"ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u5168\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u516c\u958b"},{"location":"abci-cloudstorage/acl/#_1","text":"\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u8ab0\u304b\u3089\u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\uff08\u30d1\u30d6\u30ea\u30c3\u30af\u30a2\u30af\u30bb\u30b9\uff09\u8a2d\u5b9a\u306f\u3001\u6b21\u306e\uff12\u3064\u306e\u65e2\u5b9aACL\u3092\u7528\u3044\u3066\u884c\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305d\u308c\u305e\u308c\u3001\u30d0\u30b1\u30c3\u30c8\u3042\u308b\u3044\u306f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u9069\u7528\u3057\u307e\u3059\u3002 \u65e2\u5b9aACL \u30d0\u30b1\u30c3\u30c8 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8 public-read \u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u914d\u4e0b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u4e00\u89a7\u304c\u516c\u958b\u3055\u308c\u307e\u3059\u3002 \u6307\u5b9a\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u516c\u958b\u3055\u308c\u307e\u3059\u3002\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u5909\u66f4\u306f\u3001\u9069\u5207\u306a\u6a29\u9650\u3092\u6709\u3059\u308b\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306e\u307f\u304c\u884c\u3048\u307e\u3059\u3002 public-read-write \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u8ab0\u3082\u304c\u3001\u6307\u5b9a\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u914d\u4e0b\u306e\u8aad\u307f\u66f8\u304d\u3001\u304a\u3088\u3073ACL\u306e\u5909\u66f4\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002 \u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u4e0a\u306e\u8ab0\u3082\u304cACL\u3092\u9069\u7528\u3057\u305f\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u8aad\u307f\u66f8\u304d\u3001\u304a\u3088\u3073ACL\u306e\u5909\u66f4\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002 Caution public-read-write \u306f\u30bb\u30ad\u30e5\u30ea\u30c6\u30a3\u306e\u89b3\u70b9\u304b\u3089\u5229\u7528\u3092\u63a8\u5968\u3057\u307e\u305b\u3093\u3002\u5fc5\u8981\u6027\u3068\u30ea\u30b9\u30af\u3092\u5341\u5206\u306b\u3054\u691c\u8a0e\u304f\u3060\u3055\u3044\u3002 Caution \u73fe\u6642\u70b9\u3067\u306f\u8ab0\u304b\u3089\u3067\u3082\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u8a2d\u5b9a\u306f\u884c\u308f\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u30c7\u30fc\u30bf\u516c\u958b\u306b\u95a2\u3059\u308b\u7d04\u6b3e\u985e\u304c\u6574\u3044\u6b21\u7b2c\u3001\u3054\u6848\u5185\u3044\u305f\u3057\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u65e2\u5b9aACL\u306f private \u304c\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u516c\u958b\u3092\u505c\u6b62\u3059\u308b\u5834\u5408\u306f\u3001private \u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30d1\u30d6\u30ea\u30c3\u30af\u30a2\u30af\u30bb\u30b9"},{"location":"abci-cloudstorage/acl/#public-read","text":"\u65e2\u5b9aACL\u300cpublic-read\u300d\u3092\u30d0\u30b1\u30c3\u30c8\u306b\u9069\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u305d\u306e\u30d0\u30b1\u30c3\u30c8\u914d\u4e0b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u4e00\u89a7\u304c\u516c\u958b\u3055\u308c\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30d0\u30b1\u30c3\u30c8\u3092\u516c\u958b\u3059\u308b\u4f8b\u3067\u8aac\u660e\u3057\u307e\u3059\u3002 \u9069\u7528ACL \u516c\u958b\u30d0\u30b1\u30c3\u30c8 public-read test-pub Caution \u73fe\u6642\u70b9\u3067\u306f\u672c\u8a2d\u5b9a\u306f\u884c\u308f\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u30c7\u30fc\u30bf\u516c\u958b\u306b\u95a2\u3059\u308b\u7d04\u6b3e\u985e\u304c\u6574\u3044\u6b21\u7b2c\u3001\u3054\u6848\u5185\u3044\u305f\u3057\u307e\u3059\u3002 put-bucket-acl \u3067 public-read \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u8a2d\u5b9a\u306e\u78ba\u8a8d\u306f get-bucket-acl \u3092\u7528\u3044\u3066\u884c\u3044\u307e\u3059\u3002public \u3092\u793a\u3059URI \"http://acs.amazonaws.com/groups/global/AllUsers\" \u306e Permission \u306b READ \u304c\u4ed8\u4e0e\u3055\u308c\u305f Grantee \u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-bucket-acl --acl public-read --bucket test-pub [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api get-bucket-acl --bucket test-pub { \"Owner\" : { \"DisplayName\" : \"gxx00000\" , \"ID\" : \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\" } , \"Grants\" : [ { \"Grantee\": { \"DisplayName\": \"gxx00000\", \"ID\": \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\", \"Type\": \"CanonicalUser\" }, \"Permission\": \"FULL_CONTROL\" }, { \"Grantee\": { \"Type\": \"Group\", \"URI\": \"http://acs.amazonaws.com/groups/global/AllUsers\" }, \"Permission\": \"READ\" } ] } \u30a2\u30af\u30bb\u30b9\u304c\u3067\u304d\u308b\u3053\u3068\u306e\u78ba\u8a8d\u306f\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d6\u30e9\u30a6\u30b6\u3067 https://test-pub.s3.abci.ai \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3067\u3082\u53ef\u80fd\u3067\u3059\u3002Firefox\u306e\u5834\u5408\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ea\u30b9\u30c8\u3092\u542b\u3080XML\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u516c\u958b\u3092\u505c\u6b62\u3057\u3001\u521d\u671f\u5024\u306b\u623b\u3059\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u8ffd\u52a0\u3055\u308c\u305f Grantee \u304c\u306a\u304f\u306a\u308a\u3001ABCI\u30b0\u30eb\u30fc\u30d7\u540d\u304c\u306e Permission \u304c \"FULL_CONTROL\" \u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-bucket-acl --acl private --bucket test-pub [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api get-bucket-acl --bucket test-pub { \"Owner\" : { \"DisplayName\" : \"gxx00000\" , \"ID\" : \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\" } , \"Grants\" : [ { \"Grantee\": { \"DisplayName\": \"gxx00000\", \"ID\": \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\", \"Type\": \"CanonicalUser\" }, \"Permission\": \"FULL_CONTROL\" } ] }","title":"\u30d0\u30b1\u30c3\u30c8\u306e\u516c\u958b\uff08public-read\uff09"},{"location":"abci-cloudstorage/acl/#public-read_1","text":"\u65e2\u5b9aACL\u300cpublic-read\u300d\u3092\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u9069\u7528\u3059\u308b\u3053\u3068\u3067\u3001\u305d\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u516c\u958b\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u516c\u958b\u3059\u308b\u4f8b\u3067\u8aac\u660e\u3057\u307e\u3059\u3002 \u9069\u7528ACL \u30d0\u30b1\u30c3\u30c8 prefix \u516c\u958b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8 public-read test-pub2 test/ test.txt Caution \u73fe\u6642\u70b9\u3067\u306f\u672c\u8a2d\u5b9a\u306f\u884c\u308f\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u30c7\u30fc\u30bf\u516c\u958b\u306b\u95a2\u3059\u308b\u7d04\u6b3e\u985e\u304c\u6574\u3044\u6b21\u7b2c\u3001\u3054\u6848\u5185\u3044\u305f\u3057\u307e\u3059\u3002 put-object-acl \u3067 public-read \u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u307e\u305f\u3001get-object-acl \u3067\u8a2d\u5b9a\u72b6\u6cc1\u3092\u78ba\u8a8d\u3067\u304d\u307e\u3059\u3002public \u3092\u793a\u3059URI \"http://acs.amazonaws.com/groups/global/AllUsers\" \u306e Permission \u306b READ \u304c\u4ed8\u4e0e\u3055\u308c\u305f Grantee \u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --bucket test-pub2 --acl public-read --key test/test.txt [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api get-object-acl--bucket test-pub2 --key test/test.txt { \"Owner\" : { \"DisplayName\" : \"gxx00000\" , \"ID\" : \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\" } , \"Grants\" : [ { \"Grantee\": { \"DisplayName\": \"gxx00000\", \"ID\": \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\", \"Type\": \"CanonicalUser\" }, \"Permission\": \"FULL_CONTROL\" }, { \"Grantee\": { \"Type\": \"Group\", \"URI\": \"http://acs.amazonaws.com/groups/global/AllUsers\" }, \"Permission\": \"READ\" } ] } \u30a2\u30af\u30bb\u30b9\u304c\u3067\u304d\u308b\u3053\u3068\u306e\u78ba\u8a8d\u306f\u30a4\u30f3\u30bf\u30fc\u30cd\u30c3\u30c8\u30d6\u30e9\u30a6\u30b6\u3067 https://test-pub2.s3.abci.ai/test/test.txt \u306b\u30a2\u30af\u30bb\u30b9\u3059\u308b\u3053\u3068\u3067\u3082\u53ef\u80fd\u3067\u3059\u3002Firefox\u306e\u5834\u5408\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30c7\u30fc\u30bf\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 \u516c\u958b\u3092\u505c\u6b62\u3057\u3001\u521d\u671f\u5024\u306b\u623b\u3059\u624b\u9806\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 \u8ffd\u52a0\u3055\u308c\u305f Grantee \u304c\u306a\u304f\u306a\u308a\u3001ABCI\u30b0\u30eb\u30fc\u30d7\u540d\u304c\u306e Permission \u304c \"FULL_CONTROL\" \u306b\u306a\u3063\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api put-object-acl --acl private --bucket test-pub2 --key test/test.txt [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api get-object-acl --bucket test-pub2 --key test/test.txt { \"Owner\" : { \"DisplayName\" : \"gxx00000\" , \"ID\" : \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\" } , \"Grants\" : [ { \"Grantee\": { \"DisplayName\": \"gxx00000\", \"ID\": \"f12d0fa66ea4df5418c0c6234fd5eb3a9f4409bf50b5a58983a30be8f9a42bda\", \"Type\": \"CanonicalUser\" }, \"Permission\": \"FULL_CONTROL\" } ] }","title":"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u516c\u958b\uff08public-read\uff09"},{"location":"abci-cloudstorage/cs-account/","text":"\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u30a2\u30af\u30bb\u30b9\u30ad\u30fc \u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8 ABCI\u5229\u7528\u8005\u306b\u306f\u3001ABCI\u306e\u30b0\u30eb\u30fc\u30d7\u6bce\u306bABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u7528\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u3002\u4e00\u65b9\u3001ABCI\u30b0\u30eb\u30fc\u30d7\u306e\u5229\u7528\u7ba1\u7406\u8005\u306b\u306f\u3001\u5229\u7528\u8005\u7528\u3068\u306f\u5225\u306b\u3001\u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u304c1\u3064\u767a\u884c\u3055\u308c\u307e\u3059\u3002 \u5229\u7528\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8 ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u4e00\u822c\u7684\u306a\u5229\u7528\uff08\u30c7\u30fc\u30bf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3084\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7b49\uff09\u306b\u7528\u3044\u3066\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3059\u3002\u4f8b\u3048\u3070\u3001aaa00000aa.1 \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u304c\u4ed8\u4e0e\u3055\u308c\u307e\u3059\u3002 \u8907\u6570\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u6240\u5c5e\u3057\u3001\u4ed6\u306e\u30b0\u30eb\u30fc\u30d7\u3067\u3082ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001aaa00000aa.2 \u3068\u3044\u3063\u305f\u5225\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3064\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002 \u591a\u304f\u306e\u5834\u5408\u3001\uff11\u3064\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u304a\u3044\u3066\uff11\u3064\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u3042\u308c\u3070\u5341\u5206\u3067\u3059\u304c\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u540c\u3058\u30b0\u30eb\u30fc\u30d7\u3067\u3082\u8907\u6570\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3064\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u958b\u767a\u4e2d\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u306b aaa00000aa.3 \u3092\u8ffd\u52a0\u3067\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u540d\u524d\u306e\u6307\u5b9a\u306f\u3067\u304d\u307e\u305b\u3093\u3002 \u5404\u5229\u7528\u8005\u304c\u6301\u3064\u3053\u3068\u306e\u3067\u304d\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u3001\u6240\u5c5e\u3059\u308b1\u30b0\u30eb\u30fc\u30d7\u3042\u305f\u308a\u6700\u592710\u500b\u307e\u3067\u3067\u3059\u3002\u3082\u3057\u30012\u3064\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u6240\u5c5e\u3057\u3066\u3044\u308c\u3070\u305d\u308c\u305e\u308c10\u500b\u3001\u5408\u8a0820\u500b\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8 \u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u306f\u3001\u4e00\u822c\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u306f\u5b9f\u884c\u3067\u304d\u306a\u3044\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u3092\u884c\u3046\u6a29\u9650\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u5177\u4f53\u7684\u306b\u306f\u3001 \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff082\uff09 \u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\u3000 \u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3082\u3001\u30c7\u30fc\u30bf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3084\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306a\u3069\u3001\u5229\u7528\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u884c\u3048\u308b\u64cd\u4f5c\u304c\u53ef\u80fd\u3067\u3059\u304c\u3001\u539f\u5247\u3001\u5229\u7528\u8005\u7528\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7528\u3044\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u3001\u5229\u7528\u7ba1\u7406\u8005\u306b\uff11\u4eba\uff11\u3064\u767a\u884c\u3055\u308c\u307e\u3059\u3002\u8907\u6570\u306e\u30b0\u30eb\u30fc\u30d7\u306e\u5229\u7528\u7ba1\u7406\u8005\u3068\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u305d\u308c\u305e\u308c\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u304a\u3044\u3066\uff11\u3064\u767a\u884c\u3055\u308c\u307e\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u30ad\u30fc \u5168\u3066\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30ad\u30fc ID \u3068\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306e\u30da\u30a2\u304b\u3089\u6210\u308a\u307e\u3059\u3002\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306f\u3001\u7b2c\u4e09\u8005\u306b\u898b\u305b\u305f\u308a\u3001\u7b2c\u4e09\u8005\u304b\u3089\u898b\u3048\u308b\u3068\u3053\u308d\u306b\u7f6e\u3044\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002 \uff11\u3064\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u306f\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u30922\u3064\u307e\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u8907\u6570\u306e\u7570\u306a\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u7528\u3044\u308b\u5834\u5408\u306b\u306f\u3001\u500b\u5225\u306e\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002","title":"\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u30a2\u30af\u30bb\u30b9\u30ad\u30fc"},{"location":"abci-cloudstorage/cs-account/#_1","text":"","title":"\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u30a2\u30af\u30bb\u30b9\u30ad\u30fc"},{"location":"abci-cloudstorage/cs-account/#_2","text":"ABCI\u5229\u7528\u8005\u306b\u306f\u3001ABCI\u306e\u30b0\u30eb\u30fc\u30d7\u6bce\u306bABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u7528\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u3002\u4e00\u65b9\u3001ABCI\u30b0\u30eb\u30fc\u30d7\u306e\u5229\u7528\u7ba1\u7406\u8005\u306b\u306f\u3001\u5229\u7528\u8005\u7528\u3068\u306f\u5225\u306b\u3001\u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u304c1\u3064\u767a\u884c\u3055\u308c\u307e\u3059\u3002","title":"\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8"},{"location":"abci-cloudstorage/cs-account/#_3","text":"ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u4e00\u822c\u7684\u306a\u5229\u7528\uff08\u30c7\u30fc\u30bf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3084\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u7b49\uff09\u306b\u7528\u3044\u3066\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3059\u3002\u4f8b\u3048\u3070\u3001aaa00000aa.1 \u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u304c\u4ed8\u4e0e\u3055\u308c\u307e\u3059\u3002 \u8907\u6570\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u6240\u5c5e\u3057\u3001\u4ed6\u306e\u30b0\u30eb\u30fc\u30d7\u3067\u3082ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u306b\u306f\u3001aaa00000aa.2 \u3068\u3044\u3063\u305f\u5225\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3064\u3053\u3068\u306b\u306a\u308a\u307e\u3059\u3002 \u591a\u304f\u306e\u5834\u5408\u3001\uff11\u3064\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u304a\u3044\u3066\uff11\u3064\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u3042\u308c\u3070\u5341\u5206\u3067\u3059\u304c\u3001\u5fc5\u8981\u306b\u5fdc\u3058\u3066\u3001\u540c\u3058\u30b0\u30eb\u30fc\u30d7\u3067\u3082\u8907\u6570\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3064\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u958b\u767a\u4e2d\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u7528\u306b aaa00000aa.3 \u3092\u8ffd\u52a0\u3067\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u305f\u3060\u3057\u3001\u540d\u524d\u306e\u6307\u5b9a\u306f\u3067\u304d\u307e\u305b\u3093\u3002 \u5404\u5229\u7528\u8005\u304c\u6301\u3064\u3053\u3068\u306e\u3067\u304d\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u3001\u6240\u5c5e\u3059\u308b1\u30b0\u30eb\u30fc\u30d7\u3042\u305f\u308a\u6700\u592710\u500b\u307e\u3067\u3067\u3059\u3002\u3082\u3057\u30012\u3064\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u6240\u5c5e\u3057\u3066\u3044\u308c\u3070\u305d\u308c\u305e\u308c10\u500b\u3001\u5408\u8a0820\u500b\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002","title":"\u5229\u7528\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8"},{"location":"abci-cloudstorage/cs-account/#_4","text":"\u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u306f\u3001\u4e00\u822c\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u306f\u5b9f\u884c\u3067\u304d\u306a\u3044\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u3092\u884c\u3046\u6a29\u9650\u304c\u4ed8\u4e0e\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u5177\u4f53\u7684\u306b\u306f\u3001 \u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff082\uff09 \u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002\u3000 \u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u3082\u3001\u30c7\u30fc\u30bf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3084\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306a\u3069\u3001\u5229\u7528\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3067\u884c\u3048\u308b\u64cd\u4f5c\u304c\u53ef\u80fd\u3067\u3059\u304c\u3001\u539f\u5247\u3001\u5229\u7528\u8005\u7528\u306e\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7528\u3044\u308b\u3088\u3046\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u3001\u5229\u7528\u7ba1\u7406\u8005\u306b\uff11\u4eba\uff11\u3064\u767a\u884c\u3055\u308c\u307e\u3059\u3002\u8907\u6570\u306e\u30b0\u30eb\u30fc\u30d7\u306e\u5229\u7528\u7ba1\u7406\u8005\u3068\u306a\u3063\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u305d\u308c\u305e\u308c\u306e\u30b0\u30eb\u30fc\u30d7\u306b\u304a\u3044\u3066\uff11\u3064\u767a\u884c\u3055\u308c\u307e\u3059\u3002","title":"\u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8"},{"location":"abci-cloudstorage/cs-account/#_5","text":"\u5168\u3066\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u304c\u8a2d\u5b9a\u3055\u308c\u307e\u3059\u3002\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30ad\u30fc ID \u3068\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306e\u30da\u30a2\u304b\u3089\u6210\u308a\u307e\u3059\u3002\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306f\u3001\u7b2c\u4e09\u8005\u306b\u898b\u305b\u305f\u308a\u3001\u7b2c\u4e09\u8005\u304b\u3089\u898b\u3048\u308b\u3068\u3053\u308d\u306b\u7f6e\u3044\u3066\u306f\u3044\u3051\u307e\u305b\u3093\u3002 \uff11\u3064\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u306f\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u30922\u3064\u307e\u3067\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u8907\u6570\u306e\u7570\u306a\u308b\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u7528\u3044\u308b\u5834\u5408\u306b\u306f\u3001\u500b\u5225\u306e\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059\u3002","title":"\u30a2\u30af\u30bb\u30b9\u30ad\u30fc"},{"location":"abci-cloudstorage/encryption/","text":"\u30c7\u30fc\u30bf\u306e\u6697\u53f7\u5316 \u6697\u53f7\u5316\u6a5f\u80fd\u306e\u6982\u8981 \u30af\u30e9\u30a6\u30c9\u5411\u3051\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u304a\u3044\u3066\u306f\u3001\u4e00\u822c\u7684\u306b\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u6697\u53f7\u5316\u3059\u308b CSE\uff08Client-Side Encryption\uff09\u3068\u30b5\u30fc\u30d0\u5074\u3067\u6697\u53f7\u5316\u3059\u308b SSE\uff08Server-Side Encryption\uff09\u304c\u3042\u308a\u307e\u3059\u3002SSE\u306f\u30b9\u30c8\u30ec\u30fc\u30b8\u5074\u3067\u306e\u6a5f\u80fd\u63d0\u4f9b\u304c\u5fc5\u8981\u3067\u3042\u308a\u3001ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306fSSE\u6a5f\u80fd\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 SSE\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3068\u3001\u30c7\u30fc\u30bf\u304c\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u3089\u308c\u305f\u5f8c\u3001\u30c7\u30a3\u30b9\u30af\u306b\u4fdd\u5b58\u3055\u308c\u308b\u524d\u306b\u6697\u53f7\u5316\u304c\u884c\u308f\u308c\u307e\u3059\u3002\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u6642\u306b\u306f\u3001\u30c7\u30a3\u30b9\u30af\u304b\u3089\u53d6\u308a\u51fa\u3055\u308c\u305f\u5f8c\u306b\u5fa9\u53f7\u5316\u304c\u884c\u308f\u308c\u3001\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u304c\u9001\u3089\u308c\u3066\u304d\u307e\u3059\u3002SSE\u3067\u306f\u3001\u9001\u4fe1\u7d4c\u8def\u4e0a\u3067\u306f\u30c7\u30fc\u30bf\u304c\u5fa9\u53f7\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306f\u3001\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b https://s3.abci.ai \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067TLS\u306b\u3088\u308b\u901a\u4fe1\u306e\u6697\u53f7\u5316\u304c\u5225\u9014\u884c\u308f\u308c\u307e\u3059\u3002 Amazon S3 \u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a SSE \u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306f\u3001SSE-S3 \u306b\u76f8\u5f53\u3059\u308b SSE \u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u3001Amazon S3 \u306e SSE-S3 \u3068\u53b3\u5bc6\u306b\u306f\u7570\u306a\u308b\u305f\u3081\u3001\u540c\u3058 API \u3092\u7528\u3044\u305f\u64cd\u4f5c\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u307e\u305f\u3001SSE-C \u3068 SSE-KMS \u3082ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306f\u5229\u7528\u3067\u304d\u307e\u305b\u3093\u3002 SSE\u306e\u7a2e\u985e \u8aac\u660e SSE-S3 \u30b9\u30c8\u30ec\u30fc\u30b8\u5074\u3067\u7ba1\u7406\u3055\u308c\u305f\u9375\u3092\u7528\u3044\u3066\u6697\u53f7\u5316 SSE-C \u30e6\u30fc\u30b6\u30fc\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u542b\u3081\u305f\u9375\u3092\u7528\u3044\u3066\u6697\u53f7\u5316 SSE-KMS Key Management Service \u306b\u767b\u9332\u3055\u308c\u305f\u9375\u3092\u7528\u3044\u3066\u6697\u53f7\u5316 \u4e00\u65b9\u3001ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306fCSE\u306e\u5229\u7528\u306f\u53ef\u80fd\u3067\u3059\u3002\u305f\u3060\u3057\u3001ABCI\u3067\u306fKMS(Key Management Service)\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002 CSE\u306e\u8aac\u660e\u306f\u3001 Protecting Data Using Client-Side Encryption \u306a\u3069\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 CSE\u306e\u7a2e\u985e \u8aac\u660e CSE-C \u30e6\u30fc\u30b6\u30fc\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u7ba1\u7406\u3057\u3066\u3044\u308b\u9375\u3092\u7528\u3044\u3066\u6697\u53f7\u5316 CSE-KMS Key Management Service \u306b\u767b\u9332\u3055\u308c\u305f\u9375\u3092\u7528\u3044\u3066\u6697\u53f7\u5316 \u6697\u53f7\u5316\u3092\u6709\u52b9\u306b\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210 SSE \u3092\u6709\u52b9\u306b\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u308b\u306b\u306f\u3001aws\u30b3\u30de\u30f3\u30c9\u3067\u306f\u306a\u304f\u3001ABCI\u74b0\u5883\u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308b create-encrypted-bucket \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001'dataset-s0001' \u3068\u3044\u3046\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ create - encrypted - bucket --endpoint-url https://s3.abci.ai s3://dataset-s0001 create - encrypted - bucket Success . Note \u30b9\u30c8\u30ec\u30fc\u30b8\u5074\u304c\u4fdd\u6301\u3059\u308b\u9375\u3092\u7528\u3044\u3066\u3001\u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4fdd\u5b58\u3059\u308b\u6642\u306b\u6697\u53f7\u5316\uff08\u8aad\u307f\u51fa\u3059\u6642\u306b\u306f\u5fa9\u53f7\u5316\uff09\u3059\u308b\u3082\u306e\u3067\u3001\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306a\u3069\u9001\u4fe1\u30ea\u30af\u30a8\u30b9\u30c8\u56fa\u6709\u306e\u60c5\u5831\u3067\u6697\u53f7\u5316\u3059\u308b\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 Note \u6697\u53f7\u5316\u3092\u6709\u52b9\u306b\u3057\u3066\u3044\u306a\u3044\u30d0\u30b1\u30c3\u30c8\u306b\u5bfe\u3057\u3066\u3001\u5f8c\u304b\u3089\u6697\u53f7\u5316\u3092\u6709\u52b9\u306b\u3059\u308b\u65b9\u6cd5\u306f\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002 \u6697\u53f7\u5316\u3092\u6709\u52b9\u306b\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u304b\u3069\u3046\u304b\u306e\u5224\u5225 SSE\u3092\u6709\u52b9\u306b\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u304b\u3069\u3046\u304b\u3092\u5224\u5225\u3059\u308b\u306b\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001\u7a7a\u306e\u30d0\u30b1\u30c3\u30c8\u3067\u306f\u78ba\u8a8d\u3067\u304d\u307e\u305b\u3093\u3002\u7a7a\u306e\u5834\u5408\u306f\u3001\u306a\u306b\u304b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30921\u3064\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u78ba\u8a8d\u306f aws s3api head-object \u3067\u884c\u3044\u307e\u3059\u3002 \u4ee5\u4e0b\u3067\u306f\u3001dataset-s0001 \u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f cat.jpg \u3068\u3044\u3046\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002 \"ServerSideEncryption\": \"AES256\" \u3068\u3044\u3046\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u305f\u3081\u3001dataset-s0001 \u306f\u6697\u53f7\u5316\u3092\u6709\u52b9\u306b\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u3067\u3042\u308b\u3068\u3044\u3048\u307e\u3059\u3002\u3053\u306e\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u6697\u53f7\u5316\u304c\u6709\u52b9\u3067\u306a\u3044\u30d0\u30b1\u30c3\u30c8\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api head-object --bucket dataset-s0001 --key cat.jpg { \"LastModified\" : \"Tue, 30 Jul 2019 09:34:18 GMT\" , \"ContentLength\" : 1048576 , \"ETag\" : \"\\\" c951191fe4fa27c0d054a8456c6c20d1 \\ \"\" , \"ServerSideEncryption\" : \"AES256\" , \"Metadata\" : {} }","title":"\u30c7\u30fc\u30bf\u306e\u6697\u53f7\u5316"},{"location":"abci-cloudstorage/encryption/#_1","text":"","title":"\u30c7\u30fc\u30bf\u306e\u6697\u53f7\u5316"},{"location":"abci-cloudstorage/encryption/#_2","text":"\u30af\u30e9\u30a6\u30c9\u5411\u3051\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u304a\u3044\u3066\u306f\u3001\u4e00\u822c\u7684\u306b\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u6697\u53f7\u5316\u3059\u308b CSE\uff08Client-Side Encryption\uff09\u3068\u30b5\u30fc\u30d0\u5074\u3067\u6697\u53f7\u5316\u3059\u308b SSE\uff08Server-Side Encryption\uff09\u304c\u3042\u308a\u307e\u3059\u3002SSE\u306f\u30b9\u30c8\u30ec\u30fc\u30b8\u5074\u3067\u306e\u6a5f\u80fd\u63d0\u4f9b\u304c\u5fc5\u8981\u3067\u3042\u308a\u3001ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306fSSE\u6a5f\u80fd\u3092\u30b5\u30dd\u30fc\u30c8\u3057\u3066\u3044\u307e\u3059\u3002 SSE\u6a5f\u80fd\u3092\u5229\u7528\u3059\u308b\u3068\u3001\u30c7\u30fc\u30bf\u304c\u30b5\u30fc\u30d0\u30fc\u306b\u9001\u3089\u308c\u305f\u5f8c\u3001\u30c7\u30a3\u30b9\u30af\u306b\u4fdd\u5b58\u3055\u308c\u308b\u524d\u306b\u6697\u53f7\u5316\u304c\u884c\u308f\u308c\u307e\u3059\u3002\u30c7\u30fc\u30bf\u3092\u53d6\u5f97\u3059\u308b\u6642\u306b\u306f\u3001\u30c7\u30a3\u30b9\u30af\u304b\u3089\u53d6\u308a\u51fa\u3055\u308c\u305f\u5f8c\u306b\u5fa9\u53f7\u5316\u304c\u884c\u308f\u308c\u3001\u30b5\u30fc\u30d0\u30fc\u304b\u3089\u30c7\u30fc\u30bf\u304c\u9001\u3089\u308c\u3066\u304d\u307e\u3059\u3002SSE\u3067\u306f\u3001\u9001\u4fe1\u7d4c\u8def\u4e0a\u3067\u306f\u30c7\u30fc\u30bf\u304c\u5fa9\u53f7\u5316\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306f\u3001\u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306b https://s3.abci.ai \u3092\u6307\u5b9a\u3059\u308b\u3053\u3068\u3067TLS\u306b\u3088\u308b\u901a\u4fe1\u306e\u6697\u53f7\u5316\u304c\u5225\u9014\u884c\u308f\u308c\u307e\u3059\u3002 Amazon S3 \u3067\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306a SSE \u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306f\u3001SSE-S3 \u306b\u76f8\u5f53\u3059\u308b SSE \u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u3059\u3002\u305f\u3060\u3057\u3001Amazon S3 \u306e SSE-S3 \u3068\u53b3\u5bc6\u306b\u306f\u7570\u306a\u308b\u305f\u3081\u3001\u540c\u3058 API \u3092\u7528\u3044\u305f\u64cd\u4f5c\u306f\u3067\u304d\u307e\u305b\u3093\u3002\u307e\u305f\u3001SSE-C \u3068 SSE-KMS \u3082ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306f\u5229\u7528\u3067\u304d\u307e\u305b\u3093\u3002 SSE\u306e\u7a2e\u985e \u8aac\u660e SSE-S3 \u30b9\u30c8\u30ec\u30fc\u30b8\u5074\u3067\u7ba1\u7406\u3055\u308c\u305f\u9375\u3092\u7528\u3044\u3066\u6697\u53f7\u5316 SSE-C \u30e6\u30fc\u30b6\u30fc\u304c\u30ea\u30af\u30a8\u30b9\u30c8\u306b\u542b\u3081\u305f\u9375\u3092\u7528\u3044\u3066\u6697\u53f7\u5316 SSE-KMS Key Management Service \u306b\u767b\u9332\u3055\u308c\u305f\u9375\u3092\u7528\u3044\u3066\u6697\u53f7\u5316 \u4e00\u65b9\u3001ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3067\u306fCSE\u306e\u5229\u7528\u306f\u53ef\u80fd\u3067\u3059\u3002\u305f\u3060\u3057\u3001ABCI\u3067\u306fKMS(Key Management Service)\u3092\u63d0\u4f9b\u3057\u3066\u3044\u307e\u305b\u3093\u306e\u3067\u3001\u3054\u6ce8\u610f\u304f\u3060\u3055\u3044\u3002 CSE\u306e\u8aac\u660e\u306f\u3001 Protecting Data Using Client-Side Encryption \u306a\u3069\u3092\u3054\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 CSE\u306e\u7a2e\u985e \u8aac\u660e CSE-C \u30e6\u30fc\u30b6\u30fc\u304c\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u5074\u3067\u7ba1\u7406\u3057\u3066\u3044\u308b\u9375\u3092\u7528\u3044\u3066\u6697\u53f7\u5316 CSE-KMS Key Management Service \u306b\u767b\u9332\u3055\u308c\u305f\u9375\u3092\u7528\u3044\u3066\u6697\u53f7\u5316","title":"\u6697\u53f7\u5316\u6a5f\u80fd\u306e\u6982\u8981"},{"location":"abci-cloudstorage/encryption/#_3","text":"SSE \u3092\u6709\u52b9\u306b\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u308b\u306b\u306f\u3001aws\u30b3\u30de\u30f3\u30c9\u3067\u306f\u306a\u304f\u3001ABCI\u74b0\u5883\u306b\u7528\u610f\u3055\u308c\u3066\u3044\u308b create-encrypted-bucket \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001'dataset-s0001' \u3068\u3044\u3046\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u308b\u5834\u5408\u306f\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ create - encrypted - bucket --endpoint-url https://s3.abci.ai s3://dataset-s0001 create - encrypted - bucket Success . Note \u30b9\u30c8\u30ec\u30fc\u30b8\u5074\u304c\u4fdd\u6301\u3059\u308b\u9375\u3092\u7528\u3044\u3066\u3001\u30b5\u30fc\u30d0\u30fc\u4e0a\u3067\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u4fdd\u5b58\u3059\u308b\u6642\u306b\u6697\u53f7\u5316\uff08\u8aad\u307f\u51fa\u3059\u6642\u306b\u306f\u5fa9\u53f7\u5316\uff09\u3059\u308b\u3082\u306e\u3067\u3001\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306a\u3069\u9001\u4fe1\u30ea\u30af\u30a8\u30b9\u30c8\u56fa\u6709\u306e\u60c5\u5831\u3067\u6697\u53f7\u5316\u3059\u308b\u3082\u306e\u3067\u306f\u3042\u308a\u307e\u305b\u3093\u3002 Note \u6697\u53f7\u5316\u3092\u6709\u52b9\u306b\u3057\u3066\u3044\u306a\u3044\u30d0\u30b1\u30c3\u30c8\u306b\u5bfe\u3057\u3066\u3001\u5f8c\u304b\u3089\u6697\u53f7\u5316\u3092\u6709\u52b9\u306b\u3059\u308b\u65b9\u6cd5\u306f\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\u3002","title":"\u6697\u53f7\u5316\u3092\u6709\u52b9\u306b\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210"},{"location":"abci-cloudstorage/encryption/#_4","text":"SSE\u3092\u6709\u52b9\u306b\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u304b\u3069\u3046\u304b\u3092\u5224\u5225\u3059\u308b\u306b\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3059\u308b\u5fc5\u8981\u304c\u3042\u308b\u305f\u3081\u3001\u7a7a\u306e\u30d0\u30b1\u30c3\u30c8\u3067\u306f\u78ba\u8a8d\u3067\u304d\u307e\u305b\u3093\u3002\u7a7a\u306e\u5834\u5408\u306f\u3001\u306a\u306b\u304b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30921\u3064\u4f5c\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u78ba\u8a8d\u306f aws s3api head-object \u3067\u884c\u3044\u307e\u3059\u3002 \u4ee5\u4e0b\u3067\u306f\u3001dataset-s0001 \u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3057\u305f cat.jpg \u3068\u3044\u3046\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u3092\u78ba\u8a8d\u3057\u3066\u3044\u307e\u3059\u3002 \"ServerSideEncryption\": \"AES256\" \u3068\u3044\u3046\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3044\u308b\u305f\u3081\u3001dataset-s0001 \u306f\u6697\u53f7\u5316\u3092\u6709\u52b9\u306b\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u3067\u3042\u308b\u3068\u3044\u3048\u307e\u3059\u3002\u3053\u306e\u60c5\u5831\u304c\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001\u6697\u53f7\u5316\u304c\u6709\u52b9\u3067\u306a\u3044\u30d0\u30b1\u30c3\u30c8\u3067\u3042\u308b\u3053\u3068\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3api head-object --bucket dataset-s0001 --key cat.jpg { \"LastModified\" : \"Tue, 30 Jul 2019 09:34:18 GMT\" , \"ContentLength\" : 1048576 , \"ETag\" : \"\\\" c951191fe4fa27c0d054a8456c6c20d1 \\ \"\" , \"ServerSideEncryption\" : \"AES256\" , \"Metadata\" : {} }","title":"\u6697\u53f7\u5316\u3092\u6709\u52b9\u306b\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u304b\u3069\u3046\u304b\u306e\u5224\u5225"},{"location":"abci-cloudstorage/policy/","text":"\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff08\uff12\uff09- \u30dd\u30ea\u30b7\u30fc\u306b\u3088\u308b\u5236\u5fa1 \u30d0\u30b1\u30c3\u30c8\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8a2d\u5b9a\u3059\u308bACL\u3068\u306f\u5225\u306b\u3001\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u3059\u308b\u300c\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u30dd\u30ea\u30b7\u30fc\u300d\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001ACL\u3067\u306f\u8a2d\u5b9a\u3067\u304d\u306a\u3044\u3088\u3046\u306a\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u304c\u53ef\u80fd\u3067\u3059\u3002\u305f\u3060\u3057\u3001\u8a2d\u5b9a\u306b\u306f\u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5fc5\u8981\u3067\u3059\u3002\u6a29\u9650\u304c\u306a\u3044\u5834\u5408\u306f\u3001\u6240\u5c5e\u30b0\u30eb\u30fc\u30d7\u306e\u5229\u7528\u7ba1\u7406\u8005\u7b49\u3001\u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3064\u8005\u306b\u8a2d\u5b9a\u3001\u3042\u308b\u3044\u306f\u6a29\u9650\u306e\u4ed8\u4e0e\u3092\u4f9d\u983c\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Note \u30d0\u30b1\u30c3\u30c8\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u306f\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081\u3001\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u5168\u3066\u306b\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u30b1\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u30d0\u30b1\u30c3\u30c8\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306bACL\u304c\u7279\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u3001\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u30c7\u30fc\u30bf\u306b\u30d5\u30eb\u30a2\u30af\u30bb\u30b9\uff08\u8aad\u307f\u66f8\u304d\u4e21\u65b9\uff09\u3067\u304d\u308b\u8a2d\u5b9a\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u4f7f\u3046\u5834\u5408\u306b\u306f\u3001\u4ee5\u964d\u306b\u8aac\u660e\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u306e\u8ffd\u52a0\u8a2d\u5b9a\u3092\u884c\u3046\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u7279\u5b9a\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8aad\u307f\u53d6\u308a\u3057\u304b\u3067\u304d\u306a\u3044\u3088\u3046\u3059\u308b\u3001\u3042\u308b\u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u306e\u306f\u4e00\u90e8\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3060\u3051\u306b\u3059\u308b\u306a\u3069\u3001\u7d30\u304b\u3044\u5236\u5fa1\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u306f\u3001\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30dd\u30ea\u30b7\u30fc\u306e\u8a2d\u5b9a \u307e\u305a\u6700\u521d\u306b\u3001\u5171\u901a\u306e\u6ce8\u610f\u70b9\u3092\u6319\u3052\u307e\u3059\u3002 \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f https://s3.abci.ai \u3067\u3059\u3002 \u9806\u756a\u306b\u95a2\u4fc2\u306a\u304f\u3001Deny\u30eb\u30fc\u30eb\u304cAllow\u30eb\u30fc\u30eb\u3088\u308a\u3082\u512a\u5148\u3055\u308c\u307e\u3059\u3002\u540c\u4e00\u30dd\u30ea\u30b7\u30fc\u5185\u3067\u306a\u304f\u3068\u3082\u3001\u5225\u306e\u30dd\u30ea\u30b7\u30fc\u306bDeny\u30eb\u30fc\u30eb\u304c\u3042\u308c\u3070\u305d\u308c\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002 \u30dd\u30ea\u30b7\u30fc\u306e\u540d\u524d(--policy-name\u306b\u6307\u5b9a\u3059\u308b\u540d\u524d)\u306f\u3001\u5927\u6587\u5b57\u3092\u7528\u3044\u3066\u3082\u30a8\u30e9\u30fc\u306b\u306f\u306a\u308a\u307e\u305b\u3093\u304c\u3001\u554f\u984c\u306b\u306a\u308b\u30b1\u30fc\u30b9\u304c\u3042\u308b\u305f\u3081\u3001\u5c0f\u6587\u5b57\u82f1\u5b57\u3068\u6570\u5b57\u3001\u304a\u3088\u3073\u30cf\u30a4\u30d5\u30f3(0x2d)\u3067\u69cb\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30dd\u30ea\u30b7\u30fc\u306e\u8a2d\u5b9a\u3067\u306f\u3001JSON\u5f62\u5f0f\u3067\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u306e\u5b9a\u7fa9\u3092\u66f8\u304d\u307e\u3059\u3002Effect, Action, Resource, Condition \u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u308a\u3001\u4f55\u3092\u8a31\u53ef\u3059\u308b\u304b\u3001\u4f55\u3092\u62d2\u5426\u3059\u308b\u304b\u3001\u3069\u306e\u3088\u3046\u306a\u6761\u4ef6\u3067\u5224\u5b9a\u3059\u308b\u304b\u306a\u3069\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002 Effect \u306b\u306f\u3001\"Allow\" \u307e\u305f\u306f \"Deny\" \u304c\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u8a31\u53ef\u3059\u308b\u30eb\u30fc\u30eb\u306a\u306e\u304b\u3001\u62d2\u5426\u3059\u308b\u30eb\u30fc\u30eb\u306a\u306e\u304b\u3092\u8a18\u3057\u307e\u3059\u3002 Action \u306b\u306f\u3001\u3069\u306e\u3088\u3046\u306a\u30ea\u30af\u30a8\u30b9\u30c8(\u52d5\u4f5c)\u306b\u5bfe\u3059\u308b\u5236\u9650\u306a\u306e\u304b\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306b\u3064\u3044\u3066\u306f\u3001s3:GetObject \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 ( s3:* ) \u3092\u4f7f\u3046\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4e00\u89a7\uff1a \u30d0\u30b1\u30c3\u30c8 \u30a2\u30af\u30b7\u30e7\u30f3 \u8aac\u660e s3:CreateBucket \u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210 s3:DeleteBucket \u30d0\u30b1\u30c3\u30c8\u306e\u524a\u9664 s3:ListBucket \u30d0\u30b1\u30c3\u30c8\u306e\u4e00\u89a7\u3092\u8868\u793a s3:PutBucketACL \u30d0\u30b1\u30c3\u30c8\u306bACL\u3092\u9069\u7528 s3:GetBucketACL \u30d0\u30b1\u30c3\u30c8\u306b\u8a2d\u5b9a\u3055\u308c\u305fACL\u306e\u4e00\u89a7\u3092\u53d6\u5f97 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u30a2\u30af\u30b7\u30e7\u30f3 \u8aac\u660e s3:GetObject \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 s3:PutObject \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 s3:DeleteObject \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u524a\u9664 s3:GetObjectACL \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8a2d\u5b9a\u3055\u308c\u305fACL\u3092\u53d6\u5f97 s3:PutObjectACL \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306bACL\u3092\u9069\u7528 s3:HeadObject \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u306e\u53d6\u5f97 s3:CopyObject \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30d4\u30fc Resource \u306b\u306f\u3001\u30a2\u30af\u30bb\u30b9\u5bfe\u8c61\u3068\u306a\u308b\u30ea\u30bd\u30fc\u30b9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 arn:aws:s3:::sensor8 \u306f\u3001sensor8 \u3068\u3044\u3046\u540d\u524d\u306e\u30d0\u30b1\u30c3\u30c8\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u4e2d\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001 arn:aws:s3:::sensor8/test.dat \u306e\u3088\u3046\u306b\u8a18\u3057\u307e\u3059\u3002\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 ( * ) \u3082\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 Condition \u306b\u306f\u3001\u6761\u4ef6\u6f14\u7b97\u5b50\u3068\u6761\u4ef6\u30ad\u30fc\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002 \u6761\u4ef6\u6f14\u7b97\u5b50 \u8aac\u660e StringEquals \u6307\u5b9a\u3057\u305f\u6587\u5b57\u5217\u3068\u5b8c\u5168\u4e00\u81f4\u3059\u308b\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u5217\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002 StringNotEquals \u6307\u5b9a\u3057\u305f\u6587\u5b57\u5217\u306b\u4e00\u81f4\u3057\u306a\u3044\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u5217\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059 \u3002 StringLike \u6307\u5b9a\u3057\u305f\u30d1\u30bf\u30fc\u30f3\u306b\u4e00\u81f4\u3059\u308b\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u5217\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002\u8907\u6570\u6587\u5b57\u4e00\u81f4\u306e\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 (*) \u3068 1 \u6587\u5b57\u4e00\u81f4\u306e\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 (?) \u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 StringNotLike \u6307\u5b9a\u3057\u305f\u30d1\u30bf\u30fc\u30f3\u306b\u4e00\u81f4\u3057\u306a\u3044\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u5217\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002\u8907\u6570\u6587\u5b57\u4e00\u81f4\u306e\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 (*) \u3068 1 \u6587\u5b57\u4e00\u81f4\u306e\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 (?) \u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 DateLessThan \u6307\u5b9a\u3057\u305f\u65e5\u6642\u3088\u308a\u3082\u524d\u3067\u3042\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308b\u65e5\u4ed8\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002\u65e5\u4ed8\u306f \"2019-09-27T01:30:00Z\" \u306e\u3088\u3046\u306a\u5f62\u5f0f\u3067\u8a18\u8ff0\u3057\u307e\u3059\u3002 DateGreaterThan \u6307\u5b9a\u3057\u305f\u65e5\u6642\u3088\u308a\u3082\u5f8c\u3067\u3042\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308b\u65e5\u4ed8\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002\u65e5\u4ed8\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f DateLessThan \u3068\u540c\u3058\u3067\u3059\u3002 IpAddress \u6307\u5b9a\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u4e00\u81f4\u3059\u308b\u3001\u307e\u305f\u306f\u6307\u5b9a\u306e\u30a2\u30c9\u30ec\u30b9\u30ec\u30f3\u30b8\u306e\u7bc4\u56f2\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002 NotIpAddress \u6307\u5b9a\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u4e00\u81f4\u3057\u306a\u3044\u3001\u307e\u305f\u306f\u6307\u5b9a\u306e\u30a2\u30c9\u30ec\u30b9\u30ec\u30f3\u30b8\u306e\u7bc4\u56f2\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002 \u6761\u4ef6\u30ad\u30fc \u8aac\u660e aws:username \u4f8b\u3048\u3070 aaa00000.1 \u306e\u3088\u3046\u306a\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3067\u3059\u3002\u6587\u5b57\u5217\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002 aws:SourceIp \u63a5\u7d9a\u5143IP\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002IP\u30a2\u30c9\u30ec\u30b9\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002 aws:CurrentTime \u73fe\u5728\u306e\u65e5\u6642\u3067\u3059\u3002\u65e5\u4ed8\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002 aws:UserAgent HTTP\u30d8\u30c3\u30c0\u306eUser-Agent\u3067\u3059\u3002\u6587\u5b57\u5217\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\u507d\u88c5\u304c\u53ef\u80fd\u306a\u305f\u3081\u30a2\u30af\u30bb\u30b9\u306e\u7981\u6b62\u306a\u3069\u306b\u306f\u9069\u3057\u307e\u305b\u3093\u304c\u3001\u4f8b\u3048\u3070\u3001\u7279\u5b9a\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5411\u3051\u306b\u7528\u610f\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u3078\u306e\u8aa4\u3063\u305f\u30a2\u30af\u30bb\u30b9\u3092\u9632\u6b62\u3059\u308b\u5bfe\u7b56\u306a\u3069\u306b\u4f7f\u3046\u3053\u3068\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002 \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u4f8b\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Condition\u8981\u7d20\u306f\u3001\u5fc5\u8981\u306a\u3051\u308c\u3070\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002 { \"Version\" : \"2012-10-17\" , \"Statement\" : [ { \"Effect\" : \"Deny\" , \"Action\" : \"s3:*\" , \"Resource\" : \"*\" , \"Condition\" : { \"StringLike\" : { \"aws:UserAgent\" : \"aws-cli*\" }} } ] } \u4ee5\u964d\u3067\u306f\u3044\u304f\u3064\u304b\u4f8b\u3092\u6319\u3052\u3066\u3001\u30dd\u30ea\u30b7\u30fc\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u4f8b1\uff1a\u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u9650\u5b9a\u3059\u308b \u30b0\u30eb\u30fc\u30d7\u5185\u306b aaa00000.1\u3001aaa00001.1\u3001aaa00002.1\u3001aaa00003.1 \u3068\u3044\u30464\u4eba\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u3089\u308c\u3066\u304a\u308a\u3001sensor8 \u3068\u3044\u3046\u30d0\u30b1\u30c3\u30c8\u304c\u3042\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\u4eca\u56de\u3001\u305d\u3053\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30e6\u30fc\u30b6\u30fc\u3092\u3001aaa00000.1 \u3068 aaa00001.1 \u306e 2\u4eba\u306b\u9650\u5b9a\u3059\u308b\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u5185\u5bb9\u306e sensor8.json \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u8aac\u660e\u4e0a\u3001sensor8.json \u3068\u3057\u307e\u3059\u304c\u3001\u4efb\u610f\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 { \"Version\" : \"2012-10-17\" , \"Statement\" : [ { \"Effect\" : \"Deny\" , \"Action\" : \"s3:*\" , \"Resource\" : [ \"arn:aws:s3:::sensor8\" , \"arn:aws:s3:::sensor8/*\" ], \"Condition\" : { \"StringNotEquals\" : { \"aws:username\" : [ \"aaa00002.1\" , \"aaa00003.1\" ] }} } ] } \u4e0a\u8a18\u3067\u306f aaa00002.1 \u3068 aaa00003.1 \u304c sensor8 \u306b\u30a2\u30af\u30bb\u30b9\u3092\u7981\u6b62\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002 Deny\u30eb\u30fc\u30eb\u304c\u512a\u5148\u3055\u308c\u308b\u305f\u3081\u3001\u4ed6\u306e\u30dd\u30ea\u30b7\u30fc\u3067 aaa00002.1 \u3068 aaa00003.1 \u306b\u5bfe\u3057\u3066 Allow\u30eb\u30fc\u30eb\u304c\u9069\u7528\u3055\u308c\u3066\u3044\u305f\u3068\u3057\u3066\u3082\u3001\u672c\u30dd\u30ea\u30b7\u30fc\u3092\u9069\u7528\u3059\u308b\u3053\u3068\u3067\u30a2\u30af\u30bb\u30b9\u3092\u7981\u6b62\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u672c\u30dd\u30ea\u30b7\u30fc\u3092\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u767b\u9332\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai iam create-policy --policy-name sensor8policy --policy-document file://sensor8.json { \"Policy\" : { \"PolicyName\" : \"sensor8policy\" , \"CreateDate\" : \"2019-07-30T06:22:47Z\" , \"AttachmentCount\" : 0 , \"IsAttachable\" : true , \"PolicyId\" : \"51OFYS8BQEFTP68KT4I63AAZYHNBPHHA\" , \"DefaultVersionId\" : \"v1\" , \"Path\" : \"/\" , \"Arn\" : \"arn:aws:iam::123456789012:policy/sensor8policy\" , \"UpdateDate\" : \"2019-07-30T06:22:47Z\" } } \u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e sensor8.json \u306e\u5185\u5bb9\u3092 sensor8policy \u3068\u3044\u3046\u540d\u524d\u3067\u767b\u9332\u3057\u3066\u3044\u307e\u3059\u3002 Arn \u306e\u5024\u306f\u3001\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3078\u306e\u9069\u7528\u6642\u306b\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u63a7\u3048\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002 \u672c\u30dd\u30ea\u30b7\u30fc\u3092\u5236\u9650\u3057\u305f\u3044\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3001\u3059\u306a\u308f\u3061 aaa00002.1 \u3068 aaa00003.1 \u306b\u9069\u7528\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai iam attach-user-policy --policy-arn arn:aws:iam::123456789012:policy/sensor8policy --user-name aaa00002.1 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai iam attach-user-policy --policy-arn arn:aws:iam::123456789012:policy/sensor8policy --user-name aaa00003.1 --policy-arn \u306b\u6307\u5b9a\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u306eARN\u306f\u3001\u30dd\u30ea\u30b7\u30fc\u3092\u767b\u9332\u3057\u305f\u6642\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001 aws --endpoint-url https://s3.abci.ai iam list-policies \u3092\u5b9f\u884c\u3057\u3066\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u4e0a\u8a18\u306e\u767b\u9332\u306b\u3088\u308a aaa00002.1 \u3068 aaa00003.1 \u306f\u3001sensor8 \u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002aaa00000.1 \u3068 aaa00001.1 \u306f\u3001\u3053\u308c\u307e\u3067\u901a\u308a\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002 \u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u9069\u7528\u3055\u308c\u305f\u30dd\u30ea\u30b7\u30fc\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\u306f\u3001 aws --endpoint-url https://s3.abci.ai iam list-attached-user-policies --user-name aaa00002.1 \u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u4f8b2\uff1a\u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30db\u30b9\u30c8\u3092\u9650\u5b9a\u3059\u308b \u63a5\u7d9a\u5143IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\u3092\u884c\u3046\u4f8b\u3068\u3057\u3066\u3001ABCI\u5185\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af(10.0.0.0/17)\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3068\u5916\u90e8\u30db\u30b9\u30c8 203.0.113.2 \u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u306e\u3069\u3061\u3089\u3067\u3082\u306a\u3044\u5834\u5408\u306b\u3001\u30a2\u30af\u30bb\u30b9\u3092\u62d2\u5426\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3046\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u5185\u5bb9\u306e\u30dd\u30ea\u30b7\u30fc\u3092\u5b9a\u7fa9\u3057\u305f src-ip-pc.json \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 { \"Version\" : \"2012-10-17\" , \"Statement\" : [ { \"Effect\" : \"Deny\" , \"Action\" : \"s3:*\" , \"Resource\" : \"*\" , \"Condition\" : { \"NotIpAddress\" : { \"aws:SourceIp\" : [ \"10.0.0.0/17\" , \"203.0.113.2/32\" ] } } } ] } \u3053\u306e\u30dd\u30ea\u30b7\u30fc\u3092\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u767b\u9332\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai iam create-policy --policy-name src-ip-pc --policy-document file://src-ip-pc.json { \"Policy\" : { \"PolicyName\" : \"src-ip-pc\" , \"CreateDate\" : \"2019-08-08T13:24:54Z\" , \"AttachmentCount\" : 0 , \"IsAttachable\" : true , \"PolicyId\" : \"K9B9SFWR0JL4GSY8Z1K2441VJERSC2Q7\" , \"DefaultVersionId\" : \"v1\" , \"Path\" : \"/\" , \"Arn\" : \"arn:aws:iam::123456789012:policy/src-ip-pc\" , \"UpdateDate\" : \"2019-08-08T13:24:54Z\" } } \u6b21\u306b\u3001\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u5404\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u672c\u30dd\u30ea\u30b7\u30fc\u3092\u9069\u7528\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8 aaa00004.1 \u306b\u30dd\u30ea\u30b7\u30fc\u3092\u9069\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u30dd\u30ea\u30b7\u30fc\u306eARN\u306f\u3001\u30dd\u30ea\u30b7\u30fc\u3092\u767b\u9332\u3057\u305f\u6642\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001aws --endpoint-url https://s3.abci.ai iam list-policies \u3092\u5b9f\u884c\u3057\u3066\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai iam attach-user-policy --policy-arn arn:aws:iam::123456789012:policy/src-ip-pc --user-name aaa00004.1 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u63a5\u7d9a\u5143IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u5236\u9650\u304c\u306a\u3044\u305f\u3081\u3001\u672c\u30dd\u30ea\u30b7\u30fc\u3092\u9069\u7528\u3057\u3066\u3044\u306a\u3044\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u63a5\u7d9a\u5143\u306e\u5236\u9650\u306a\u304f\u30a2\u30af\u30bb\u30b9\u304c\u3067\u304d\u308b\u72b6\u614b\u3067\u3059\u3002\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u30ea\u30b9\u30c8\u3059\u308b\u306b\u306f\u3001 aws --endpoint-url https://s3.abci.ai iam list-users \u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff082\uff09"},{"location":"abci-cloudstorage/policy/#2-","text":"\u30d0\u30b1\u30c3\u30c8\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8a2d\u5b9a\u3059\u308bACL\u3068\u306f\u5225\u306b\u3001\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u5bfe\u3059\u308b\u300c\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u30dd\u30ea\u30b7\u30fc\u300d\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002\u3053\u308c\u306b\u3088\u308a\u3001ACL\u3067\u306f\u8a2d\u5b9a\u3067\u304d\u306a\u3044\u3088\u3046\u306a\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u304c\u53ef\u80fd\u3067\u3059\u3002\u305f\u3060\u3057\u3001\u8a2d\u5b9a\u306b\u306f\u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u5fc5\u8981\u3067\u3059\u3002\u6a29\u9650\u304c\u306a\u3044\u5834\u5408\u306f\u3001\u6240\u5c5e\u30b0\u30eb\u30fc\u30d7\u306e\u5229\u7528\u7ba1\u7406\u8005\u7b49\u3001\u7ba1\u7406\u8005\u7528\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6301\u3064\u8005\u306b\u8a2d\u5b9a\u3001\u3042\u308b\u3044\u306f\u6a29\u9650\u306e\u4ed8\u4e0e\u3092\u4f9d\u983c\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Note \u30d0\u30b1\u30c3\u30c8\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u306f\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3067\u304d\u307e\u305b\u3093\u3002\u305d\u306e\u305f\u3081\u3001\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u5168\u3066\u306b\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3057\u306a\u3051\u308c\u3070\u306a\u3089\u306a\u3044\u30b1\u30fc\u30b9\u304c\u3042\u308a\u307e\u3059\u3002","title":"\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\uff08\uff12\uff09- \u30dd\u30ea\u30b7\u30fc\u306b\u3088\u308b\u5236\u5fa1"},{"location":"abci-cloudstorage/policy/#_1","text":"\u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u30d0\u30b1\u30c3\u30c8\u3084\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306bACL\u304c\u7279\u306b\u8a2d\u5b9a\u3055\u308c\u3066\u3044\u306a\u3051\u308c\u3070\u3001\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u30c7\u30fc\u30bf\u306b\u30d5\u30eb\u30a2\u30af\u30bb\u30b9\uff08\u8aad\u307f\u66f8\u304d\u4e21\u65b9\uff09\u3067\u304d\u308b\u8a2d\u5b9a\u3068\u306a\u3063\u3066\u3044\u307e\u3059\u3002 \u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u307e\u307e\u4f7f\u3046\u5834\u5408\u306b\u306f\u3001\u4ee5\u964d\u306b\u8aac\u660e\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u306e\u8ffd\u52a0\u8a2d\u5b9a\u3092\u884c\u3046\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002\u7279\u5b9a\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u8aad\u307f\u53d6\u308a\u3057\u304b\u3067\u304d\u306a\u3044\u3088\u3046\u3059\u308b\u3001\u3042\u308b\u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u306e\u306f\u4e00\u90e8\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3060\u3051\u306b\u3059\u308b\u306a\u3069\u3001\u7d30\u304b\u3044\u5236\u5fa1\u304c\u5fc5\u8981\u306a\u5834\u5408\u306b\u306f\u3001\u4ee5\u4e0b\u3092\u53c2\u8003\u306b\u30dd\u30ea\u30b7\u30fc\u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30c7\u30d5\u30a9\u30eb\u30c8\u306e\u30a2\u30af\u30bb\u30b9\u8a31\u53ef"},{"location":"abci-cloudstorage/policy/#_2","text":"\u307e\u305a\u6700\u521d\u306b\u3001\u5171\u901a\u306e\u6ce8\u610f\u70b9\u3092\u6319\u3052\u307e\u3059\u3002 \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8\u306f https://s3.abci.ai \u3067\u3059\u3002 \u9806\u756a\u306b\u95a2\u4fc2\u306a\u304f\u3001Deny\u30eb\u30fc\u30eb\u304cAllow\u30eb\u30fc\u30eb\u3088\u308a\u3082\u512a\u5148\u3055\u308c\u307e\u3059\u3002\u540c\u4e00\u30dd\u30ea\u30b7\u30fc\u5185\u3067\u306a\u304f\u3068\u3082\u3001\u5225\u306e\u30dd\u30ea\u30b7\u30fc\u306bDeny\u30eb\u30fc\u30eb\u304c\u3042\u308c\u3070\u305d\u308c\u304c\u512a\u5148\u3055\u308c\u307e\u3059\u3002 \u30dd\u30ea\u30b7\u30fc\u306e\u540d\u524d(--policy-name\u306b\u6307\u5b9a\u3059\u308b\u540d\u524d)\u306f\u3001\u5927\u6587\u5b57\u3092\u7528\u3044\u3066\u3082\u30a8\u30e9\u30fc\u306b\u306f\u306a\u308a\u307e\u305b\u3093\u304c\u3001\u554f\u984c\u306b\u306a\u308b\u30b1\u30fc\u30b9\u304c\u3042\u308b\u305f\u3081\u3001\u5c0f\u6587\u5b57\u82f1\u5b57\u3068\u6570\u5b57\u3001\u304a\u3088\u3073\u30cf\u30a4\u30d5\u30f3(0x2d)\u3067\u69cb\u6210\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30dd\u30ea\u30b7\u30fc\u306e\u8a2d\u5b9a\u3067\u306f\u3001JSON\u5f62\u5f0f\u3067\u30a2\u30af\u30bb\u30b9\u8a31\u53ef\u306e\u5b9a\u7fa9\u3092\u66f8\u304d\u307e\u3059\u3002Effect, Action, Resource, Condition \u306e\u7d44\u307f\u5408\u308f\u305b\u306b\u3088\u308a\u3001\u4f55\u3092\u8a31\u53ef\u3059\u308b\u304b\u3001\u4f55\u3092\u62d2\u5426\u3059\u308b\u304b\u3001\u3069\u306e\u3088\u3046\u306a\u6761\u4ef6\u3067\u5224\u5b9a\u3059\u308b\u304b\u306a\u3069\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002 Effect \u306b\u306f\u3001\"Allow\" \u307e\u305f\u306f \"Deny\" \u304c\u8a2d\u5b9a\u3067\u304d\u307e\u3059\u3002\u8a31\u53ef\u3059\u308b\u30eb\u30fc\u30eb\u306a\u306e\u304b\u3001\u62d2\u5426\u3059\u308b\u30eb\u30fc\u30eb\u306a\u306e\u304b\u3092\u8a18\u3057\u307e\u3059\u3002 Action \u306b\u306f\u3001\u3069\u306e\u3088\u3046\u306a\u30ea\u30af\u30a8\u30b9\u30c8(\u52d5\u4f5c)\u306b\u5bfe\u3059\u308b\u5236\u9650\u306a\u306e\u304b\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u306b\u3064\u3044\u3066\u306f\u3001s3:GetObject \u3092\u6307\u5b9a\u3057\u307e\u3059\u3002\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 ( s3:* ) \u3092\u4f7f\u3046\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u30a2\u30af\u30b7\u30e7\u30f3\u306e\u4e00\u89a7\uff1a \u30d0\u30b1\u30c3\u30c8 \u30a2\u30af\u30b7\u30e7\u30f3 \u8aac\u660e s3:CreateBucket \u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210 s3:DeleteBucket \u30d0\u30b1\u30c3\u30c8\u306e\u524a\u9664 s3:ListBucket \u30d0\u30b1\u30c3\u30c8\u306e\u4e00\u89a7\u3092\u8868\u793a s3:PutBucketACL \u30d0\u30b1\u30c3\u30c8\u306bACL\u3092\u9069\u7528 s3:GetBucketACL \u30d0\u30b1\u30c3\u30c8\u306b\u8a2d\u5b9a\u3055\u308c\u305fACL\u306e\u4e00\u89a7\u3092\u53d6\u5f97 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8 \u30a2\u30af\u30b7\u30e7\u30f3 \u8aac\u660e s3:GetObject \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 s3:PutObject \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9 s3:DeleteObject \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u524a\u9664 s3:GetObjectACL \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306b\u8a2d\u5b9a\u3055\u308c\u305fACL\u3092\u53d6\u5f97 s3:PutObjectACL \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306bACL\u3092\u9069\u7528 s3:HeadObject \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30e1\u30bf\u30c7\u30fc\u30bf\u306e\u53d6\u5f97 s3:CopyObject \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30b3\u30d4\u30fc Resource \u306b\u306f\u3001\u30a2\u30af\u30bb\u30b9\u5bfe\u8c61\u3068\u306a\u308b\u30ea\u30bd\u30fc\u30b9\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 arn:aws:s3:::sensor8 \u306f\u3001sensor8 \u3068\u3044\u3046\u540d\u524d\u306e\u30d0\u30b1\u30c3\u30c8\u3092\u793a\u3057\u3066\u3044\u307e\u3059\u3002\u305d\u306e\u4e2d\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u3001 arn:aws:s3:::sensor8/test.dat \u306e\u3088\u3046\u306b\u8a18\u3057\u307e\u3059\u3002\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 ( * ) \u3082\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 Condition \u306b\u306f\u3001\u6761\u4ef6\u6f14\u7b97\u5b50\u3068\u6761\u4ef6\u30ad\u30fc\u3092\u8a18\u8ff0\u3057\u307e\u3059\u3002 \u6761\u4ef6\u6f14\u7b97\u5b50 \u8aac\u660e StringEquals \u6307\u5b9a\u3057\u305f\u6587\u5b57\u5217\u3068\u5b8c\u5168\u4e00\u81f4\u3059\u308b\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u5217\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002 StringNotEquals \u6307\u5b9a\u3057\u305f\u6587\u5b57\u5217\u306b\u4e00\u81f4\u3057\u306a\u3044\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u5217\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059 \u3002 StringLike \u6307\u5b9a\u3057\u305f\u30d1\u30bf\u30fc\u30f3\u306b\u4e00\u81f4\u3059\u308b\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u5217\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002\u8907\u6570\u6587\u5b57\u4e00\u81f4\u306e\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 (*) \u3068 1 \u6587\u5b57\u4e00\u81f4\u306e\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 (?) \u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 StringNotLike \u6307\u5b9a\u3057\u305f\u30d1\u30bf\u30fc\u30f3\u306b\u4e00\u81f4\u3057\u306a\u3044\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308b\u6587\u5b57\u5217\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002\u8907\u6570\u6587\u5b57\u4e00\u81f4\u306e\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 (*) \u3068 1 \u6587\u5b57\u4e00\u81f4\u306e\u30ef\u30a4\u30eb\u30c9\u30ab\u30fc\u30c9 (?) \u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 DateLessThan \u6307\u5b9a\u3057\u305f\u65e5\u6642\u3088\u308a\u3082\u524d\u3067\u3042\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308b\u65e5\u4ed8\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002\u65e5\u4ed8\u306f \"2019-09-27T01:30:00Z\" \u306e\u3088\u3046\u306a\u5f62\u5f0f\u3067\u8a18\u8ff0\u3057\u307e\u3059\u3002 DateGreaterThan \u6307\u5b9a\u3057\u305f\u65e5\u6642\u3088\u308a\u3082\u5f8c\u3067\u3042\u308b\u304b\u30c1\u30a7\u30c3\u30af\u3059\u308b\u65e5\u4ed8\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002\u65e5\u4ed8\u306e\u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306f DateLessThan \u3068\u540c\u3058\u3067\u3059\u3002 IpAddress \u6307\u5b9a\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u4e00\u81f4\u3059\u308b\u3001\u307e\u305f\u306f\u6307\u5b9a\u306e\u30a2\u30c9\u30ec\u30b9\u30ec\u30f3\u30b8\u306e\u7bc4\u56f2\u306b\u542b\u307e\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002 NotIpAddress \u6307\u5b9a\u306eIP\u30a2\u30c9\u30ec\u30b9\u306b\u4e00\u81f4\u3057\u306a\u3044\u3001\u307e\u305f\u306f\u6307\u5b9a\u306e\u30a2\u30c9\u30ec\u30b9\u30ec\u30f3\u30b8\u306e\u7bc4\u56f2\u306b\u542b\u307e\u308c\u3066\u3044\u306a\u3044\u3053\u3068\u3092\u30c1\u30a7\u30c3\u30af\u3059\u308bIP\u30a2\u30c9\u30ec\u30b9\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u3059\u3002 \u6761\u4ef6\u30ad\u30fc \u8aac\u660e aws:username \u4f8b\u3048\u3070 aaa00000.1 \u306e\u3088\u3046\u306a\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u540d\u3067\u3059\u3002\u6587\u5b57\u5217\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002 aws:SourceIp \u63a5\u7d9a\u5143IP\u30a2\u30c9\u30ec\u30b9\u3067\u3059\u3002IP\u30a2\u30c9\u30ec\u30b9\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002 aws:CurrentTime \u73fe\u5728\u306e\u65e5\u6642\u3067\u3059\u3002\u65e5\u4ed8\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002 aws:UserAgent HTTP\u30d8\u30c3\u30c0\u306eUser-Agent\u3067\u3059\u3002\u6587\u5b57\u5217\u6761\u4ef6\u6f14\u7b97\u5b50\u3067\u30c1\u30a7\u30c3\u30af\u3057\u307e\u3059\u3002\u507d\u88c5\u304c\u53ef\u80fd\u306a\u305f\u3081\u30a2\u30af\u30bb\u30b9\u306e\u7981\u6b62\u306a\u3069\u306b\u306f\u9069\u3057\u307e\u305b\u3093\u304c\u3001\u4f8b\u3048\u3070\u3001\u7279\u5b9a\u306e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u5411\u3051\u306b\u7528\u610f\u3057\u305f\u30d0\u30b1\u30c3\u30c8\u3078\u306e\u8aa4\u3063\u305f\u30a2\u30af\u30bb\u30b9\u3092\u9632\u6b62\u3059\u308b\u5bfe\u7b56\u306a\u3069\u306b\u4f7f\u3046\u3053\u3068\u304c\u8003\u3048\u3089\u308c\u307e\u3059\u3002 \u30d5\u30a9\u30fc\u30de\u30c3\u30c8\u306b\u3064\u3044\u3066\u306f\u3001\u4ee5\u4e0b\u306e\u4f8b\u3092\u53c2\u8003\u306b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Condition\u8981\u7d20\u306f\u3001\u5fc5\u8981\u306a\u3051\u308c\u3070\u7701\u7565\u53ef\u80fd\u3067\u3059\u3002 { \"Version\" : \"2012-10-17\" , \"Statement\" : [ { \"Effect\" : \"Deny\" , \"Action\" : \"s3:*\" , \"Resource\" : \"*\" , \"Condition\" : { \"StringLike\" : { \"aws:UserAgent\" : \"aws-cli*\" }} } ] } \u4ee5\u964d\u3067\u306f\u3044\u304f\u3064\u304b\u4f8b\u3092\u6319\u3052\u3066\u3001\u30dd\u30ea\u30b7\u30fc\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u5fa1\u306e\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u30dd\u30ea\u30b7\u30fc\u306e\u8a2d\u5b9a"},{"location":"abci-cloudstorage/policy/#1","text":"\u30b0\u30eb\u30fc\u30d7\u5185\u306b aaa00000.1\u3001aaa00001.1\u3001aaa00002.1\u3001aaa00003.1 \u3068\u3044\u30464\u4eba\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u4f5c\u3089\u308c\u3066\u304a\u308a\u3001sensor8 \u3068\u3044\u3046\u30d0\u30b1\u30c3\u30c8\u304c\u3042\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002\u4eca\u56de\u3001\u305d\u3053\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30e6\u30fc\u30b6\u30fc\u3092\u3001aaa00000.1 \u3068 aaa00001.1 \u306e 2\u4eba\u306b\u9650\u5b9a\u3059\u308b\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u5185\u5bb9\u306e sensor8.json \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u8aac\u660e\u4e0a\u3001sensor8.json \u3068\u3057\u307e\u3059\u304c\u3001\u4efb\u610f\u306e\u30d5\u30a1\u30a4\u30eb\u540d\u3092\u4f7f\u3046\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 { \"Version\" : \"2012-10-17\" , \"Statement\" : [ { \"Effect\" : \"Deny\" , \"Action\" : \"s3:*\" , \"Resource\" : [ \"arn:aws:s3:::sensor8\" , \"arn:aws:s3:::sensor8/*\" ], \"Condition\" : { \"StringNotEquals\" : { \"aws:username\" : [ \"aaa00002.1\" , \"aaa00003.1\" ] }} } ] } \u4e0a\u8a18\u3067\u306f aaa00002.1 \u3068 aaa00003.1 \u304c sensor8 \u306b\u30a2\u30af\u30bb\u30b9\u3092\u7981\u6b62\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u3092\u5b9a\u7fa9\u3057\u3066\u3044\u307e\u3059\u3002 Deny\u30eb\u30fc\u30eb\u304c\u512a\u5148\u3055\u308c\u308b\u305f\u3081\u3001\u4ed6\u306e\u30dd\u30ea\u30b7\u30fc\u3067 aaa00002.1 \u3068 aaa00003.1 \u306b\u5bfe\u3057\u3066 Allow\u30eb\u30fc\u30eb\u304c\u9069\u7528\u3055\u308c\u3066\u3044\u305f\u3068\u3057\u3066\u3082\u3001\u672c\u30dd\u30ea\u30b7\u30fc\u3092\u9069\u7528\u3059\u308b\u3053\u3068\u3067\u30a2\u30af\u30bb\u30b9\u3092\u7981\u6b62\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u672c\u30dd\u30ea\u30b7\u30fc\u3092\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u767b\u9332\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai iam create-policy --policy-name sensor8policy --policy-document file://sensor8.json { \"Policy\" : { \"PolicyName\" : \"sensor8policy\" , \"CreateDate\" : \"2019-07-30T06:22:47Z\" , \"AttachmentCount\" : 0 , \"IsAttachable\" : true , \"PolicyId\" : \"51OFYS8BQEFTP68KT4I63AAZYHNBPHHA\" , \"DefaultVersionId\" : \"v1\" , \"Path\" : \"/\" , \"Arn\" : \"arn:aws:iam::123456789012:policy/sensor8policy\" , \"UpdateDate\" : \"2019-07-30T06:22:47Z\" } } \u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e sensor8.json \u306e\u5185\u5bb9\u3092 sensor8policy \u3068\u3044\u3046\u540d\u524d\u3067\u767b\u9332\u3057\u3066\u3044\u307e\u3059\u3002 Arn \u306e\u5024\u306f\u3001\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3078\u306e\u9069\u7528\u6642\u306b\u5fc5\u8981\u306b\u306a\u308b\u306e\u3067\u3001\u63a7\u3048\u3066\u304a\u3044\u3066\u304f\u3060\u3055\u3044\u3002 \u672c\u30dd\u30ea\u30b7\u30fc\u3092\u5236\u9650\u3057\u305f\u3044\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3001\u3059\u306a\u308f\u3061 aaa00002.1 \u3068 aaa00003.1 \u306b\u9069\u7528\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai iam attach-user-policy --policy-arn arn:aws:iam::123456789012:policy/sensor8policy --user-name aaa00002.1 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai iam attach-user-policy --policy-arn arn:aws:iam::123456789012:policy/sensor8policy --user-name aaa00003.1 --policy-arn \u306b\u6307\u5b9a\u3059\u308b\u30dd\u30ea\u30b7\u30fc\u306eARN\u306f\u3001\u30dd\u30ea\u30b7\u30fc\u3092\u767b\u9332\u3057\u305f\u6642\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001 aws --endpoint-url https://s3.abci.ai iam list-policies \u3092\u5b9f\u884c\u3057\u3066\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 \u4e0a\u8a18\u306e\u767b\u9332\u306b\u3088\u308a aaa00002.1 \u3068 aaa00003.1 \u306f\u3001sensor8 \u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u306a\u304f\u306a\u308a\u307e\u3057\u305f\u3002aaa00000.1 \u3068 aaa00001.1 \u306f\u3001\u3053\u308c\u307e\u3067\u901a\u308a\u30a2\u30af\u30bb\u30b9\u3067\u304d\u307e\u3059\u3002 \u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u9069\u7528\u3055\u308c\u305f\u30dd\u30ea\u30b7\u30fc\u3092\u78ba\u8a8d\u3059\u308b\u5834\u5408\u306f\u3001 aws --endpoint-url https://s3.abci.ai iam list-attached-user-policies --user-name aaa00002.1 \u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u4f8b1\uff1a\u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u9650\u5b9a\u3059\u308b"},{"location":"abci-cloudstorage/policy/#2","text":"\u63a5\u7d9a\u5143IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u30a2\u30af\u30bb\u30b9\u5236\u9650\u3092\u884c\u3046\u4f8b\u3068\u3057\u3066\u3001ABCI\u5185\u90e8\u30cd\u30c3\u30c8\u30ef\u30fc\u30af(10.0.0.0/17)\u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u3068\u5916\u90e8\u30db\u30b9\u30c8 203.0.113.2 \u304b\u3089\u306e\u30a2\u30af\u30bb\u30b9\u306e\u3069\u3061\u3089\u3067\u3082\u306a\u3044\u5834\u5408\u306b\u3001\u30a2\u30af\u30bb\u30b9\u3092\u62d2\u5426\u3059\u308b\u8a2d\u5b9a\u3092\u884c\u3046\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u4ee5\u4e0b\u306e\u5185\u5bb9\u306e\u30dd\u30ea\u30b7\u30fc\u3092\u5b9a\u7fa9\u3057\u305f src-ip-pc.json \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 { \"Version\" : \"2012-10-17\" , \"Statement\" : [ { \"Effect\" : \"Deny\" , \"Action\" : \"s3:*\" , \"Resource\" : \"*\" , \"Condition\" : { \"NotIpAddress\" : { \"aws:SourceIp\" : [ \"10.0.0.0/17\" , \"203.0.113.2/32\" ] } } } ] } \u3053\u306e\u30dd\u30ea\u30b7\u30fc\u3092\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306b\u767b\u9332\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai iam create-policy --policy-name src-ip-pc --policy-document file://src-ip-pc.json { \"Policy\" : { \"PolicyName\" : \"src-ip-pc\" , \"CreateDate\" : \"2019-08-08T13:24:54Z\" , \"AttachmentCount\" : 0 , \"IsAttachable\" : true , \"PolicyId\" : \"K9B9SFWR0JL4GSY8Z1K2441VJERSC2Q7\" , \"DefaultVersionId\" : \"v1\" , \"Path\" : \"/\" , \"Arn\" : \"arn:aws:iam::123456789012:policy/src-ip-pc\" , \"UpdateDate\" : \"2019-08-08T13:24:54Z\" } } \u6b21\u306b\u3001\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u5404\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u306b\u672c\u30dd\u30ea\u30b7\u30fc\u3092\u9069\u7528\u3057\u3066\u3044\u304d\u307e\u3059\u3002\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8 aaa00004.1 \u306b\u30dd\u30ea\u30b7\u30fc\u3092\u9069\u7528\u3057\u3066\u3044\u307e\u3059\u3002\u30dd\u30ea\u30b7\u30fc\u306eARN\u306f\u3001\u30dd\u30ea\u30b7\u30fc\u3092\u767b\u9332\u3057\u305f\u6642\u306b\u51fa\u529b\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001aws --endpoint-url https://s3.abci.ai iam list-policies \u3092\u5b9f\u884c\u3057\u3066\u78ba\u8a8d\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai iam attach-user-policy --policy-arn arn:aws:iam::123456789012:policy/src-ip-pc --user-name aaa00004.1 \u30c7\u30d5\u30a9\u30eb\u30c8\u3067\u306f\u3001\u63a5\u7d9a\u5143IP\u30a2\u30c9\u30ec\u30b9\u306b\u3088\u308b\u5236\u9650\u304c\u306a\u3044\u305f\u3081\u3001\u672c\u30dd\u30ea\u30b7\u30fc\u3092\u9069\u7528\u3057\u3066\u3044\u306a\u3044\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u63a5\u7d9a\u5143\u306e\u5236\u9650\u306a\u304f\u30a2\u30af\u30bb\u30b9\u304c\u3067\u304d\u308b\u72b6\u614b\u3067\u3059\u3002\u30b0\u30eb\u30fc\u30d7\u5185\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u30ea\u30b9\u30c8\u3059\u308b\u306b\u306f\u3001 aws --endpoint-url https://s3.abci.ai iam list-users \u3092\u5b9f\u884c\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u4f8b2\uff1a\u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30af\u30bb\u30b9\u3067\u304d\u308b\u30db\u30b9\u30c8\u3092\u9650\u5b9a\u3059\u308b"},{"location":"abci-cloudstorage/usage/","text":"ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u4f7f\u3044\u65b9 \u3053\u3053\u3067\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c4\u30fc\u30eb\u3068\u3057\u3066 AWS Command Line Interface (\u4ee5\u964d\u3001AWS CLI) \u3092\u7528\u3044\u305f\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u57fa\u672c\u64cd\u4f5c\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9 ABCI\u3067\u306f\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u3082\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u3082AWS CLI\u3092\u5229\u7528\u3067\u304d\u307e\u3059\u3002\u5229\u7528\u306b\u969b\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@es1 ~ ] $ module load aws - cli ABCI\u4ee5\u5916\uff08\u624b\u5143\u306ePC\u7b49\uff09\u3067\u306f\u3001 \u3053\u3061\u3089 \u3088\u308aAWS CLI\u3092\u53d6\u5f97\u3057\u3001\u66f8\u304b\u308c\u3066\u3044\u308b\u624b\u9806\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u8a8d\u8a3c\u60c5\u5831\u306a\u3069\u306e\u8a2d\u5b9a ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306f\u3001ABCI\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u306f\u5225\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7528\u3044\u307e\u3059\u3002\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u8907\u6570\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u308c\u305e\u308c\u306b\u30a2\u30af\u30bb\u30b9\u30ad\u30fc(\u30a2\u30af\u30bb\u30b9\u30ad\u30fc ID \u3068\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306e\u30da\u30a2)\u304c\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\u8907\u6570\u306eABCI\u30b0\u30eb\u30fc\u30d7\u306b\u6240\u5c5e\u3057\u3066\u304a\u308a\u3001\u305d\u308c\u305e\u308c\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u305d\u308c\u305e\u308c\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u3002\u521d\u56de\u306f\u6b21\u306e\u3088\u3046\u306b\u3001\u305d\u306e\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3092 AWS CLI \u306b\u8a2d\u5b9a\u3059\u308b\u4f5c\u696d\u304c\u5fc5\u8981\u3067\u3059\u3002region name \u306b\u306f\u3001 us-east-1 \u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@es1 ~ ] $ aws configure AWS Access Key ID [ None ] : ACCESS - KEY - ID AWS Secret Access Key [ None ] : SECRET - ACCESS - KEY Default region name [ None ] : us - east - 1 Default output format [ None ] : ( \u5165\u529b\u4e0d\u8981 ) \u8907\u6570\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6240\u6301\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001--profile \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u4f7f\u3044\u5206\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8 aaa00000.2 \u3092\u5225\u306b\u767b\u9332\u3059\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws configure --profile aaa00000.2 AWS Access Key ID [ None ] : aaa00000 .2 's ACCESS-KEY-ID AWS Secret Access Key [None]: aaa00000.2' s SECRET - ACCESS - KEY Default region name [ None ] : us - east - 1 Default output format [ None ] : ( \u5165\u529b\u4e0d\u8981 ) \u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8 aaa00000.2 \u3067 aws \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u304d\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b --profile \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --profile aaa00000.2 --endpoint-url https://s3.abci.ai s3api list-buckets \u8a2d\u5b9a\u306f\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(~/.aws)\u306b\u4fdd\u5b58\u3055\u308c\u308b\u305f\u3081\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u8a2d\u5b9a\u3057\u3066\u3044\u308c\u3070\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u6539\u3081\u3066\u884c\u3046\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306e\u518d\u767a\u884c\u3084\u524a\u9664\u306f\u3001ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb\u304b\u3089\u884c\u3044\u307e\u3059\u3002 \u5404\u7a2e\u64cd\u4f5c \u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210\u3084\u30c7\u30fc\u30bf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306a\u3069\u306e\u57fa\u672c\u64cd\u4f5c\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 \u57fa\u672c\u4e8b\u9805 \u5404\u7a2e\u64cd\u4f5c\u3092\u884c\u3046\u306b\u3042\u305f\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u57fa\u672c\u4e8b\u9805\u3092\u7406\u89e3\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 AWS CLI \u306e\u69cb\u6587\u306f aws [ options ] < command > < subcommand > [ parameters ] \u306e\u3088\u3046\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u4f8b\u3048\u3070 aws --endpoint-url https://s3.abci.ai s3 ls \u306f\u3001s3 \u304c <command> \u3067\u3001ls \u306f <subcommand> (s3 \u30b3\u30de\u30f3\u30c9\u306e ls \u30b3\u30de\u30f3\u30c9\u3001\u3042\u308b\u3044\u306f s3 ls \u30b3\u30de\u30f3\u30c9)\u3067\u3059\u3002 s3 \u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30d1\u30b9\u3092 S3 URI \u3067\u8868\u3057\u307e\u3059\u3002 \u4f8b\u3048\u3070 s3 : // bucket - 1 / project - 1 / docs / fig1 . png \u3067\u306f\u3001 bucket-1 \u304c\u30d0\u30b1\u30c3\u30c8\u540d\u3001 project-1/docs/fig1.png \u304c\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ad\u30fc\uff08\u307e\u305f\u306f\u30ad\u30fc\u540d)\u3067\u3059\u3002 project-1/docs/ \u306e\u90e8\u5206\u306f\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3068\u547c\u3070\u308c\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ad\u30fc\u3092\u7591\u4f3c\u968e\u5c64\u7684\u306b\uff08\u3044\u308f\u3086\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u304a\u3051\u308b \"\u30d5\u30a9\u30eb\u30c0\" \u306e\u4e0b\u306b\u5165\u3063\u3066\u3044\u308b\u304b\u306e\u3088\u3046\u306b\uff09\u8868\u73fe\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002 \u30d0\u30b1\u30c3\u30c8\u540d\u306f\u4ee5\u4e0b\u306e\u898f\u7d04\u304c\u3042\u308a\u307e\u3059\u3002 \u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u5168\u4f53\u3067\u4e00\u610f\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 3\uff5e63\u6587\u5b57\u3067\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 '_'(\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2)\u3092\u542b\u3081\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093 \u5148\u982d\u306f\u5c0f\u6587\u5b57\u306e\u82f1\u6570\u5b57\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 IP\u30a2\u30c9\u30ec\u30b9(\u4f8b\u3048\u3070192.168.0.1)\u306e\u3088\u3046\u306a\u5f62\u5f0f\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093 '.'(\u30d4\u30ea\u30aa\u30c9)\u306f\u554f\u984c\u306b\u306a\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u4f7f\u7528\u3057\u306a\u3044\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ad\u30fc\u306b\u306f\u3001UTF-8 \u6587\u5b57\u3082\u4f7f\u3046\u3053\u3068\u306f\u3067\u304d\u307e\u3059\u304c\u3001\u30a2\u30b9\u30ad\u30fc\u30b3\u30fc\u30c9\u306e\u7bc4\u56f2\u3067\u3042\u3063\u3066\u3082\u3001\u907f\u3051\u305f\u65b9\u304c\u826f\u3044\u7279\u6b8a\u6587\u5b57\u304c\u3042\u308a\u307e\u3059\u3002 - (\u30cf\u30a4\u30d5\u30f3\u30de\u30a4\u30ca\u30b9)\u3001 _ (\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2)\u3001 . (\u30c9\u30c3\u30c8)\u306f\u554f\u984c\u306a\u304f\u6271\u3048\u307e\u3059 ! * ' ( ) (\u30a8\u30af\u30b9\u30af\u30e9\u30e1\u30fc\u30b7\u30e7\u30f3\u30de\u30fc\u30af\u3001\u30a2\u30b9\u30bf\u30ea\u30b9\u30af\u3001\u30a2\u30dd\u30b9\u30c8\u30ed\u30d5\u30a3(0x27)\u3001\u5de6\u62ec\u5f27\u3001\u53f3\u62ec\u5f27)\u3001\u3053\u308c\u30895\u3064\u306f\u3001\u4f8b\u3048\u3070\u30b7\u30a7\u30eb\u306b\u304a\u3044\u3066\u306f\u30a8\u30b9\u30b1\u30fc\u30d7\u3057\u305f\u308a\u30af\u30a9\u30fc\u30c8\u3059\u308b\u306a\u3069\u6b63\u3057\u304f\u6271\u3063\u3066\u3044\u308b\u306a\u3089\u3070\u3001\u554f\u984c\u3042\u308a\u307e\u305b\u3093 \u4e0a\u8a18\u4ee5\u5916\u306e\u7279\u6b8a\u6587\u5b57(\u4f8b\u3048\u3070 < \u3084 # \u306a\u3069)\u306f\u3001\u907f\u3051\u305f\u65b9\u304c\u5b89\u5168\u3067\u3059\u3002 \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8(--endpoint-url)\u306b\u306f\u3001 https://s3.abci.ai \u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210 s3 mb \u30b3\u30de\u30f3\u30c9\u3067\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u4f8b\u3068\u3057\u3066\u3001'dataset-summer-2012' \u3068\u3044\u3046\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b aws \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 mb s3://dataset-summer-2012 make_bucket : dataset - summer - 2012 \u30d0\u30b1\u30c3\u30c8\u306e\u4e00\u89a7\u8868\u793a \u6240\u5c5e\u3059\u308bABCI\u30b0\u30eb\u30fc\u30d7\u5185\u3067\u4f5c\u6210\u3055\u308c\u305f\u30d0\u30b1\u30c3\u30c8\u306e\u4e00\u89a7\u3092\u30ea\u30b9\u30c8\u3059\u308b\u306b\u306f\u3001 aws --endpoint-url https://s3.abci.ai s3 ls \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \u5b9f\u884c\u4f8b [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls 2019 - 06 - 15 10 : 47 : 37 testbucket1 2019 - 06 - 15 18 : 10 : 37 testbucket2 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ea\u30b9\u30c8 \u30d0\u30b1\u30c3\u30c8\u5165\u3063\u3066\u3044\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30ea\u30b9\u30c8\u3059\u308b\u306b\u306f\u3001 aws --endpoint-url https://s3.abci.ai s3 ls s3://bucket-name \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls s3://mybucket PRE pics / 2019 - 07 - 05 17 : 33 : 05 4 test1 . txt 2019 - 07 - 05 21 : 12 : 47 4 test2 . txt \u4f8b\u3048\u3070 pics/ \u3068\u3044\u3046\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u6301\u3064\u30c7\u30fc\u30bf\u3092\u30ea\u30b9\u30c8\u3059\u308b\u306b\u306f\u3001\u30d0\u30b1\u30c3\u30c8\u540d\u306e\u5f8c\u308d\u306b\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u3064\u3051\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls s3://mybucket/pics/ 2019 - 07 - 29 21 : 55 : 57 1048576 test3 . png 2019 - 07 - 29 21 : 55 : 59 1048576 test4 . png --recursive \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3044\u3001\u30d0\u30b1\u30c3\u30c8\u5185\u306e\u5168\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30ea\u30b9\u30c8\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls s3://mybucket --recursive 2019 - 07 - 05 17 : 33 : 05 4 test1 . txt 2019 - 07 - 05 21 : 12 : 47 4 test2 . txt 2019 - 07 - 29 21 : 55 : 57 1048576 pics / test3 . png 2019 - 07 - 29 21 : 55 : 59 1048576 pics / test4 . png \u30c7\u30fc\u30bf\u306e\u30b3\u30d4\u30fc(\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001\u30b3\u30d4\u30fc) \u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u304b\u3089ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30d0\u30b1\u30c3\u30c8\u3078\u3001\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30d0\u30b1\u30c3\u30c8\u304b\u3089\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u3078\u3001\u307e\u305f\u306fABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30d0\u30b1\u30c3\u30c8\u304b\u3089ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30d0\u30b1\u30c3\u30c8\u3078\u30c7\u30fc\u30bf\u3092\u30b3\u30d4\u30fc\u3067\u304d\u307e\u3059\u3002 0001.jpg \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092 dataset-c0541 \u30d0\u30b1\u30c3\u30c8\u306b\u30b3\u30d4\u30fc [ username@es1 ~ ] $ ls images 0001. jpg 0002. jpg 0003. jpg 0004. jpg [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 cp ./images/0001.jpg s3://dataset-c0541/ upload : images / 0001. jpg to s3 : // dataset - c0541 / 0001. jpg [ username@es1 ~ ] $ images \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\u3092 dataset-c0542 \u30d0\u30b1\u30c3\u30c8\u306b\u30b3\u30d4\u30fc [ username@es1 ~ ] $ ls images 0001. jpg 0002. jpg 0003. jpg 0004. jpg [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 cp images s3://dataset-c0542/ --recursive upload : images / 0001. jpg to s3 : // dataset - c0542 / 0001. jpg upload : images / 0002. jpg to s3 : // dataset - c0542 / 0002. jpg upload : images / 0003. jpg to s3 : // dataset - c0542 / 0003. jpg upload : images / 0004. jpg to s3 : // dataset - c0542 / 0004. jpg [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls s3://dataet-c0542/ 2019 - 06 - 10 19 : 03 : 19 1048576 0001. jpg 2019 - 06 - 10 19 : 03 : 19 1048576 0002. jpg 2019 - 06 - 10 19 : 03 : 19 1048576 0003. jpg 2019 - 06 - 10 19 : 03 : 19 1048576 0004. jpg [ username@es1 ~ ] $ dataset-tmpl-c0000 \u30d0\u30b1\u30c3\u30c8\u304b\u3089 dataset-c0541 \u30d0\u30b1\u30c3\u30c8\u3078 logo.png \u3092\u30b3\u30d4\u30fc [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 cp s3://dataset-tmpl-c0000/logo.png s3://dataset-c0541/logo.png copy : s3 : // dataset - tmpl - c0000 / logo . png to s3 : // dataset - c0541 / logo . png \u30c7\u30fc\u30bf\u306e\u79fb\u52d5 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u79fb\u52d5\u3059\u308b\u306b\u306f aws mv \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30d0\u30b1\u30c3\u30c8\u9593\u306e\u79fb\u52d5\u306e\u4ed6\u3001\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u30d0\u30b1\u30c3\u30c8\u3001\u30d0\u30b1\u30c3\u30c8\u304b\u3089\u30ed\u30fc\u30ab\u30eb\u3078\u79fb\u52d5\u3092\u884c\u3048\u307e\u3059\u3002 \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306f\u4fdd\u6301\u3055\u308c\u307e\u305b\u3093\u3002 --recursive \u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u4ed8\u4e0e\u3067\u7279\u5b9a\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3001 \u307e\u305f\u306f\u7279\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5165\u3063\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u5bfe\u8c61\u3068\u3057\u3066\u6271\u3048\u307e\u3059\u3002 \u6b21\u306e\u4f8b\u3067\u306f\u3001\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b annotations.zip \u3092\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e dataset-c0541 \u30d0\u30b1\u30c3\u30c8\u306b\u79fb\u52d5\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 mv annotations.zip s3://dataset-c0541/ move : . / annotations . zip to s3 : // dataset - c0541 / annotations . zip \u6b21\u306e\u4f8b\u306f\u3001dataset-c0541 \u30d0\u30b1\u30c3\u30c8\u306e sensor-1 \u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u3082\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u307e\u3068\u3081\u3066 dataset-c0542 \u30d0\u30b1\u30c3\u30c8\u306b\u79fb\u52d5\u3055\u305b\u3066\u3044\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 mv s3://dataset-c0541/sensor-1/ s3://dataset-c0542/sensor-1/ --recursive move : s3 : // dataset - c0541 / sensor - 1 / 0001. dat to s3 : // dataset - c0542 / sensor - 1 / 0001. dat move : s3 : // dataset - c0541 / sensor - 1 / 0003. dat to s3 : // dataset - c0542 / sensor - 1 / 0003. dat move : s3 : // dataset - c0541 / sensor - 1 / 0004. dat to s3 : // dataset - c0542 / sensor - 1 / 0004. dat move : s3 : // dataset - c0541 / sensor - 1 / 0002. dat to s3 : // dataset - c0542 / sensor - 1 / 0002. dat \u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u540c\u671f \u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b sensor2 \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068 mybucket \u3068\u3044\u3046\u30d0\u30b1\u30c3\u30c8\u3092\u540c\u671f\u3055\u305b\u3066\u3044\u307e\u3059\u3002--delete \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u3066\u3044\u306a\u3051\u308c\u3070\u30d0\u30b1\u30c3\u30c8\u306b\u3042\u3063\u305f\u65e2\u5b58\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u524a\u9664\u3055\u308c\u307e\u305b\u3093\u304c\u3001\u540c\u540d\u306e\u3082\u306e\u306f\u4e0a\u66f8\u304d\u3055\u308c\u307e\u3059\u3002\u6b21\u306b\u540c\u3058\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u66f4\u65b0\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u9001\u308a\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 sync ./sensor2 s3://mybucket/ upload : sensor2 / 0002. dat to s3 : // mybucket / 0002. dat upload : sensor2 / 0004. dat to s3 : // mybucket / 0004. dat upload : sensor2 / 0001. dat to s3 : // mybucket / 0001. dat upload : sensor2 / 0003. dat to s3 : // mybucket / 0003. dat sensor3 \u30d0\u30b1\u30c3\u30c8\u306e rev1 \u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u3082\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092 testdata \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u540c\u671f\u3059\u308b\u4f8b\u3067\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 sync s3://sensor3/rev1/ testdata download : s3 : // sensor3 / rev1 / 0001. zip to testdata / 0001. zip download : s3 : // sensor3 / rev1 / 0004. zip to testdata / 0004. zip download : s3 : // sensor3 / rev1 / 0003. zip to testdata / 0003. zip download : s3 : // sensor3 / rev1 / 0002. zip to testdata / 0002. zip Note \u6b21\u56de\u306b\u3053\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3092\u5b9f\u884c\u3057\u305f\u969b\u3001\u30d0\u30b1\u30c3\u30c8\u306b\u5165\u3063\u3066\u3044\u308b\u30c7\u30fc\u30bf\u304c\u66f4\u65b0\u3055\u308c\u3066\u3044\u3066\u3082\u3001\u30b5\u30a4\u30ba\u304c\u5168\u304f\u540c\u3058\u5834\u5408\u306f\u518d\u53d6\u5f97\u306e\u5bfe\u8c61\u3068\u306a\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u5834\u5408\u3001--exact-timestamps \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3053\u3068\u3067\u5bfe\u8c61\u3068\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001ABCI\u74b0\u5883\u306e\u5834\u5408\u306f\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u3059\u3079\u3066\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u518d\u53d6\u5f97\u306e\u5bfe\u8c61\u3068\u306a\u308a\u307e\u3059\u3002 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u524a\u9664 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u524a\u9664\u306f aws s3 rm <S3Uri> [parameters] \u3067\u884c\u3044\u307e\u3059\u3002 \u5b9f\u884c\u4f8b [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 rm s3://mybucket/readme.txt delete : s3 : // mybucket / readme . txt --recursive \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u6307\u5b9a\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u4ee5\u4e0b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u524a\u9664\u3067\u304d\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls s3://mybucket --recursive 2019 - 07 - 30 20 : 46 : 53 32 a . txt 2019 - 07 - 30 20 : 46 : 53 32 b . txt 2019 - 07 - 31 14 : 51 : 50 512 xml / c . xml 2019 - 07 - 31 14 : 51 : 54 512 xml / d . xml [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 rm s3://mybucket/xml --recursive delete : s3 : // mybucket / xml / c . xml delete : s3 : // mybucket / xml / d . xml [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls s3://mybucket --recursive 2019 - 07 - 30 20 : 46 : 53 32 a . txt 2019 - 07 - 30 20 : 46 : 53 32 b . txt \u30d0\u30b1\u30c3\u30c8\u306e\u524a\u9664 dataset-c0541 \u30d0\u30b1\u30c3\u30c8\u3092\u524a\u9664\u3059\u308b\u4f8b\u3067\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 rb s3://dataset-c0541 remove_bucket : dataset - c0541 \u7a7a\u3067\u306a\u3044\u30d0\u30b1\u30c3\u30c8\u3092\u524a\u9664\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u8fd4\u3055\u308c\u307e\u3059\u304c\u3001\u4e2d\u8eab\u3082\u5168\u90e8\u6d88\u3057\u3066\u3057\u307e\u3063\u3066\u826f\u3051\u308c\u3070 --force \u3092\u3064\u3051\u308b\u3068\u4e2d\u8eab\u3092\u6d88\u3057\u305f\u4e0a\u3067\u30d0\u30b1\u30c3\u30c8\u3092\u524a\u9664\u3057\u3066\u304f\u308c\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai rb s3://dataset-c0542 --force delete : s3 : // dataset - c0542 / 0001. jpg delete : s3 : // dataset - c0542 / 0002. jpg delete : s3 : // dataset - c0542 / 0003. jpg delete : s3 : // dataset - c0542 / 0004. jpg remove_bucket : dataset - c0542","title":"\u4f7f\u3044\u65b9"},{"location":"abci-cloudstorage/usage/#abci","text":"\u3053\u3053\u3067\u306f\u3001\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u30c4\u30fc\u30eb\u3068\u3057\u3066 AWS Command Line Interface (\u4ee5\u964d\u3001AWS CLI) \u3092\u7528\u3044\u305f\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u57fa\u672c\u64cd\u4f5c\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u4f7f\u3044\u65b9"},{"location":"abci-cloudstorage/usage/#_1","text":"ABCI\u3067\u306f\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u3082\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u3082AWS CLI\u3092\u5229\u7528\u3067\u304d\u307e\u3059\u3002\u5229\u7528\u306b\u969b\u3057\u3066\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u3092\u30ed\u30fc\u30c9\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@es1 ~ ] $ module load aws - cli ABCI\u4ee5\u5916\uff08\u624b\u5143\u306ePC\u7b49\uff09\u3067\u306f\u3001 \u3053\u3061\u3089 \u3088\u308aAWS CLI\u3092\u53d6\u5f97\u3057\u3001\u66f8\u304b\u308c\u3066\u3044\u308b\u624b\u9806\u306b\u5f93\u3063\u3066\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u30ed\u30fc\u30c9"},{"location":"abci-cloudstorage/usage/#_2","text":"ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3078\u306e\u30a2\u30af\u30bb\u30b9\u306f\u3001ABCI\u30a2\u30ab\u30a6\u30f3\u30c8\u3068\u306f\u5225\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u7528\u3044\u307e\u3059\u3002\u30a2\u30ab\u30a6\u30f3\u30c8\u306f\u8907\u6570\u6301\u3064\u3053\u3068\u304c\u3067\u304d\u3001\u305d\u308c\u305e\u308c\u306b\u30a2\u30af\u30bb\u30b9\u30ad\u30fc(\u30a2\u30af\u30bb\u30b9\u30ad\u30fc ID \u3068\u30b7\u30fc\u30af\u30ec\u30c3\u30c8\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306e\u30da\u30a2)\u304c\u5bfe\u5fdc\u3057\u3066\u3044\u307e\u3059\u3002\u8907\u6570\u306eABCI\u30b0\u30eb\u30fc\u30d7\u306b\u6240\u5c5e\u3057\u3066\u304a\u308a\u3001\u305d\u308c\u305e\u308c\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u3092\u5229\u7528\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u305d\u308c\u305e\u308c\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u304c\u767a\u884c\u3055\u308c\u307e\u3059\u3002\u521d\u56de\u306f\u6b21\u306e\u3088\u3046\u306b\u3001\u305d\u306e\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3092 AWS CLI \u306b\u8a2d\u5b9a\u3059\u308b\u4f5c\u696d\u304c\u5fc5\u8981\u3067\u3059\u3002region name \u306b\u306f\u3001 us-east-1 \u3092\u8a2d\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [ username@es1 ~ ] $ aws configure AWS Access Key ID [ None ] : ACCESS - KEY - ID AWS Secret Access Key [ None ] : SECRET - ACCESS - KEY Default region name [ None ] : us - east - 1 Default output format [ None ] : ( \u5165\u529b\u4e0d\u8981 ) \u8907\u6570\u306e\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8\u3092\u6240\u6301\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001--profile \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u7528\u3059\u308b\u3053\u3068\u3067\u4f7f\u3044\u5206\u3051\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 \u4f8b\u3048\u3070\u3001\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8 aaa00000.2 \u3092\u5225\u306b\u767b\u9332\u3059\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u8a2d\u5b9a\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws configure --profile aaa00000.2 AWS Access Key ID [ None ] : aaa00000 .2 's ACCESS-KEY-ID AWS Secret Access Key [None]: aaa00000.2' s SECRET - ACCESS - KEY Default region name [ None ] : us - east - 1 Default output format [ None ] : ( \u5165\u529b\u4e0d\u8981 ) \u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u30a2\u30ab\u30a6\u30f3\u30c8 aaa00000.2 \u3067 aws \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3068\u304d\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b --profile \u30aa\u30d7\u30b7\u30e7\u30f3\u3067\u6307\u5b9a\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --profile aaa00000.2 --endpoint-url https://s3.abci.ai s3api list-buckets \u8a2d\u5b9a\u306f\u30db\u30fc\u30e0\u30c7\u30a3\u30ec\u30af\u30c8\u30ea(~/.aws)\u306b\u4fdd\u5b58\u3055\u308c\u308b\u305f\u3081\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3067\u8a2d\u5b9a\u3057\u3066\u3044\u308c\u3070\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u3067\u6539\u3081\u3066\u884c\u3046\u5fc5\u8981\u306f\u3042\u308a\u307e\u305b\u3093\u3002 \u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u306e\u518d\u767a\u884c\u3084\u524a\u9664\u306f\u3001ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb\u304b\u3089\u884c\u3044\u307e\u3059\u3002","title":"\u8a8d\u8a3c\u60c5\u5831\u306a\u3069\u306e\u8a2d\u5b9a"},{"location":"abci-cloudstorage/usage/#_3","text":"\u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210\u3084\u30c7\u30fc\u30bf\u306e\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u306a\u3069\u306e\u57fa\u672c\u64cd\u4f5c\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u5404\u7a2e\u64cd\u4f5c"},{"location":"abci-cloudstorage/usage/#_4","text":"\u5404\u7a2e\u64cd\u4f5c\u3092\u884c\u3046\u306b\u3042\u305f\u3063\u3066\u3001\u4ee5\u4e0b\u306e\u57fa\u672c\u4e8b\u9805\u3092\u7406\u89e3\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 AWS CLI \u306e\u69cb\u6587\u306f aws [ options ] < command > < subcommand > [ parameters ] \u306e\u3088\u3046\u306b\u306a\u3063\u3066\u304a\u308a\u3001\u4f8b\u3048\u3070 aws --endpoint-url https://s3.abci.ai s3 ls \u306f\u3001s3 \u304c <command> \u3067\u3001ls \u306f <subcommand> (s3 \u30b3\u30de\u30f3\u30c9\u306e ls \u30b3\u30de\u30f3\u30c9\u3001\u3042\u308b\u3044\u306f s3 ls \u30b3\u30de\u30f3\u30c9)\u3067\u3059\u3002 s3 \u30b3\u30de\u30f3\u30c9\u3067\u306f\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30d1\u30b9\u3092 S3 URI \u3067\u8868\u3057\u307e\u3059\u3002 \u4f8b\u3048\u3070 s3 : // bucket - 1 / project - 1 / docs / fig1 . png \u3067\u306f\u3001 bucket-1 \u304c\u30d0\u30b1\u30c3\u30c8\u540d\u3001 project-1/docs/fig1.png \u304c\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ad\u30fc\uff08\u307e\u305f\u306f\u30ad\u30fc\u540d)\u3067\u3059\u3002 project-1/docs/ \u306e\u90e8\u5206\u306f\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3068\u547c\u3070\u308c\u3001\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ad\u30fc\u3092\u7591\u4f3c\u968e\u5c64\u7684\u306b\uff08\u3044\u308f\u3086\u308b\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u306b\u304a\u3051\u308b \"\u30d5\u30a9\u30eb\u30c0\" \u306e\u4e0b\u306b\u5165\u3063\u3066\u3044\u308b\u304b\u306e\u3088\u3046\u306b\uff09\u8868\u73fe\u3059\u308b\u305f\u3081\u306b\u4f7f\u308f\u308c\u307e\u3059\u3002 \u30d0\u30b1\u30c3\u30c8\u540d\u306f\u4ee5\u4e0b\u306e\u898f\u7d04\u304c\u3042\u308a\u307e\u3059\u3002 \u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u5168\u4f53\u3067\u4e00\u610f\u3067\u3042\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 3\uff5e63\u6587\u5b57\u3067\u5b9a\u7fa9\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 '_'(\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2)\u3092\u542b\u3081\u308b\u3053\u3068\u306f\u3067\u304d\u307e\u305b\u3093 \u5148\u982d\u306f\u5c0f\u6587\u5b57\u306e\u82f1\u6570\u5b57\u3092\u6307\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059 IP\u30a2\u30c9\u30ec\u30b9(\u4f8b\u3048\u3070192.168.0.1)\u306e\u3088\u3046\u306a\u5f62\u5f0f\u306f\u4f7f\u7528\u3067\u304d\u307e\u305b\u3093 '.'(\u30d4\u30ea\u30aa\u30c9)\u306f\u554f\u984c\u306b\u306a\u308b\u5834\u5408\u304c\u3042\u308a\u307e\u3059\u3002\u4f7f\u7528\u3057\u306a\u3044\u3053\u3068\u3092\u63a8\u5968\u3057\u307e\u3059 \u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u30ad\u30fc\u306b\u306f\u3001UTF-8 \u6587\u5b57\u3082\u4f7f\u3046\u3053\u3068\u306f\u3067\u304d\u307e\u3059\u304c\u3001\u30a2\u30b9\u30ad\u30fc\u30b3\u30fc\u30c9\u306e\u7bc4\u56f2\u3067\u3042\u3063\u3066\u3082\u3001\u907f\u3051\u305f\u65b9\u304c\u826f\u3044\u7279\u6b8a\u6587\u5b57\u304c\u3042\u308a\u307e\u3059\u3002 - (\u30cf\u30a4\u30d5\u30f3\u30de\u30a4\u30ca\u30b9)\u3001 _ (\u30a2\u30f3\u30c0\u30fc\u30b9\u30b3\u30a2)\u3001 . (\u30c9\u30c3\u30c8)\u306f\u554f\u984c\u306a\u304f\u6271\u3048\u307e\u3059 ! * ' ( ) (\u30a8\u30af\u30b9\u30af\u30e9\u30e1\u30fc\u30b7\u30e7\u30f3\u30de\u30fc\u30af\u3001\u30a2\u30b9\u30bf\u30ea\u30b9\u30af\u3001\u30a2\u30dd\u30b9\u30c8\u30ed\u30d5\u30a3(0x27)\u3001\u5de6\u62ec\u5f27\u3001\u53f3\u62ec\u5f27)\u3001\u3053\u308c\u30895\u3064\u306f\u3001\u4f8b\u3048\u3070\u30b7\u30a7\u30eb\u306b\u304a\u3044\u3066\u306f\u30a8\u30b9\u30b1\u30fc\u30d7\u3057\u305f\u308a\u30af\u30a9\u30fc\u30c8\u3059\u308b\u306a\u3069\u6b63\u3057\u304f\u6271\u3063\u3066\u3044\u308b\u306a\u3089\u3070\u3001\u554f\u984c\u3042\u308a\u307e\u305b\u3093 \u4e0a\u8a18\u4ee5\u5916\u306e\u7279\u6b8a\u6587\u5b57(\u4f8b\u3048\u3070 < \u3084 # \u306a\u3069)\u306f\u3001\u907f\u3051\u305f\u65b9\u304c\u5b89\u5168\u3067\u3059\u3002 \u30a8\u30f3\u30c9\u30dd\u30a4\u30f3\u30c8(--endpoint-url)\u306b\u306f\u3001 https://s3.abci.ai \u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u57fa\u672c\u4e8b\u9805"},{"location":"abci-cloudstorage/usage/#_5","text":"s3 mb \u30b3\u30de\u30f3\u30c9\u3067\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002 \u4f8b\u3068\u3057\u3066\u3001'dataset-summer-2012' \u3068\u3044\u3046\u30d0\u30b1\u30c3\u30c8\u3092\u4f5c\u308b\u306b\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b aws \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 mb s3://dataset-summer-2012 make_bucket : dataset - summer - 2012","title":"\u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210"},{"location":"abci-cloudstorage/usage/#_6","text":"\u6240\u5c5e\u3059\u308bABCI\u30b0\u30eb\u30fc\u30d7\u5185\u3067\u4f5c\u6210\u3055\u308c\u305f\u30d0\u30b1\u30c3\u30c8\u306e\u4e00\u89a7\u3092\u30ea\u30b9\u30c8\u3059\u308b\u306b\u306f\u3001 aws --endpoint-url https://s3.abci.ai s3 ls \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 \u5b9f\u884c\u4f8b [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls 2019 - 06 - 15 10 : 47 : 37 testbucket1 2019 - 06 - 15 18 : 10 : 37 testbucket2","title":"\u30d0\u30b1\u30c3\u30c8\u306e\u4e00\u89a7\u8868\u793a"},{"location":"abci-cloudstorage/usage/#_7","text":"\u30d0\u30b1\u30c3\u30c8\u5165\u3063\u3066\u3044\u308b\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30ea\u30b9\u30c8\u3059\u308b\u306b\u306f\u3001 aws --endpoint-url https://s3.abci.ai s3 ls s3://bucket-name \u3092\u5b9f\u884c\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls s3://mybucket PRE pics / 2019 - 07 - 05 17 : 33 : 05 4 test1 . txt 2019 - 07 - 05 21 : 12 : 47 4 test2 . txt \u4f8b\u3048\u3070 pics/ \u3068\u3044\u3046\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u6301\u3064\u30c7\u30fc\u30bf\u3092\u30ea\u30b9\u30c8\u3059\u308b\u306b\u306f\u3001\u30d0\u30b1\u30c3\u30c8\u540d\u306e\u5f8c\u308d\u306b\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u3064\u3051\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls s3://mybucket/pics/ 2019 - 07 - 29 21 : 55 : 57 1048576 test3 . png 2019 - 07 - 29 21 : 55 : 59 1048576 test4 . png --recursive \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u4f7f\u3044\u3001\u30d0\u30b1\u30c3\u30c8\u5185\u306e\u5168\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u30ea\u30b9\u30c8\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls s3://mybucket --recursive 2019 - 07 - 05 17 : 33 : 05 4 test1 . txt 2019 - 07 - 05 21 : 12 : 47 4 test2 . txt 2019 - 07 - 29 21 : 55 : 57 1048576 pics / test3 . png 2019 - 07 - 29 21 : 55 : 59 1048576 pics / test4 . png","title":"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u30ea\u30b9\u30c8"},{"location":"abci-cloudstorage/usage/#_8","text":"\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u304b\u3089ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30d0\u30b1\u30c3\u30c8\u3078\u3001\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30d0\u30b1\u30c3\u30c8\u304b\u3089\u30d5\u30a1\u30a4\u30eb\u30b7\u30b9\u30c6\u30e0\u4e0a\u3078\u3001\u307e\u305f\u306fABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30d0\u30b1\u30c3\u30c8\u304b\u3089ABCI\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e\u30d0\u30b1\u30c3\u30c8\u3078\u30c7\u30fc\u30bf\u3092\u30b3\u30d4\u30fc\u3067\u304d\u307e\u3059\u3002 0001.jpg \u3068\u3044\u3046\u30d5\u30a1\u30a4\u30eb\u3092 dataset-c0541 \u30d0\u30b1\u30c3\u30c8\u306b\u30b3\u30d4\u30fc [ username@es1 ~ ] $ ls images 0001. jpg 0002. jpg 0003. jpg 0004. jpg [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 cp ./images/0001.jpg s3://dataset-c0541/ upload : images / 0001. jpg to s3 : // dataset - c0541 / 0001. jpg [ username@es1 ~ ] $ images \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u8eab\u3092 dataset-c0542 \u30d0\u30b1\u30c3\u30c8\u306b\u30b3\u30d4\u30fc [ username@es1 ~ ] $ ls images 0001. jpg 0002. jpg 0003. jpg 0004. jpg [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 cp images s3://dataset-c0542/ --recursive upload : images / 0001. jpg to s3 : // dataset - c0542 / 0001. jpg upload : images / 0002. jpg to s3 : // dataset - c0542 / 0002. jpg upload : images / 0003. jpg to s3 : // dataset - c0542 / 0003. jpg upload : images / 0004. jpg to s3 : // dataset - c0542 / 0004. jpg [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls s3://dataet-c0542/ 2019 - 06 - 10 19 : 03 : 19 1048576 0001. jpg 2019 - 06 - 10 19 : 03 : 19 1048576 0002. jpg 2019 - 06 - 10 19 : 03 : 19 1048576 0003. jpg 2019 - 06 - 10 19 : 03 : 19 1048576 0004. jpg [ username@es1 ~ ] $ dataset-tmpl-c0000 \u30d0\u30b1\u30c3\u30c8\u304b\u3089 dataset-c0541 \u30d0\u30b1\u30c3\u30c8\u3078 logo.png \u3092\u30b3\u30d4\u30fc [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 cp s3://dataset-tmpl-c0000/logo.png s3://dataset-c0541/logo.png copy : s3 : // dataset - tmpl - c0000 / logo . png to s3 : // dataset - c0541 / logo . png","title":"\u30c7\u30fc\u30bf\u306e\u30b3\u30d4\u30fc(\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3001\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9\u3001\u30b3\u30d4\u30fc)"},{"location":"abci-cloudstorage/usage/#_9","text":"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u79fb\u52d5\u3059\u308b\u306b\u306f aws mv \u3092\u4f7f\u7528\u3057\u307e\u3059\u3002 \u30d0\u30b1\u30c3\u30c8\u9593\u306e\u79fb\u52d5\u306e\u4ed6\u3001\u30ed\u30fc\u30ab\u30eb\u304b\u3089\u30d0\u30b1\u30c3\u30c8\u3001\u30d0\u30b1\u30c3\u30c8\u304b\u3089\u30ed\u30fc\u30ab\u30eb\u3078\u79fb\u52d5\u3092\u884c\u3048\u307e\u3059\u3002 \u30bf\u30a4\u30e0\u30b9\u30bf\u30f3\u30d7\u306f\u4fdd\u6301\u3055\u308c\u307e\u305b\u3093\u3002 --recursive \u30aa\u30d7\u30b7\u30e7\u30f3\u306e\u4ed8\u4e0e\u3067\u7279\u5b9a\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u6301\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3001 \u307e\u305f\u306f\u7279\u5b9a\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u5165\u3063\u3066\u3044\u308b\u30d5\u30a1\u30a4\u30eb\u3092\u5bfe\u8c61\u3068\u3057\u3066\u6271\u3048\u307e\u3059\u3002 \u6b21\u306e\u4f8b\u3067\u306f\u3001\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b annotations.zip \u3092\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u4e0a\u306e dataset-c0541 \u30d0\u30b1\u30c3\u30c8\u306b\u79fb\u52d5\u3092\u884c\u3063\u3066\u3044\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 mv annotations.zip s3://dataset-c0541/ move : . / annotations . zip to s3 : // dataset - c0541 / annotations . zip \u6b21\u306e\u4f8b\u306f\u3001dataset-c0541 \u30d0\u30b1\u30c3\u30c8\u306e sensor-1 \u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u3082\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u307e\u3068\u3081\u3066 dataset-c0542 \u30d0\u30b1\u30c3\u30c8\u306b\u79fb\u52d5\u3055\u305b\u3066\u3044\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 mv s3://dataset-c0541/sensor-1/ s3://dataset-c0542/sensor-1/ --recursive move : s3 : // dataset - c0541 / sensor - 1 / 0001. dat to s3 : // dataset - c0542 / sensor - 1 / 0001. dat move : s3 : // dataset - c0541 / sensor - 1 / 0003. dat to s3 : // dataset - c0542 / sensor - 1 / 0003. dat move : s3 : // dataset - c0541 / sensor - 1 / 0004. dat to s3 : // dataset - c0542 / sensor - 1 / 0004. dat move : s3 : // dataset - c0541 / sensor - 1 / 0002. dat to s3 : // dataset - c0542 / sensor - 1 / 0002. dat","title":"\u30c7\u30fc\u30bf\u306e\u79fb\u52d5"},{"location":"abci-cloudstorage/usage/#_10","text":"\u4ee5\u4e0b\u306e\u4f8b\u3067\u306f\u3001\u30ab\u30ec\u30f3\u30c8\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u3042\u308b sensor2 \u3068\u3044\u3046\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068 mybucket \u3068\u3044\u3046\u30d0\u30b1\u30c3\u30c8\u3092\u540c\u671f\u3055\u305b\u3066\u3044\u307e\u3059\u3002--delete \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u3066\u3044\u306a\u3051\u308c\u3070\u30d0\u30b1\u30c3\u30c8\u306b\u3042\u3063\u305f\u65e2\u5b58\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306f\u524a\u9664\u3055\u308c\u307e\u305b\u3093\u304c\u3001\u540c\u540d\u306e\u3082\u306e\u306f\u4e0a\u66f8\u304d\u3055\u308c\u307e\u3059\u3002\u6b21\u306b\u540c\u3058\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3092\u5b9f\u884c\u3059\u308b\u3068\u3001\u66f4\u65b0\u3055\u308c\u305f\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u9001\u308a\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 sync ./sensor2 s3://mybucket/ upload : sensor2 / 0002. dat to s3 : // mybucket / 0002. dat upload : sensor2 / 0004. dat to s3 : // mybucket / 0004. dat upload : sensor2 / 0001. dat to s3 : // mybucket / 0001. dat upload : sensor2 / 0003. dat to s3 : // mybucket / 0003. dat sensor3 \u30d0\u30b1\u30c3\u30c8\u306e rev1 \u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u3092\u3082\u3064\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092 testdata \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306b\u540c\u671f\u3059\u308b\u4f8b\u3067\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 sync s3://sensor3/rev1/ testdata download : s3 : // sensor3 / rev1 / 0001. zip to testdata / 0001. zip download : s3 : // sensor3 / rev1 / 0004. zip to testdata / 0004. zip download : s3 : // sensor3 / rev1 / 0003. zip to testdata / 0003. zip download : s3 : // sensor3 / rev1 / 0002. zip to testdata / 0002. zip Note \u6b21\u56de\u306b\u3053\u306e\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u3092\u5b9f\u884c\u3057\u305f\u969b\u3001\u30d0\u30b1\u30c3\u30c8\u306b\u5165\u3063\u3066\u3044\u308b\u30c7\u30fc\u30bf\u304c\u66f4\u65b0\u3055\u308c\u3066\u3044\u3066\u3082\u3001\u30b5\u30a4\u30ba\u304c\u5168\u304f\u540c\u3058\u5834\u5408\u306f\u518d\u53d6\u5f97\u306e\u5bfe\u8c61\u3068\u306a\u308a\u307e\u305b\u3093\u3002\u305d\u306e\u5834\u5408\u3001--exact-timestamps \u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u3064\u3051\u308b\u3053\u3068\u3067\u5bfe\u8c61\u3068\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u304c\u3001ABCI\u74b0\u5883\u306e\u5834\u5408\u306f\u3053\u306e\u30aa\u30d7\u30b7\u30e7\u30f3\u3092\u6307\u5b9a\u3059\u308b\u3068\u3001\u3059\u3079\u3066\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u304c\u518d\u53d6\u5f97\u306e\u5bfe\u8c61\u3068\u306a\u308a\u307e\u3059\u3002","title":"\u30ed\u30fc\u30ab\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3068\u30af\u30e9\u30a6\u30c9\u30b9\u30c8\u30ec\u30fc\u30b8\u306e\u540c\u671f"},{"location":"abci-cloudstorage/usage/#_11","text":"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u524a\u9664\u306f aws s3 rm <S3Uri> [parameters] \u3067\u884c\u3044\u307e\u3059\u3002 \u5b9f\u884c\u4f8b [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 rm s3://mybucket/readme.txt delete : s3 : // mybucket / readme . txt --recursive \u30d1\u30e9\u30e1\u30fc\u30bf\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u6307\u5b9a\u306e\u30d7\u30ec\u30d5\u30a3\u30c3\u30af\u30b9\u4ee5\u4e0b\u306e\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u3092\u524a\u9664\u3067\u304d\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls s3://mybucket --recursive 2019 - 07 - 30 20 : 46 : 53 32 a . txt 2019 - 07 - 30 20 : 46 : 53 32 b . txt 2019 - 07 - 31 14 : 51 : 50 512 xml / c . xml 2019 - 07 - 31 14 : 51 : 54 512 xml / d . xml [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 rm s3://mybucket/xml --recursive delete : s3 : // mybucket / xml / c . xml delete : s3 : // mybucket / xml / d . xml [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 ls s3://mybucket --recursive 2019 - 07 - 30 20 : 46 : 53 32 a . txt 2019 - 07 - 30 20 : 46 : 53 32 b . txt","title":"\u30aa\u30d6\u30b8\u30a7\u30af\u30c8\u306e\u524a\u9664"},{"location":"abci-cloudstorage/usage/#_12","text":"dataset-c0541 \u30d0\u30b1\u30c3\u30c8\u3092\u524a\u9664\u3059\u308b\u4f8b\u3067\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai s3 rb s3://dataset-c0541 remove_bucket : dataset - c0541 \u7a7a\u3067\u306a\u3044\u30d0\u30b1\u30c3\u30c8\u3092\u524a\u9664\u3057\u3088\u3046\u3068\u3059\u308b\u3068\u30a8\u30e9\u30fc\u304c\u8fd4\u3055\u308c\u307e\u3059\u304c\u3001\u4e2d\u8eab\u3082\u5168\u90e8\u6d88\u3057\u3066\u3057\u307e\u3063\u3066\u826f\u3051\u308c\u3070 --force \u3092\u3064\u3051\u308b\u3068\u4e2d\u8eab\u3092\u6d88\u3057\u305f\u4e0a\u3067\u30d0\u30b1\u30c3\u30c8\u3092\u524a\u9664\u3057\u3066\u304f\u308c\u307e\u3059\u3002 [ username@es1 ~ ] $ aws --endpoint-url https://s3.abci.ai rb s3://dataset-c0542 --force delete : s3 : // dataset - c0542 / 0001. jpg delete : s3 : // dataset - c0542 / 0002. jpg delete : s3 : // dataset - c0542 / 0003. jpg delete : s3 : // dataset - c0542 / 0004. jpg remove_bucket : dataset - c0542","title":"\u30d0\u30b1\u30c3\u30c8\u306e\u524a\u9664"},{"location":"apps/","text":"\u6982\u8981 \u672c\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001TensorFlow\u3001Chainer\u3001Caffe\u306a\u3069\u5404\u7a2e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u3001\u5229\u7528\u8005\u304cABCI\u4e0a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 TensorFlow Chainer \u305d\u306e\u4ed6","title":"\u6982\u8981"},{"location":"apps/#_1","text":"\u672c\u30bb\u30af\u30b7\u30e7\u30f3\u3067\u306f\u3001TensorFlow\u3001Chainer\u3001Caffe\u306a\u3069\u5404\u7a2e\u30a2\u30d7\u30ea\u30b1\u30fc\u30b7\u30e7\u30f3\u3092\u3001\u5229\u7528\u8005\u304cABCI\u4e0a\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u5229\u7528\u3059\u308b\u305f\u3081\u306e\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 TensorFlow Chainer \u305d\u306e\u4ed6","title":"\u6982\u8981"},{"location":"apps/chainer/","text":"Chainer \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 Chainer\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3001\u52d5\u4f5c\u78ba\u8a8d\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\uff082019\u5e743\u670829\u65e5\u6642\u70b9\u3067\u306e\u78ba\u8a8d\uff09\u3002 NEW_VENV : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b Python\u4eee\u60f3\u74b0\u5883 \u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9 [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.1/9.1.85.3 cudnn/7.0/ 7.0 . 5 [ username @ g0001 ~] $ python3 - m venv NEW_VENV [ username @ g0001 ~] $ source NEW_VENV /bin/ activate ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install cupy - cuda91 chainer \u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 [ username@es ~ ] $ git clone https : // github . com / chainer / chainer . git chainer_sample [ username@es ~ ] $ cd chiner_sample / examples / chainermn / mnist [ username@es mnist ] $ ls README . md model_parallel . png train_mnist_checkpoint . py train_mnist_model_parallel . py dual_parallel . png parallelism_axis . png train_mnist . py train_mnist_dual_parallel . py \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8(4gpu\u3092\u4f7f\u7528\u3057\u3066train_mnist.py\u3092\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4f8b) [username@es ~]$ cat submit.sh #!/bin/bash source /etc/profile.d/modules.sh module load python/3.6/3.6.5 cuda/9.1/9.1.85.3 cudnn/7.0/7.0.5 module load openmpi/2.1.5 source $HOME /NEW_VENV/bin/activate NUM_NODES= ${ NHOSTS } NUM_GPUS_PER_NODE=4 NUM_GPUS_PER_SOCKET=$(expr ${ NUM_GPUS_PER_NODE } / 2) NUM_PROCS=$(expr ${ NUM_NODES } \\* ${ NUM_GPUS_PER_NODE } ) MPIOPTS=\"-np ${ NUM_PROCS } --map-by ppr: ${ NUM_GPUS_PER_SOCKET } :socket --mca mpi_warn_on_fork 0 -x PATH -x LD_LIBRARY_PATH\" APP=\"python $HOME /chainer_sample/examples/chainermn/mnist/train_mnist.py\" mpiexec ${ MPIOPTS } ${ APP } --gpu \u30b8\u30e7\u30d6\u6295\u5165(2\u30ce\u30fc\u30c9\u3067\u305d\u308c\u305e\u308c4gpu\u3092\u5229\u7528\u3059\u308b\u5834\u5408) GROUP : ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7 [ username @ es ~] $ qsub - g GROUP - l rt_F = 2 submit . sh","title":"Chainer"},{"location":"apps/others/","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3001 \u5229\u7528\u8005\u304c\u30db\u30fc\u30e0\u9818\u57df\u307e\u305f\u306f\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 \u30c7\u30a3\u30fc\u30d7\u30e9\u30fc\u30cb\u30f3\u30b0\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\u3002 Caffe Caffe \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 INSTALL_DIR : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9 [ username @ g0001 ~] $ cd INSTALL_DIR [ username @ g0001 ~] $ module load python /2.7/2.7.15 cuda/9.1/9.1.85.3 cudnn/7.0/ 7.0 . 5 [ username @ g0001 ~] $ git clone https :// github . com /BVLC/ caffe [ username @ g0001 ~] $ cd caffe [ username @ g0001 caffe ] $ cp Makefile . config . example Makefile . config [ username @ g0001 caffe ] $ vi Makefile . config [ username @ g0001 caffe ] $ make all 2 >& 1 > log_make - all . txt [ username @ g0001 caffe ] $ make test 2 >& 1 > log_make - test . txt [ username @ g0001 caffe ] $ make runtest 2 >& 1 > log_make - runtest . txt [ username @ g0001 caffe ] $ pip install - r python / requirements . txt [ username @ g0001 caffe ] $ make pycaffe [ username @ g0001 caffe ] $ make distibute Caffe2 Caffe2 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 INSTALL_DIR : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9 [ username @ g0001 ~ ]$ export PREFIX = INSTALL_DIR [ username @ g0001 ~ ]$ module load python / 3 . 6 / 3 . 6 . 5 cuda / 9 . 1 / 9 . 1 . 85 . 3 cudnn / 7 . 0 / 7 . 0 . 5 nccl / 2 . 1 / 2 . 1 . 15 - 1 [ username @ g0001 ~ ]$ git clone https : // github . com / gflags / gflags . git [ username @ g0001 ~ ]$ mkdir gflags / build && cd gflags / build [ username @ g0001 build ]$ cmake3 - DBUILD_SHARED_LIBS = ON - DCMAKE_CXX_FLAGS = ' -fPIC ' - DCMAKE_INSTALL_PREFIX = $ PREFIX .. [ username @ g0001 build ]$ make - j 8 2 >& 1 | tee make . log [ username @ g0001 build ]$ make install 2 >& 1 | tee make_install . log [ username @ g0001 build ]$ cd [ username @ g0001 ~ ]$ git clone https : // github . com / google / glog [ username @ g0001 ~ ]$ cd glog [ username @ g0001 glog ]$ sh autogen . sh [ username @ g0001 glog ]$ CXXFLAGS = \" -fPIC -I$PREFIX/include \" LDFLAGS = \" -L$PREFIX/lib \" . / configure -- prefix = $ PREFIX 2 >& 1 | tee configure . log [ username @ g0001 glog ]$ make - j 8 2 >& 1 | tee make . log [ username @ g0001 glog ]$ make install 2 >& 1 | tee make_install . log [ username @ g0001 glog ]$ cd [ username @ g0001 ~ ]$ pip3 install future graphviz hypothesis jupyter matplotlib numpy protobuf pydot python - nvd3 pyyaml requests scikit - image scipy six -- prefix = $ PREFIX [ username @ g0001 ~ ]$ export CUDNN_INCLUDE_DIR = $C UDNN_HOME / include [ username @ g0001 ~ ]$ export CUDNN_LIBRARY = $C UDNN_HOME / lib64 / libcudnn . so . 7 . 0 . 5 [ username @ g0001 ~ ]$ export NCCL_INCLUDE_DIR = $ NCCL_HOME / include [ username @ g0001 ~ ]$ export NCCL_LIBRARY = $ NCCL_HOME / lib / libnccl . so . 2 . 1 . 15 [ username @ g0001 ~ ]$ git clone -- recursive https : // github . com / pytorch / pytorch . git [ username @ g0001 ~ ]$ cd pytorch && git submodule update -- init [ username @ g0001 pytorch ]$ mkdir build && cd build [ username @ g0001 build ]$ cmake3 - DPYTHON_INCLUDE_DIR =/ apps / python / 3 . 6 . 5 / include / python3 . 6 m - DPYTHON_EXECUTABLE =/ apps / python / 3 . 6 . 5 / bin / python3 - DPYTHON_LIBRARY =/ apps / python / 3 . 6 . 5 / lib - DNCCL_INCLUDE_DIR = $ NCCL_INCLUDE_DIR - DNCCL_LIBRARY = $ NCCL_LIBRARY - DUSE_OPENCV = ON - DCMAKE_INSTALL_PREFIX = INSTALL_DIR . [ username @ g0001 build ]$ make install 2 >& 1 | tee make_install . log Theano Theano \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 How to install Theano Torch Torch \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 INSTALL_DIR : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9 INSTALL_DIR_OPENBLAS : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9 [ username @ g0001 ~] $ module load cuda /9.1/ 9.1 . 85.3 [ username @ g0001 ~] $ git clone https :// github . com /xianyi/ OpenBLAS . git [ username @ g0001 ~] $ make TARGET = HASWELL NO_AFFINITY = 1 USE_OPENMP = 1 > log_make_20180621 - 00 . txt 2 >& 1 [ username @ g0001 ~] $ make install PREFIX = INSTALL_DIR_OPENBLAS > log_make_inst_20180621 - 00 . txt 2 >& 1 [ username @ g0001 ~] $ export LD_LIBRARY_PATH = INSTALL_DIR_OPENBLAS / lib : $LD_LIBRARY_PATH [ username @ g0001 ~] $ git clone https :// github . com /torch/distro.git ./ torch -- recursive [ username @ g0001 ~] $ export TORCH_NVCC_FLAGS = \"-D__CUDA_NO_HALF_OPERATORS__\" [ username @ g0001 ~] $ TORCH_LUA_VERSION = LUA51 PREFIX = INSTALL_DIR ./ install . sh PyTorch PyTorch \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 NEW_VENV : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b Python\u4eee\u60f3\u74b0\u5883 \u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9 [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.1/ 9.1 . 85.3 [ username @ g0001 ~] $ python3 - m venv NEW_VENV [ username @ g0001 ~] $ source NEW_VENV /bin/ activate ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install torch torchvision CNTK CNTK \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 How to install CNTK MXNet MXNet \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 NEW_VENV : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b Python\u4eee\u60f3\u74b0\u5883 \u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9 [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.2/ 9.2 . 148.1 [ username @ g0001 ~] $ python3 - m venv NEW_VENV [ username @ g0001 ~] $ source NEW_VENV /bin/ activate ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install mxnet - cu92 Keras TensorFlow\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u4f7f\u3046 Keras \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 NEW_VENV : python virtual environment or path to be installed [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/ 7.2 . 1 [ username @ g0001 ~] $ export LD_LIBRARY_PATH = $CUDA_HOME /extras/CUPTI/ lib64 : $LD_LIBRARY_PATH [ username @ g0001 ~] $ python3 - m venv NEW_VENV [ username @ g0001 ~] $ source NEW_VENV /bin/ activate ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install tensorflow - gpu ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install keras \u8a73\u7d30\u306f Keras \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30d3\u30c3\u30b0\u30c7\u30fc\u30bf\u89e3\u6790\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af Hadoop ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306fHadoop\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Hadoop\u306e\u74b0\u5883\u8a2d\u5b9a $ module load openjdk/1.8.0.131 $ module load hadoop/2.9.1 Hadoop\u306e\u5b9f\u884c\u30b5\u30f3\u30d7\u30eb [ username@es1 ~ ] $ qrsh - l rt_F = 1 [ username@g0001~ ] $ module load openjdk / 1.8.0.131 [ username@g0001~ ] $ module load hadoop / 2.9.1 [ username@g0001~ ] $ mkdir input [ username@g0001~ ] $ cp / apps / hadoop / 2.9.1 / etc / hadoop /*.xml input [username@g0001~]$ hadoop jar /apps/hadoop/2.9.1/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.9.1.jar grep input output 'dfs[a-z.]+' [username@g0001~]$ cat output/part-r-00000 1 dfsadmin","title":"\u305d\u306e\u4ed6"},{"location":"apps/others/#caffe","text":"Caffe \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 INSTALL_DIR : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9 [ username @ g0001 ~] $ cd INSTALL_DIR [ username @ g0001 ~] $ module load python /2.7/2.7.15 cuda/9.1/9.1.85.3 cudnn/7.0/ 7.0 . 5 [ username @ g0001 ~] $ git clone https :// github . com /BVLC/ caffe [ username @ g0001 ~] $ cd caffe [ username @ g0001 caffe ] $ cp Makefile . config . example Makefile . config [ username @ g0001 caffe ] $ vi Makefile . config [ username @ g0001 caffe ] $ make all 2 >& 1 > log_make - all . txt [ username @ g0001 caffe ] $ make test 2 >& 1 > log_make - test . txt [ username @ g0001 caffe ] $ make runtest 2 >& 1 > log_make - runtest . txt [ username @ g0001 caffe ] $ pip install - r python / requirements . txt [ username @ g0001 caffe ] $ make pycaffe [ username @ g0001 caffe ] $ make distibute","title":"Caffe"},{"location":"apps/others/#caffe2","text":"Caffe2 \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 INSTALL_DIR : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9 [ username @ g0001 ~ ]$ export PREFIX = INSTALL_DIR [ username @ g0001 ~ ]$ module load python / 3 . 6 / 3 . 6 . 5 cuda / 9 . 1 / 9 . 1 . 85 . 3 cudnn / 7 . 0 / 7 . 0 . 5 nccl / 2 . 1 / 2 . 1 . 15 - 1 [ username @ g0001 ~ ]$ git clone https : // github . com / gflags / gflags . git [ username @ g0001 ~ ]$ mkdir gflags / build && cd gflags / build [ username @ g0001 build ]$ cmake3 - DBUILD_SHARED_LIBS = ON - DCMAKE_CXX_FLAGS = ' -fPIC ' - DCMAKE_INSTALL_PREFIX = $ PREFIX .. [ username @ g0001 build ]$ make - j 8 2 >& 1 | tee make . log [ username @ g0001 build ]$ make install 2 >& 1 | tee make_install . log [ username @ g0001 build ]$ cd [ username @ g0001 ~ ]$ git clone https : // github . com / google / glog [ username @ g0001 ~ ]$ cd glog [ username @ g0001 glog ]$ sh autogen . sh [ username @ g0001 glog ]$ CXXFLAGS = \" -fPIC -I$PREFIX/include \" LDFLAGS = \" -L$PREFIX/lib \" . / configure -- prefix = $ PREFIX 2 >& 1 | tee configure . log [ username @ g0001 glog ]$ make - j 8 2 >& 1 | tee make . log [ username @ g0001 glog ]$ make install 2 >& 1 | tee make_install . log [ username @ g0001 glog ]$ cd [ username @ g0001 ~ ]$ pip3 install future graphviz hypothesis jupyter matplotlib numpy protobuf pydot python - nvd3 pyyaml requests scikit - image scipy six -- prefix = $ PREFIX [ username @ g0001 ~ ]$ export CUDNN_INCLUDE_DIR = $C UDNN_HOME / include [ username @ g0001 ~ ]$ export CUDNN_LIBRARY = $C UDNN_HOME / lib64 / libcudnn . so . 7 . 0 . 5 [ username @ g0001 ~ ]$ export NCCL_INCLUDE_DIR = $ NCCL_HOME / include [ username @ g0001 ~ ]$ export NCCL_LIBRARY = $ NCCL_HOME / lib / libnccl . so . 2 . 1 . 15 [ username @ g0001 ~ ]$ git clone -- recursive https : // github . com / pytorch / pytorch . git [ username @ g0001 ~ ]$ cd pytorch && git submodule update -- init [ username @ g0001 pytorch ]$ mkdir build && cd build [ username @ g0001 build ]$ cmake3 - DPYTHON_INCLUDE_DIR =/ apps / python / 3 . 6 . 5 / include / python3 . 6 m - DPYTHON_EXECUTABLE =/ apps / python / 3 . 6 . 5 / bin / python3 - DPYTHON_LIBRARY =/ apps / python / 3 . 6 . 5 / lib - DNCCL_INCLUDE_DIR = $ NCCL_INCLUDE_DIR - DNCCL_LIBRARY = $ NCCL_LIBRARY - DUSE_OPENCV = ON - DCMAKE_INSTALL_PREFIX = INSTALL_DIR . [ username @ g0001 build ]$ make install 2 >& 1 | tee make_install . log","title":"Caffe2"},{"location":"apps/others/#theano","text":"Theano \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 How to install Theano","title":"Theano"},{"location":"apps/others/#torch","text":"Torch \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 INSTALL_DIR : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9 INSTALL_DIR_OPENBLAS : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u30d1\u30b9 [ username @ g0001 ~] $ module load cuda /9.1/ 9.1 . 85.3 [ username @ g0001 ~] $ git clone https :// github . com /xianyi/ OpenBLAS . git [ username @ g0001 ~] $ make TARGET = HASWELL NO_AFFINITY = 1 USE_OPENMP = 1 > log_make_20180621 - 00 . txt 2 >& 1 [ username @ g0001 ~] $ make install PREFIX = INSTALL_DIR_OPENBLAS > log_make_inst_20180621 - 00 . txt 2 >& 1 [ username @ g0001 ~] $ export LD_LIBRARY_PATH = INSTALL_DIR_OPENBLAS / lib : $LD_LIBRARY_PATH [ username @ g0001 ~] $ git clone https :// github . com /torch/distro.git ./ torch -- recursive [ username @ g0001 ~] $ export TORCH_NVCC_FLAGS = \"-D__CUDA_NO_HALF_OPERATORS__\" [ username @ g0001 ~] $ TORCH_LUA_VERSION = LUA51 PREFIX = INSTALL_DIR ./ install . sh","title":"Torch"},{"location":"apps/others/#pytorch","text":"PyTorch \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 NEW_VENV : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b Python\u4eee\u60f3\u74b0\u5883 \u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9 [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.1/ 9.1 . 85.3 [ username @ g0001 ~] $ python3 - m venv NEW_VENV [ username @ g0001 ~] $ source NEW_VENV /bin/ activate ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install torch torchvision","title":"PyTorch"},{"location":"apps/others/#cntk","text":"CNTK \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u30da\u30fc\u30b8\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 How to install CNTK","title":"CNTK"},{"location":"apps/others/#mxnet","text":"MXNet \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 NEW_VENV : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b Python\u4eee\u60f3\u74b0\u5883 \u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9 [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.2/ 9.2 . 148.1 [ username @ g0001 ~] $ python3 - m venv NEW_VENV [ username @ g0001 ~] $ source NEW_VENV /bin/ activate ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install mxnet - cu92","title":"MXNet"},{"location":"apps/others/#keras","text":"TensorFlow\u3092\u30d0\u30c3\u30af\u30a8\u30f3\u30c9\u3068\u3057\u3066\u4f7f\u3046 Keras \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 NEW_VENV : python virtual environment or path to be installed [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/ 7.2 . 1 [ username @ g0001 ~] $ export LD_LIBRARY_PATH = $CUDA_HOME /extras/CUPTI/ lib64 : $LD_LIBRARY_PATH [ username @ g0001 ~] $ python3 - m venv NEW_VENV [ username @ g0001 ~] $ source NEW_VENV /bin/ activate ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install tensorflow - gpu ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install keras \u8a73\u7d30\u306f Keras \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"Keras"},{"location":"apps/others/#_1","text":"","title":"\u30d3\u30c3\u30b0\u30c7\u30fc\u30bf\u89e3\u6790\u30d5\u30ec\u30fc\u30e0\u30ef\u30fc\u30af"},{"location":"apps/others/#hadoop","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067\u306fHadoop\u304c\u5229\u7528\u53ef\u80fd\u3067\u3059\u3002 \u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u4e8b\u524d\u306b module \u30b3\u30de\u30f3\u30c9\u3092\u7528\u3044\u3066\u5229\u7528\u74b0\u5883\u3092\u8a2d\u5b9a\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Hadoop\u306e\u74b0\u5883\u8a2d\u5b9a $ module load openjdk/1.8.0.131 $ module load hadoop/2.9.1 Hadoop\u306e\u5b9f\u884c\u30b5\u30f3\u30d7\u30eb [ username@es1 ~ ] $ qrsh - l rt_F = 1 [ username@g0001~ ] $ module load openjdk / 1.8.0.131 [ username@g0001~ ] $ module load hadoop / 2.9.1 [ username@g0001~ ] $ mkdir input [ username@g0001~ ] $ cp / apps / hadoop / 2.9.1 / etc / hadoop /*.xml input [username@g0001~]$ hadoop jar /apps/hadoop/2.9.1/share/hadoop/mapreduce/hadoop-mapreduce-examples-2.9.1.jar grep input output 'dfs[a-z.]+' [username@g0001~]$ cat output/part-r-00000 1 dfsadmin","title":"Hadoop"},{"location":"apps/tensorflow/","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u3067TensorFlow\u3092\u5229\u7528\u3059\u308b\u5834\u5408\u3001\u5229\u7528\u8005\u304c\u30db\u30fc\u30e0\u9818\u57df\u307e\u305f\u306f\u30b0\u30eb\u30fc\u30d7\u9818\u57df\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 TensorFlow\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u3001\u52d5\u4f5c\u78ba\u8a8d\u65b9\u6cd5\u306f\u4ee5\u4e0b\u306e\u901a\u308a\u3067\u3059\uff082019\u5e743\u670829\u65e5\u6642\u70b9\u3067\u306e\u78ba\u8a8d\uff09\u3002 \u30b7\u30f3\u30b0\u30ebGPU \u5c0e\u5165\u65b9\u6cd5 TensorFlow \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 NEW_VENV : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b Python\u4eee\u60f3\u74b0\u5883 \u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9 [ username @ es1 ~] $ qrsh - g \u30b0\u30eb\u30fc\u30d7\u540d - l rt_F = 1 [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/ 7.2 . 1 [ username @ g0001 ~] $ export LD_LIBRARY_PATH = $CUDA_HOME /extras/CUPTI/ lib64 : $LD_LIBRARY_PATH [ username @ g0001 ~] $ export NEW_VENV = $ { HOME }/ venv / tensorflow - gpu [ username @ g0001 ~] $ python3 - m venv $ { NEW_VENV } [ username @ g0001 ~] $ source $ { NEW_VENV }/ bin / activate ( tensorflow - gpu ) [ username @ g0001 ~] $ pip3 install tensorflow - gpu == 1.12 . 0 \u5b9f\u884c\u65b9\u6cd5 \u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ wget https :// raw . githubusercontent . com /tensorflow/tensorflow/master/tensorflow/examples/tutorials/mnist/ mnist . py \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8(\u30ce\u30fc\u30c9\u51851GPU\u3092\u4f7f\u7528\u3057\u3066mnist.py\u3092\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4f8b) WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ cat submit . sh # !/ bin / sh # $ - l rt_F = 1 # $ - l h_rt = 1 : 23 : 45 # $ - j y # $ - cwd source /etc/profile.d/ modules . sh module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/ 7.2 . 1 export NEW_VENV = $ { HOME }/ venv / tensorflow - gpu source $ { NEW_VENV }/ bin / activate python3 $ { WORK }/ mnist . py \u30b8\u30e7\u30d6\u6295\u5165 GROUP : ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7 WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ qsub - g GROUP submit . sh \u30b7\u30f3\u30b0\u30eb\u30ce\u30fc\u30c9\u30de\u30eb\u30c1GPU \u5c0e\u5165\u65b9\u6cd5 horovod\u3092\u5229\u7528\u3057\u305ftensorflow\u4e26\u5217\u74b0\u5883\u306e\u69cb\u7bc9 NEW_VENV : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b Python\u4eee\u60f3\u74b0\u5883 \u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9 [ username @ es1 ~] $ qrsh - g \u30b0\u30eb\u30fc\u30d7\u540d - l rt_F = 1 [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/7.2.1 nccl/2.3/2.3.7-1 openmpi/ 2.1 . 5 [ username @ g0001 ~] $ export LD_LIBRARY_PATH = $CUDA_HOME /extras/CUPTI/ lib64 : $LD_LIBRARY_PATH [ username @ g0001 ~] $ export NEW_VENV = $ { HOME }/ venv / tensorflow - gpu [ username @ g0001 ~] $ python3 - m venv $ { NEW_VENV } [ username @ g0001 ~] $ source $ { NEW_VENV }/ bin / activate ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install tensorflow - gpu == 1.12 . 0 ( NEW_VENV ) [ username @ g0001 ~] $ HOROVOD_NCCL_HOME = $NCCL_HOME HOROVOD_GPU_ALLREDUCE = NCCL pip3 install horovod \u5b9f\u884c\u65b9\u6cd5 \u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ wget https :// raw . githubusercontent . com /uber/horovod/master/examples/ tensorflow_mnist . py \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8(\u30ce\u30fc\u30c9\u51854GPU\u3092\u4f7f\u7528\u3057\u3066tensorflow_mnist.py\u3092\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4f8b) WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ cat submit . sh # !/ bin / sh # $ - l rt_F = 1 # $ - l h_rt = 1 : 23 : 45 # $ - j y # $ - cwd source /etc/profile.d/ modules . sh module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/7.2.1 nccl/2.3/2.3.7-1 openmpi/ 2.1 . 5 export NEW_VENV = $ { HOME }/ venv / tensorflow - gpu source $ { NEW_VENV }/ bin / activate NUM_NODES = $ { NHOSTS } NUM_GPUS_PER_NODE = 4 NUM_GPUS_PER_SOCKET = $ ( expr $ { NUM_GPUS_PER_NODE } / 2 ) NUM_PROCS = $ ( expr $ { NUM_NODES } \\* $ { NUM_GPUS_PER_NODE }) MPIOPTS = \"-n ${NUM_PROCS}\" APP = \"python3 $HOME/tensorflow_mnist.py\" horovodrun $ { MPIOPTS } $ { APP } \u30b8\u30e7\u30d6\u6295\u5165(1\u30ce\u30fc\u30c9\u30674GPU\u3092\u5229\u7528\u3059\u308b\u5834\u5408) GROUP : ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7 WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ qsub - g GROUP submit . sh \u30de\u30eb\u30c1\u30ce\u30fc\u30c9\u30de\u30eb\u30c1GPU \u5c0e\u5165\u65b9\u6cd5 horovod\u3092\u5229\u7528\u3057\u305ftensorflow\u4e26\u5217\u74b0\u5883\u306e\u69cb\u7bc9 NEW_VENV : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b Python\u4eee\u60f3\u74b0\u5883 \u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9 [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/7.2.1 nccl/2.3/2.3.7-1 openmpi/ 2.1 . 5 [ username @ g0001 ~] $ export LD_LIBRARY_PATH = $CUDA_HOME /extras/CUPTI/ lib64 : $LD_LIBRARY_PATH [ username @ g0001 ~] $ python3 - m venv NEW_VENV [ username @ g0001 ~] $ source NEW_VENV /bin/ activate ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install tensorflow - gpu == 1.12 . 0 ( NEW_VENV ) [ username @ g0001 ~] $ HOROVOD_NCCL_HOME = $NCCL_HOME HOROVOD_GPU_ALLREDUCE = NCCL pip3 install horovod \u5b9f\u884c\u65b9\u6cd5 \u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ wget https :// raw . githubusercontent . com /uber/horovod/master/examples/ tensorflow_mnist . py \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8(\u30ce\u30fc\u30c9\u51854GPU\u3092\u4f7f\u7528\u3057\u3066tensorflow_mnist.py\u3092\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4f8b) WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ cat submit . sh # !/ bin / sh # $ - l rt_F = 2 # $ - l h_rt = 1 : 23 : 45 # $ - j y # $ - cwd source /etc/profile.d/ modules . sh module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/7.2.1 nccl/2.3/2.3.7-1 openmpi/ 2.1 . 5 source $HOME /NEW_VENV/bin/ activate NUM_NODES = $ { NHOSTS } NUM_GPUS_PER_NODE = 4 NUM_GPUS_PER_SOCKET = $ ( expr $ { NUM_GPUS_PER_NODE } / 2 ) NUM_PROCS = $ ( expr $ { NUM_NODES } \\* $ { NUM_GPUS_PER_NODE }) MPIOPTS = \"-n ${NUM_PROCS}\" APP = \"python3 $HOME/tensorflow_mnist.py\" horovodrun $ { MPIOPTS } $ { APP } \u30b8\u30e7\u30d6\u6295\u5165(2\u30ce\u30fc\u30c9\u3067\u305d\u308c\u305e\u308c4GPU\u3092\u5229\u7528\u3059\u308b\u5834\u5408) GROUP : ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7 WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ qsub - g GROUP submit . sh","title":"TensorFlow"},{"location":"apps/tensorflow/#gpu","text":"","title":"\u30b7\u30f3\u30b0\u30ebGPU"},{"location":"apps/tensorflow/#_1","text":"TensorFlow \u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u65b9\u6cd5\u306f\u4ee5\u4e0b\u3092\u53c2\u7167\u304f\u3060\u3055\u3044\u3002 NEW_VENV : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b Python\u4eee\u60f3\u74b0\u5883 \u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9 [ username @ es1 ~] $ qrsh - g \u30b0\u30eb\u30fc\u30d7\u540d - l rt_F = 1 [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/ 7.2 . 1 [ username @ g0001 ~] $ export LD_LIBRARY_PATH = $CUDA_HOME /extras/CUPTI/ lib64 : $LD_LIBRARY_PATH [ username @ g0001 ~] $ export NEW_VENV = $ { HOME }/ venv / tensorflow - gpu [ username @ g0001 ~] $ python3 - m venv $ { NEW_VENV } [ username @ g0001 ~] $ source $ { NEW_VENV }/ bin / activate ( tensorflow - gpu ) [ username @ g0001 ~] $ pip3 install tensorflow - gpu == 1.12 . 0","title":"\u5c0e\u5165\u65b9\u6cd5"},{"location":"apps/tensorflow/#_2","text":"\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ wget https :// raw . githubusercontent . com /tensorflow/tensorflow/master/tensorflow/examples/tutorials/mnist/ mnist . py \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8(\u30ce\u30fc\u30c9\u51851GPU\u3092\u4f7f\u7528\u3057\u3066mnist.py\u3092\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4f8b) WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ cat submit . sh # !/ bin / sh # $ - l rt_F = 1 # $ - l h_rt = 1 : 23 : 45 # $ - j y # $ - cwd source /etc/profile.d/ modules . sh module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/ 7.2 . 1 export NEW_VENV = $ { HOME }/ venv / tensorflow - gpu source $ { NEW_VENV }/ bin / activate python3 $ { WORK }/ mnist . py \u30b8\u30e7\u30d6\u6295\u5165 GROUP : ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7 WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ qsub - g GROUP submit . sh","title":"\u5b9f\u884c\u65b9\u6cd5"},{"location":"apps/tensorflow/#gpu_1","text":"","title":"\u30b7\u30f3\u30b0\u30eb\u30ce\u30fc\u30c9\u30de\u30eb\u30c1GPU"},{"location":"apps/tensorflow/#_3","text":"horovod\u3092\u5229\u7528\u3057\u305ftensorflow\u4e26\u5217\u74b0\u5883\u306e\u69cb\u7bc9 NEW_VENV : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b Python\u4eee\u60f3\u74b0\u5883 \u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9 [ username @ es1 ~] $ qrsh - g \u30b0\u30eb\u30fc\u30d7\u540d - l rt_F = 1 [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/7.2.1 nccl/2.3/2.3.7-1 openmpi/ 2.1 . 5 [ username @ g0001 ~] $ export LD_LIBRARY_PATH = $CUDA_HOME /extras/CUPTI/ lib64 : $LD_LIBRARY_PATH [ username @ g0001 ~] $ export NEW_VENV = $ { HOME }/ venv / tensorflow - gpu [ username @ g0001 ~] $ python3 - m venv $ { NEW_VENV } [ username @ g0001 ~] $ source $ { NEW_VENV }/ bin / activate ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install tensorflow - gpu == 1.12 . 0 ( NEW_VENV ) [ username @ g0001 ~] $ HOROVOD_NCCL_HOME = $NCCL_HOME HOROVOD_GPU_ALLREDUCE = NCCL pip3 install horovod","title":"\u5c0e\u5165\u65b9\u6cd5"},{"location":"apps/tensorflow/#_4","text":"\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ wget https :// raw . githubusercontent . com /uber/horovod/master/examples/ tensorflow_mnist . py \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8(\u30ce\u30fc\u30c9\u51854GPU\u3092\u4f7f\u7528\u3057\u3066tensorflow_mnist.py\u3092\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4f8b) WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ cat submit . sh # !/ bin / sh # $ - l rt_F = 1 # $ - l h_rt = 1 : 23 : 45 # $ - j y # $ - cwd source /etc/profile.d/ modules . sh module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/7.2.1 nccl/2.3/2.3.7-1 openmpi/ 2.1 . 5 export NEW_VENV = $ { HOME }/ venv / tensorflow - gpu source $ { NEW_VENV }/ bin / activate NUM_NODES = $ { NHOSTS } NUM_GPUS_PER_NODE = 4 NUM_GPUS_PER_SOCKET = $ ( expr $ { NUM_GPUS_PER_NODE } / 2 ) NUM_PROCS = $ ( expr $ { NUM_NODES } \\* $ { NUM_GPUS_PER_NODE }) MPIOPTS = \"-n ${NUM_PROCS}\" APP = \"python3 $HOME/tensorflow_mnist.py\" horovodrun $ { MPIOPTS } $ { APP } \u30b8\u30e7\u30d6\u6295\u5165(1\u30ce\u30fc\u30c9\u30674GPU\u3092\u5229\u7528\u3059\u308b\u5834\u5408) GROUP : ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7 WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ qsub - g GROUP submit . sh","title":"\u5b9f\u884c\u65b9\u6cd5"},{"location":"apps/tensorflow/#gpu_2","text":"","title":"\u30de\u30eb\u30c1\u30ce\u30fc\u30c9\u30de\u30eb\u30c1GPU"},{"location":"apps/tensorflow/#_5","text":"horovod\u3092\u5229\u7528\u3057\u305ftensorflow\u4e26\u5217\u74b0\u5883\u306e\u69cb\u7bc9 NEW_VENV : \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b Python\u4eee\u60f3\u74b0\u5883 \u3001\u307e\u305f\u306f\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u30d1\u30b9 [ username @ g0001 ~] $ module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/7.2.1 nccl/2.3/2.3.7-1 openmpi/ 2.1 . 5 [ username @ g0001 ~] $ export LD_LIBRARY_PATH = $CUDA_HOME /extras/CUPTI/ lib64 : $LD_LIBRARY_PATH [ username @ g0001 ~] $ python3 - m venv NEW_VENV [ username @ g0001 ~] $ source NEW_VENV /bin/ activate ( NEW_VENV ) [ username @ g0001 ~] $ pip3 install tensorflow - gpu == 1.12 . 0 ( NEW_VENV ) [ username @ g0001 ~] $ HOROVOD_NCCL_HOME = $NCCL_HOME HOROVOD_GPU_ALLREDUCE = NCCL pip3 install horovod","title":"\u5c0e\u5165\u65b9\u6cd5"},{"location":"apps/tensorflow/#_6","text":"\u30b5\u30f3\u30d7\u30eb\u30d7\u30ed\u30b0\u30e9\u30e0\u306e\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9 WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ wget https :// raw . githubusercontent . com /uber/horovod/master/examples/ tensorflow_mnist . py \u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8(\u30ce\u30fc\u30c9\u51854GPU\u3092\u4f7f\u7528\u3057\u3066tensorflow_mnist.py\u3092\u5b9f\u884c\u3059\u308b\u30b8\u30e7\u30d6\u30b9\u30af\u30ea\u30d7\u30c8\u4f8b) WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ cat submit . sh # !/ bin / sh # $ - l rt_F = 2 # $ - l h_rt = 1 : 23 : 45 # $ - j y # $ - cwd source /etc/profile.d/ modules . sh module load python /3.6/3.6.5 cuda/9.0/9.0.176.4 cudnn/7.2/7.2.1 nccl/2.3/2.3.7-1 openmpi/ 2.1 . 5 source $HOME /NEW_VENV/bin/ activate NUM_NODES = $ { NHOSTS } NUM_GPUS_PER_NODE = 4 NUM_GPUS_PER_SOCKET = $ ( expr $ { NUM_GPUS_PER_NODE } / 2 ) NUM_PROCS = $ ( expr $ { NUM_NODES } \\* $ { NUM_GPUS_PER_NODE }) MPIOPTS = \"-n ${NUM_PROCS}\" APP = \"python3 $HOME/tensorflow_mnist.py\" horovodrun $ { MPIOPTS } $ { APP } \u30b8\u30e7\u30d6\u6295\u5165(2\u30ce\u30fc\u30c9\u3067\u305d\u308c\u305e\u308c4GPU\u3092\u5229\u7528\u3059\u308b\u5834\u5408) GROUP : ABCI\u5229\u7528\u30b0\u30eb\u30fc\u30d7 WORK : \u5b9f\u884c\u74b0\u5883 [ username @ es ~] $ cd $ { WORK } [ username @ es ~] $ qsub - g GROUP submit . sh","title":"\u5b9f\u884c\u65b9\u6cd5"},{"location":"tips/awscli/","text":"AWS CLI \u306e\u5229\u7528 Note AWS CLI\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u5c0e\u5165\u3055\u308c\u305f\u305f\u3081\u3001\u73fe\u5728\u306f module load aws-cli \u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067 aws \u30b3\u30de\u30f3\u30c9\u304c\u5229\u7528\u3067\u304d\u307e\u3059\u3002 \u6982\u8981 ABCI\u304b\u3089AWS\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u5229\u7528\u8005\u3054\u3068\u306bAWS\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\uff08\u4ee5\u4e0b\u3001awscli\uff09\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001awscli\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u5404\u7a2e\u5229\u7528\u65b9\u6cd5\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002 AWS\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9(awscli)\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb pip\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 [ username@es1 testdir ] $ pip install awscli \u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u767b\u9332 \u5165\u624b\u6e08\u307f\u306eAWS\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3092\u767b\u9332\u3057\u307e\u3059\u3002 [ username@es1 testdir ] $ aws configure AWS Access Key ID [ None ] : AWS Secret Access Key [ None ] : Default region name [ None ] : Default output format [ None ] : \u5404\u7a2e\u64cd\u4f5c\u4f8b \u3053\u3053\u3067\u306f\u3001awscli \u306e\u5404\u7a2e\u64cd\u4f5c\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210 [ username@es1 testdir ] $ aws s3 mb s3 : // abci - access - test make_bucket : abci - access - test \u30ed\u30fc\u30ab\u30eb\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30d0\u30b1\u30c3\u30c8\u306b\u4fdd\u5b58 [ username@es1 testdir ] $ ls - la 1 gb . dat - rw - r --r-- 1 username grpname 1073741824 Nov 7 11:27 1gb.dat [ username@es1 testdir ] $ aws s3 cp 1 gb . dat s3 : // abci - access - test upload : . / 1 gb . dat to s3 : // abci - access - test / 1 gb . dat \u30d0\u30b1\u30c3\u30c8\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8868\u793a(ls) [ username@es1 testdir ] $ aws s3 ls s3 : // abci - access - test 2018 - 11 - 09 10 : 13 : 56 1073741824 1 gb . dat \u30d0\u30b1\u30c3\u30c8\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664(rm) [ username@es1 testdir ] $ aws s3 rm s3 : // abci - access - test / 1 gb . dat delete : s3 : // abci - access - test / 1 gb . dat [ username@es1 testdir ] $ ls - l dir - test / total 2097152 - rw - r --r-- 1 username grpname 1073741824 Nov 9 10:16 1gb.dat.1 - rw - r --r-- 1 username grpname 1073741824 Nov 9 10:17 1gb.dat.2 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u3054\u3068\u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9(sync) [ username@es1 testdir ] $ aws s3 sync dir - test s3 : // abci - access - test / dir - test upload : dir - test / 1 gb . dat .2 to s3 : // abci - access - test / dir - test / 1 gb . dat .2 upload : dir - test / 1 gb . dat .1 to s3 : // abci - access - test / dir - test / 1 gb . dat .1 \u30d0\u30b1\u30c3\u30c8\u5185\u3067\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u3054\u3068\u30b3\u30d4\u30fc(sync) [ username@es1 testdir ] $ aws s3 sync s3 : // abci - access - test / dir - test s3 : // abci - access - test / dir - test2 copy : s3 : // abci - access - test / dir - test / 1 gb . dat .1 to s3 : // abci - access - test / dir - test2 / 1 gb . dat .1 copy : s3 : // abci - access - test / dir - test / 1 gb . dat .2 to s3 : // abci - access - test / dir - test2 / 1 gb . dat .2 [ username@es1 testdir ] $ aws s3 ls s3 : // abci - access - test / dir - test2 / 2018 - 11 - 09 10 : 20 : 05 1073741824 1 gb . dat .1 2018 - 11 - 09 10 : 20 : 06 1073741824 1 gb . dat .2 \u30d0\u30b1\u30c3\u30c8\u304b\u3089\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u3054\u3068\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9(sync) [ username@es1 testdir ] $ aws s3 sync s3 : // abci - access - test / dir - test2 dir - test2 download : s3 : // abci - access - test / dir - test2 / 1 gb . dat .2 to dir - test2 / 1 gb . dat .2 download : s3 : // abci - access - test / dir - test2 / 1 gb . dat .1 to dir - test2 / 1 gb . dat .1 [ username@es1 testdir ] $ ls - l dir - test2 total 2097152 - rw - r --r-- 1 username grpname 1073741824 Nov 9 10:20 1gb.dat.1 - rw - r --r-- 1 username grpname 1073741824 Nov 9 10:20 1gb.dat.2 \u30d0\u30b1\u30c3\u30c8\u5185\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u3054\u3068\u524a\u9664 [ username@es1 testdir ] $ aws s3 rm --recursive s3://abci-access-test/dir-test delete : s3 : // abci - access - test / dir - test / 1 gb . dat .2 delete : s3 : // abci - access - test / dir - test / 1 gb . dat .1 [ username@es1 testdir ] $ aws s3 rm --recursive s3://abci-access-test/dir-test2 delete : s3 : // abci - access - test / dir - test2 / 1 gb . dat .2 delete : s3 : // abci - access - test / dir - test2 / 1 gb . dat .1 \u30d0\u30b1\u30c3\u30c8\u3092\u524a\u9664 [ username@es1 testdir ] $ aws s3 rb s3 : // abci - access - test remove_bucket : abci - access - test","title":"AWS CLI\u306e\u5229\u7528"},{"location":"tips/awscli/#aws-cli","text":"Note AWS CLI\u304c\u30b7\u30b9\u30c6\u30e0\u306b\u5c0e\u5165\u3055\u308c\u305f\u305f\u3081\u3001\u73fe\u5728\u306f module load aws-cli \u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067 aws \u30b3\u30de\u30f3\u30c9\u304c\u5229\u7528\u3067\u304d\u307e\u3059\u3002","title":"AWS CLI \u306e\u5229\u7528"},{"location":"tips/awscli/#_1","text":"ABCI\u304b\u3089AWS\u3092\u5229\u7528\u3059\u308b\u305f\u3081\u306b\u306f\u3001\u5229\u7528\u8005\u3054\u3068\u306bAWS\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9\uff08\u4ee5\u4e0b\u3001awscli\uff09\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001awscli\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3068\u5404\u7a2e\u5229\u7528\u65b9\u6cd5\u3092\u8a18\u8f09\u3057\u307e\u3059\u3002","title":"\u6982\u8981"},{"location":"tips/awscli/#awsawscli","text":"pip\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 [ username@es1 testdir ] $ pip install awscli","title":"AWS\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30a4\u30f3\u30bf\u30fc\u30d5\u30a7\u30a4\u30b9(awscli)\u306e\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"tips/awscli/#_2","text":"\u5165\u624b\u6e08\u307f\u306eAWS\u30a2\u30af\u30bb\u30b9\u30ad\u30fc\u3092\u767b\u9332\u3057\u307e\u3059\u3002 [ username@es1 testdir ] $ aws configure AWS Access Key ID [ None ] : AWS Secret Access Key [ None ] : Default region name [ None ] : Default output format [ None ] :","title":"\u30a2\u30af\u30bb\u30b9\u30c8\u30fc\u30af\u30f3\u306e\u767b\u9332"},{"location":"tips/awscli/#_3","text":"\u3053\u3053\u3067\u306f\u3001awscli \u306e\u5404\u7a2e\u64cd\u4f5c\u65b9\u6cd5\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u30d0\u30b1\u30c3\u30c8\u306e\u4f5c\u6210 [ username@es1 testdir ] $ aws s3 mb s3 : // abci - access - test make_bucket : abci - access - test \u30ed\u30fc\u30ab\u30eb\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u30d0\u30b1\u30c3\u30c8\u306b\u4fdd\u5b58 [ username@es1 testdir ] $ ls - la 1 gb . dat - rw - r --r-- 1 username grpname 1073741824 Nov 7 11:27 1gb.dat [ username@es1 testdir ] $ aws s3 cp 1 gb . dat s3 : // abci - access - test upload : . / 1 gb . dat to s3 : // abci - access - test / 1 gb . dat \u30d0\u30b1\u30c3\u30c8\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u8868\u793a(ls) [ username@es1 testdir ] $ aws s3 ls s3 : // abci - access - test 2018 - 11 - 09 10 : 13 : 56 1073741824 1 gb . dat \u30d0\u30b1\u30c3\u30c8\u5185\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664(rm) [ username@es1 testdir ] $ aws s3 rm s3 : // abci - access - test / 1 gb . dat delete : s3 : // abci - access - test / 1 gb . dat [ username@es1 testdir ] $ ls - l dir - test / total 2097152 - rw - r --r-- 1 username grpname 1073741824 Nov 9 10:16 1gb.dat.1 - rw - r --r-- 1 username grpname 1073741824 Nov 9 10:17 1gb.dat.2 \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u3054\u3068\u30d0\u30b1\u30c3\u30c8\u306b\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9(sync) [ username@es1 testdir ] $ aws s3 sync dir - test s3 : // abci - access - test / dir - test upload : dir - test / 1 gb . dat .2 to s3 : // abci - access - test / dir - test / 1 gb . dat .2 upload : dir - test / 1 gb . dat .1 to s3 : // abci - access - test / dir - test / 1 gb . dat .1 \u30d0\u30b1\u30c3\u30c8\u5185\u3067\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u3054\u3068\u30b3\u30d4\u30fc(sync) [ username@es1 testdir ] $ aws s3 sync s3 : // abci - access - test / dir - test s3 : // abci - access - test / dir - test2 copy : s3 : // abci - access - test / dir - test / 1 gb . dat .1 to s3 : // abci - access - test / dir - test2 / 1 gb . dat .1 copy : s3 : // abci - access - test / dir - test / 1 gb . dat .2 to s3 : // abci - access - test / dir - test2 / 1 gb . dat .2 [ username@es1 testdir ] $ aws s3 ls s3 : // abci - access - test / dir - test2 / 2018 - 11 - 09 10 : 20 : 05 1073741824 1 gb . dat .1 2018 - 11 - 09 10 : 20 : 06 1073741824 1 gb . dat .2 \u30d0\u30b1\u30c3\u30c8\u304b\u3089\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u3054\u3068\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9(sync) [ username@es1 testdir ] $ aws s3 sync s3 : // abci - access - test / dir - test2 dir - test2 download : s3 : // abci - access - test / dir - test2 / 1 gb . dat .2 to dir - test2 / 1 gb . dat .2 download : s3 : // abci - access - test / dir - test2 / 1 gb . dat .1 to dir - test2 / 1 gb . dat .1 [ username@es1 testdir ] $ ls - l dir - test2 total 2097152 - rw - r --r-- 1 username grpname 1073741824 Nov 9 10:20 1gb.dat.1 - rw - r --r-- 1 username grpname 1073741824 Nov 9 10:20 1gb.dat.2 \u30d0\u30b1\u30c3\u30c8\u5185\u306e\u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u3092\u542b\u3080\u30d5\u30a1\u30a4\u30eb\u3054\u3068\u524a\u9664 [ username@es1 testdir ] $ aws s3 rm --recursive s3://abci-access-test/dir-test delete : s3 : // abci - access - test / dir - test / 1 gb . dat .2 delete : s3 : // abci - access - test / dir - test / 1 gb . dat .1 [ username@es1 testdir ] $ aws s3 rm --recursive s3://abci-access-test/dir-test2 delete : s3 : // abci - access - test / dir - test2 / 1 gb . dat .2 delete : s3 : // abci - access - test / dir - test2 / 1 gb . dat .1 \u30d0\u30b1\u30c3\u30c8\u3092\u524a\u9664 [ username@es1 testdir ] $ aws s3 rb s3 : // abci - access - test remove_bucket : abci - access - test","title":"\u5404\u7a2e\u64cd\u4f5c\u4f8b"},{"location":"tips/gcc-7.3.0/","text":"GCC 7.3.0 \u306e\u5229\u7528 ABCI\u306b\u306f\u6a19\u6e96\u306eGCC 4.8.5\u306e\u4ed6\u306b\u3001GCC 7.3.0\u304c\u8a66\u9a13\u7684\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001 Environment Modules \u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\uff082019\u5e745\u6708\u6642\u70b9\uff09\u3002 \u4e0b\u8a18\u306e\u3088\u3046\u306b\u660e\u793a\u7684\u306b\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001GCC 7.3.0\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 [ username@g0001 ~ ] $ export PATH =/ apps / gcc / 7.3.0 / bin : $ PATH [ username@g0001 ~ ] $ export LD_LIBRARY_PATH =/ apps / gcc / 7.3.0 / lib64 : $ LD_LIBRARY_PATH","title":"GCC 7.3.0\u306e\u5229\u7528"},{"location":"tips/gcc-7.3.0/#gcc-730","text":"ABCI\u306b\u306f\u6a19\u6e96\u306eGCC 4.8.5\u306e\u4ed6\u306b\u3001GCC 7.3.0\u304c\u8a66\u9a13\u7684\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u304c\u3001 Environment Modules \u304c\u63d0\u4f9b\u3055\u308c\u3066\u3044\u307e\u305b\u3093\uff082019\u5e745\u6708\u6642\u70b9\uff09\u3002 \u4e0b\u8a18\u306e\u3088\u3046\u306b\u660e\u793a\u7684\u306b\u74b0\u5883\u5909\u6570\u3092\u8a2d\u5b9a\u3059\u308b\u3053\u3068\u3067\u3001GCC 7.3.0\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u304c\u3067\u304d\u307e\u3059\u3002 [ username@g0001 ~ ] $ export PATH =/ apps / gcc / 7.3.0 / bin : $ PATH [ username@g0001 ~ ] $ export LD_LIBRARY_PATH =/ apps / gcc / 7.3.0 / lib64 : $ LD_LIBRARY_PATH","title":"GCC 7.3.0 \u306e\u5229\u7528"},{"location":"tips/jupyter-notebook/","text":"Jupyter Notebook\u306e\u5229\u7528 Jupyter Notebook\u306f\u3001\u30b3\u30fc\u30c9\u306e\u8a18\u8ff0\u3068\u305d\u306e\u7d50\u679c\u306e\u53d6\u5f97\u3092\u3001\u30d6\u30e9\u30a6\u30b6\u4e0a\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u306a\u304c\u3089\u884c\u3048\u308b\u4fbf\u5229\u306a\u30c4\u30fc\u30eb\u3067\u3059\u3002\u3053\u3053\u3067\u306f\u3001ABCI\u4e0a\u3067Jupyter Notebook\u3092\u8d77\u52d5\u3057\u3001\u624b\u5143\u306ePC\u306e\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u5229\u7528\u3059\u308b\u624b\u9806\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002 pip\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3088\u308b\u5229\u7528\u624b\u9806 \u3053\u3053\u3067\u306f\u3001Jupyter Notebook\u3092pip\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u5229\u7528\u3059\u308b\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u30a4\u30f3\u30b9\u30c8\u30fc\u30eb \u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u4e00\u53f0\u5360\u6709\u3057\u3001Python\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3057\u3001 pip \u3067 tensorflow-gpu \u3068 jupyter \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ qrsh - g grpname - l rt_F = 1 [ username@g0001 ~ ] $ module load python / 3.6 / 3.6.5 cuda / 10.0 / 10.0.130.1 cudnn / 7.4 / 7.4.2 [ username@g0001 ~ ] $ python3 - m venv ~/ jupyter_env [ username@g0001 ~ ] $ source ~/ jupyter_env / bin / activate ( jupyter_env ) [ username@g0001 ~ ] $ pip3 install tensorflow - gpu jupyter numpy == 1.16.4 Note \u3053\u306e\u4f8b\u3067\u306f ~/jupyter_env \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059\u3002 \u6b21\u56de\u4ee5\u964d\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u3068 ~/jupyter_env \u306e\u30a2\u30af\u30c6\u30a3\u30d9\u30fc\u30c8\u3060\u3051\u3067\u6e08\u307f\u307e\u3059\u3002 [ username@es1 ~ ] $ qrsh - g grpname - l rt_F = 1 [ username@g0001 ~ ] $ module load python / 3.6 / 3.6.5 cuda / 10.0 / 10.0.130.1 cudnn / 7.4 / 7.4.2 [ username@g0001 ~ ] $ source ~/ jupyter_env / bin / activate Note CUDA\u3084cuDNN\u306e\u4ed6\u306b\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3042\u308c\u3070\u3001\u540c\u69d8\u306bJupyter Notebook\u306e\u8d77\u52d5\u524d\u306b\u30ed\u30fc\u30c9\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Jupyter Notebook\u306e\u8d77\u52d5 \u3042\u3068\u3067\u5fc5\u8981\u3068\u306a\u308b\u305f\u3081\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u30db\u30b9\u30c8\u540d\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3002 ( jupyter_env ) [ username@g0001 ~ ] $ hostname g0001 . abci . local \u7d9a\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306bJupyter Notebook\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 (jupyter_env) [username@g0001 ~]$ jupyter notebook --ip=`hostname` --port=8888 --no-browser : (snip) : [I 20:41:12.082 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation). [C 20:41:12.090 NotebookApp] To access the notebook, open this file in a browser: file:///home/username/.local/share/jupyter/runtime/nbserver-xxxxxx-open.html Or copy and paste one of these URLs: http://g0001.abci.local:8888/?token= token_string or http://127.0.0.1:8888/?token= token_string SSH\u30c8\u30f3\u30cd\u30eb\u306e\u4f5c\u6210 ABCI\u30b7\u30b9\u30c6\u30e0\u5229\u7528\u74b0\u5883\u306e SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u3088\u308b\u30ed\u30b0\u30a4\u30f3::\u4e00\u822c\u7684\u306a\u30ed\u30b0\u30a4\u30f3\u65b9\u6cd5 \u306e\u624b\u9806\u306b\u5f93\u3044\u3001\u30ed\u30fc\u30ab\u30ebPC\u306e10022\u756a\u30dd\u30fc\u30c8\u304c\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9( es )\u306b\u8ee2\u9001\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002 \u6b21\u306b\u3001\u30ed\u30fc\u30ab\u30ebPC\u306e8888\u756a\u30dd\u30fc\u30c8\u3092\u8a08\u7b97\u30ce\u30fc\u30c9\u306e8888\u756a\u30dd\u30fc\u30c8\u306b\u8ee2\u9001\u3059\u308bSSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u300c g0001 \u300d\u306f\u3001Jupyter Notebook\u306e\u8d77\u52d5\u306e\u969b\u306b\u78ba\u8a8d\u3057\u305f\u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u30db\u30b9\u30c8\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [yourpc ~]$ ssh -N -L 8888: g0001 :8888 -l username -i /path/identity_file -p 10022 localhost Jupyter Notebook\u3078\u306e\u63a5\u7d9a \u30d6\u30e9\u30a6\u30b6\u3067\u4ee5\u4e0b\u306eURL\u3092\u958b\u304d\u307e\u3059\u3002\u300c token_string \u300d\u306f\u3001Jupyter Notebook\u306e\u8d77\u52d5\u306e\u969b\u306b\u8868\u793a\u3055\u308c\u305f\u3082\u306e\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 http://127.0.0.1:8888/?token= token_string \u52d5\u4f5c\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306bJupyter Notebook\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u305f\u3089\u3001 New \u30dc\u30bf\u30f3\u304b\u3089\u65b0\u3057\u3044Python3 Notebook\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002 import tensorflow print ( tensorflow . __version__ ) print ( tensorflow . test . is_gpu_available ()) is_gpu_available() \u306f\u3001cuDNN\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8a8d\u8b58\u3067\u304d\u306a\u3044\u5834\u5408\u3082False\u3092\u8fd4\u3057\u307e\u3059\u3002 Jupyter Notebook\u306e\u4f7f\u3044\u65b9\u306f\u3001 Jupyter Notebook Documentation \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 Jupyter Notebook\u306e\u7d42\u4e86 \u4ee5\u4e0b\u306e\u624b\u9806\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002 (\u30ed\u30fc\u30ab\u30ebPC) \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u753b\u9762\u306e Quit \u30dc\u30bf\u30f3\u3067\u7d42\u4e86 (\u30ed\u30fc\u30ab\u30ebPC) 8888\u756a\u30dd\u30fc\u30c8\u3092\u8ee2\u9001\u3057\u3066\u3044\u305fSSH\u30c8\u30f3\u30cd\u30eb\u63a5\u7d9a\u3092 Control-C \u3067\u7d42\u4e86 (\u8a08\u7b97\u30ce\u30fc\u30c9) jupyter \u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u7d42\u4e86\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001 Control-C \u3067\u7d42\u4e86 Singularity\u3092\u7528\u3044\u305f\u5229\u7528\u624b\u9806 pip\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u4ee3\u308f\u308a\u306b\u3001Jupyter Notebook\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 NGC \u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308bTensorFlow\u306eDocker\u30a4\u30e1\u30fc\u30b8\u306b\u306f\u3001TensorFlow\u3060\u3051\u3067\u306f\u306a\u304fJupyter Notebook\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306e\u751f\u6210 \u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001NGC\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308bDocker\u30a4\u30e1\u30fc\u30b8( nvcr.io/nvidia/tensorflow:19.07-py3 )\u3092\u5229\u7528\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ module load singularity / 2.6.1 [ username@es1 ~ ] $ singularity pull docker : // nvcr . io / nvidia / tensorflow : 19.07 - py3 Docker image path : nvcr . io / nvidia / tensorflow : 19.07 - py3 Cache folder set to / home / username / . singularity / docker Importing : base Singularity environment : ( snip ) : Building Singularity image ... Singularity container built : . / tensorflow - 19.07 - py3 . simg Cleaning up ... Done . Container is at : . / tensorflow - 19.07 - py3 . simg Jupyter Notebook\u306e\u8d77\u52d5 \u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u4e00\u53f0\u5360\u6709\u3057\u307e\u3059\u3002\u3042\u3068\u3067\u5fc5\u8981\u3068\u306a\u308b\u305f\u3081\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u30db\u30b9\u30c8\u540d\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3002 [ username@es1 ~ ] $ qrsh - g grpname - l rt_F = 1 [ username@g0001 ~ ] $ hostname g0001 . abci . local \u7d9a\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306e\u4e2d\u306eJupyter Notebook\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 [username@g0001 ~]$ module load singularity/2.6.1 [username@g0001 ~]$ singularity run --nv ./tensorflow-19.07-py3.simg jupyter notebook --ip=`hostname` --port=8888 --no-browser ================ == TensorFlow == ================ NVIDIA Release 19.07 (build 7332442) TensorFlow Version 1.14.0 Container image Copyright (c) 2019, NVIDIA CORPORATION. All rights reserved. Copyright 2017-2019 The TensorFlow Authors. All rights reserved. : (snip) : [I 19:56:19.585 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation). [C 19:56:19.593 NotebookApp] To access the notebook, open this file in a browser: file:///home/username/.local/share/jupyter/runtime/nbserver-xxxxxx-open.html Or copy and paste one of these URLs: http://hostname:8888/?token= token_string \u4ee5\u964d\u306e\u624b\u9806\u306fpip\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u5834\u5408\u3068\u5171\u901a\u3067\u3059\u3002 SSH\u30c8\u30f3\u30cd\u30eb\u306e\u4f5c\u6210 Jupyter Notebook\u3078\u306e\u63a5\u7d9a Jupyter Notebook\u306e\u7d42\u4e86","title":"Jupyter Notebook\u306e\u5229\u7528"},{"location":"tips/jupyter-notebook/#jupyter-notebook","text":"Jupyter Notebook\u306f\u3001\u30b3\u30fc\u30c9\u306e\u8a18\u8ff0\u3068\u305d\u306e\u7d50\u679c\u306e\u53d6\u5f97\u3092\u3001\u30d6\u30e9\u30a6\u30b6\u4e0a\u3067\u30c9\u30ad\u30e5\u30e1\u30f3\u30c8\u3092\u4f5c\u6210\u3057\u306a\u304c\u3089\u884c\u3048\u308b\u4fbf\u5229\u306a\u30c4\u30fc\u30eb\u3067\u3059\u3002\u3053\u3053\u3067\u306f\u3001ABCI\u4e0a\u3067Jupyter Notebook\u3092\u8d77\u52d5\u3057\u3001\u624b\u5143\u306ePC\u306e\u30d6\u30e9\u30a6\u30b6\u304b\u3089\u5229\u7528\u3059\u308b\u624b\u9806\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002","title":"Jupyter Notebook\u306e\u5229\u7528"},{"location":"tips/jupyter-notebook/#using-pip-install","text":"\u3053\u3053\u3067\u306f\u3001Jupyter Notebook\u3092pip\u3067\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u5229\u7528\u3059\u308b\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"pip\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306b\u3088\u308b\u5229\u7528\u624b\u9806"},{"location":"tips/jupyter-notebook/#install-by-pip","text":"\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u4e00\u53f0\u5360\u6709\u3057\u3001Python\u4eee\u60f3\u74b0\u5883\u3092\u4f5c\u6210\u3057\u3001 pip \u3067 tensorflow-gpu \u3068 jupyter \u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ qrsh - g grpname - l rt_F = 1 [ username@g0001 ~ ] $ module load python / 3.6 / 3.6.5 cuda / 10.0 / 10.0.130.1 cudnn / 7.4 / 7.4.2 [ username@g0001 ~ ] $ python3 - m venv ~/ jupyter_env [ username@g0001 ~ ] $ source ~/ jupyter_env / bin / activate ( jupyter_env ) [ username@g0001 ~ ] $ pip3 install tensorflow - gpu jupyter numpy == 1.16.4 Note \u3053\u306e\u4f8b\u3067\u306f ~/jupyter_env \u30c7\u30a3\u30ec\u30af\u30c8\u30ea\u306e\u4e2d\u306b\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3057\u3066\u3044\u307e\u3059\u3002 \u6b21\u56de\u4ee5\u964d\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30e2\u30b8\u30e5\u30fc\u30eb\u306e\u8aad\u307f\u8fbc\u307f\u3068 ~/jupyter_env \u306e\u30a2\u30af\u30c6\u30a3\u30d9\u30fc\u30c8\u3060\u3051\u3067\u6e08\u307f\u307e\u3059\u3002 [ username@es1 ~ ] $ qrsh - g grpname - l rt_F = 1 [ username@g0001 ~ ] $ module load python / 3.6 / 3.6.5 cuda / 10.0 / 10.0.130.1 cudnn / 7.4 / 7.4.2 [ username@g0001 ~ ] $ source ~/ jupyter_env / bin / activate Note CUDA\u3084cuDNN\u306e\u4ed6\u306b\u5fc5\u8981\u306a\u30e2\u30b8\u30e5\u30fc\u30eb\u304c\u3042\u308c\u3070\u3001\u540c\u69d8\u306bJupyter Notebook\u306e\u8d77\u52d5\u524d\u306b\u30ed\u30fc\u30c9\u3057\u3066\u304a\u304f\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002","title":"\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb"},{"location":"tips/jupyter-notebook/#start-jupyter-notebook","text":"\u3042\u3068\u3067\u5fc5\u8981\u3068\u306a\u308b\u305f\u3081\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u30db\u30b9\u30c8\u540d\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3002 ( jupyter_env ) [ username@g0001 ~ ] $ hostname g0001 . abci . local \u7d9a\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306bJupyter Notebook\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 (jupyter_env) [username@g0001 ~]$ jupyter notebook --ip=`hostname` --port=8888 --no-browser : (snip) : [I 20:41:12.082 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation). [C 20:41:12.090 NotebookApp] To access the notebook, open this file in a browser: file:///home/username/.local/share/jupyter/runtime/nbserver-xxxxxx-open.html Or copy and paste one of these URLs: http://g0001.abci.local:8888/?token= token_string or http://127.0.0.1:8888/?token= token_string","title":"Jupyter Notebook\u306e\u8d77\u52d5"},{"location":"tips/jupyter-notebook/#generate-an-ssh-tunnel","text":"ABCI\u30b7\u30b9\u30c6\u30e0\u5229\u7528\u74b0\u5883\u306e SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306b\u3088\u308b\u30ed\u30b0\u30a4\u30f3::\u4e00\u822c\u7684\u306a\u30ed\u30b0\u30a4\u30f3\u65b9\u6cd5 \u306e\u624b\u9806\u306b\u5f93\u3044\u3001\u30ed\u30fc\u30ab\u30ebPC\u306e10022\u756a\u30dd\u30fc\u30c8\u304c\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9( es )\u306b\u8ee2\u9001\u3055\u308c\u3066\u3044\u308b\u3082\u306e\u3068\u3057\u307e\u3059\u3002 \u6b21\u306b\u3001\u30ed\u30fc\u30ab\u30ebPC\u306e8888\u756a\u30dd\u30fc\u30c8\u3092\u8a08\u7b97\u30ce\u30fc\u30c9\u306e8888\u756a\u30dd\u30fc\u30c8\u306b\u8ee2\u9001\u3059\u308bSSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210\u3057\u307e\u3059\u3002\u300c g0001 \u300d\u306f\u3001Jupyter Notebook\u306e\u8d77\u52d5\u306e\u969b\u306b\u78ba\u8a8d\u3057\u305f\u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u30db\u30b9\u30c8\u540d\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 [yourpc ~]$ ssh -N -L 8888: g0001 :8888 -l username -i /path/identity_file -p 10022 localhost","title":"SSH\u30c8\u30f3\u30cd\u30eb\u306e\u4f5c\u6210"},{"location":"tips/jupyter-notebook/#connect-to-jupyter-notebook","text":"\u30d6\u30e9\u30a6\u30b6\u3067\u4ee5\u4e0b\u306eURL\u3092\u958b\u304d\u307e\u3059\u3002\u300c token_string \u300d\u306f\u3001Jupyter Notebook\u306e\u8d77\u52d5\u306e\u969b\u306b\u8868\u793a\u3055\u308c\u305f\u3082\u306e\u3092\u6307\u5b9a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 http://127.0.0.1:8888/?token= token_string \u52d5\u4f5c\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u30d6\u30e9\u30a6\u30b6\u306bJupyter Notebook\u306e\u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u305f\u3089\u3001 New \u30dc\u30bf\u30f3\u304b\u3089\u65b0\u3057\u3044Python3 Notebook\u3092\u4f5c\u6210\u3057\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3057\u307e\u3059\u3002 import tensorflow print ( tensorflow . __version__ ) print ( tensorflow . test . is_gpu_available ()) is_gpu_available() \u306f\u3001cuDNN\u30e9\u30a4\u30d6\u30e9\u30ea\u3092\u8a8d\u8b58\u3067\u304d\u306a\u3044\u5834\u5408\u3082False\u3092\u8fd4\u3057\u307e\u3059\u3002 Jupyter Notebook\u306e\u4f7f\u3044\u65b9\u306f\u3001 Jupyter Notebook Documentation \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"Jupyter Notebook\u3078\u306e\u63a5\u7d9a"},{"location":"tips/jupyter-notebook/#terminate-jupyter-notebook","text":"\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u7d42\u4e86\u3057\u307e\u3059\u3002 (\u30ed\u30fc\u30ab\u30ebPC) \u30c0\u30c3\u30b7\u30e5\u30dc\u30fc\u30c9\u753b\u9762\u306e Quit \u30dc\u30bf\u30f3\u3067\u7d42\u4e86 (\u30ed\u30fc\u30ab\u30ebPC) 8888\u756a\u30dd\u30fc\u30c8\u3092\u8ee2\u9001\u3057\u3066\u3044\u305fSSH\u30c8\u30f3\u30cd\u30eb\u63a5\u7d9a\u3092 Control-C \u3067\u7d42\u4e86 (\u8a08\u7b97\u30ce\u30fc\u30c9) jupyter \u30d7\u30ed\u30b0\u30e9\u30e0\u304c\u7d42\u4e86\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\u3001 Control-C \u3067\u7d42\u4e86","title":"Jupyter Notebook\u306e\u7d42\u4e86"},{"location":"tips/jupyter-notebook/#using-singularity","text":"pip\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u4ee3\u308f\u308a\u306b\u3001Jupyter Notebook\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u305f\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u5229\u7528\u3059\u308b\u3053\u3068\u3082\u3067\u304d\u307e\u3059\u3002\u4f8b\u3048\u3070\u3001 NGC \u3067\u63d0\u4f9b\u3055\u308c\u3066\u3044\u308bTensorFlow\u306eDocker\u30a4\u30e1\u30fc\u30b8\u306b\u306f\u3001TensorFlow\u3060\u3051\u3067\u306f\u306a\u304fJupyter Notebook\u3082\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002","title":"Singularity\u3092\u7528\u3044\u305f\u5229\u7528\u624b\u9806"},{"location":"tips/jupyter-notebook/#build-a-container-image","text":"\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u3092\u53d6\u5f97\u3057\u307e\u3059\u3002\u3053\u3053\u3067\u306f\u3001NGC\u304c\u63d0\u4f9b\u3057\u3066\u3044\u308bDocker\u30a4\u30e1\u30fc\u30b8( nvcr.io/nvidia/tensorflow:19.07-py3 )\u3092\u5229\u7528\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ module load singularity / 2.6.1 [ username@es1 ~ ] $ singularity pull docker : // nvcr . io / nvidia / tensorflow : 19.07 - py3 Docker image path : nvcr . io / nvidia / tensorflow : 19.07 - py3 Cache folder set to / home / username / . singularity / docker Importing : base Singularity environment : ( snip ) : Building Singularity image ... Singularity container built : . / tensorflow - 19.07 - py3 . simg Cleaning up ... Done . Container is at : . / tensorflow - 19.07 - py3 . simg","title":"\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306e\u751f\u6210"},{"location":"tips/jupyter-notebook/#start-jupyter-notebook_1","text":"\u8a08\u7b97\u30ce\u30fc\u30c9\u3092\u4e00\u53f0\u5360\u6709\u3057\u307e\u3059\u3002\u3042\u3068\u3067\u5fc5\u8981\u3068\u306a\u308b\u305f\u3081\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u306e\u30db\u30b9\u30c8\u540d\u3092\u78ba\u8a8d\u3057\u3066\u304a\u304d\u307e\u3059\u3002 [ username@es1 ~ ] $ qrsh - g grpname - l rt_F = 1 [ username@g0001 ~ ] $ hostname g0001 . abci . local \u7d9a\u3044\u3066\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u30b3\u30f3\u30c6\u30ca\u30a4\u30e1\u30fc\u30b8\u306e\u4e2d\u306eJupyter Notebook\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 [username@g0001 ~]$ module load singularity/2.6.1 [username@g0001 ~]$ singularity run --nv ./tensorflow-19.07-py3.simg jupyter notebook --ip=`hostname` --port=8888 --no-browser ================ == TensorFlow == ================ NVIDIA Release 19.07 (build 7332442) TensorFlow Version 1.14.0 Container image Copyright (c) 2019, NVIDIA CORPORATION. All rights reserved. Copyright 2017-2019 The TensorFlow Authors. All rights reserved. : (snip) : [I 19:56:19.585 NotebookApp] Use Control-C to stop this server and shut down all kernels (twice to skip confirmation). [C 19:56:19.593 NotebookApp] To access the notebook, open this file in a browser: file:///home/username/.local/share/jupyter/runtime/nbserver-xxxxxx-open.html Or copy and paste one of these URLs: http://hostname:8888/?token= token_string \u4ee5\u964d\u306e\u624b\u9806\u306fpip\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u306e\u5834\u5408\u3068\u5171\u901a\u3067\u3059\u3002 SSH\u30c8\u30f3\u30cd\u30eb\u306e\u4f5c\u6210 Jupyter Notebook\u3078\u306e\u63a5\u7d9a Jupyter Notebook\u306e\u7d42\u4e86","title":"Jupyter Notebook\u306e\u8d77\u52d5"},{"location":"tips/putty/","text":"PuTTY\u306e\u5229\u7528 \u3053\u3053\u3067\u306f\u3001Windows\u3067\u5229\u7528\u53ef\u80fd\u306aSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u3042\u308b\u3001PuTTY\u3092\u7528\u3044\u305f\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u624b\u9806\u3092\u793a\u3057\u307e\u3059\u3002OpenSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306a\u3069\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30d9\u30fc\u30b9\u306eSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u5229\u7528\u3057\u305f\u30ed\u30b0\u30a4\u30f3\u624b\u9806\u306f\u3001 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002 PuTTY\u3092\u8d77\u52d5\u3057\u3001SSH\u30c8\u30f3\u30cd\u30eb\u60c5\u5831\u3092\u8a2d\u5b9a \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0( as.abci.ai )\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210 \u5225\u306ePuTTY\u753b\u9762\u3092\u8d77\u52d5\u3057\u3066\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3 Note \u4e8b\u524d\u306b ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u306b\u3066 SSH\u516c\u958b\u9375\u306e\u767b\u9332 \u304c\u5fc5\u8981\u3067\u3059\u3002 SSH\u30c8\u30f3\u30cd\u30eb\u60c5\u5831\u306e\u8a2d\u5b9a PuTTY \u306e\u8d77\u52d5 PuTTY\u3092\u8d77\u52d5\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 SSH\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a \u5de6\u306eCategory\u304b\u3089\u3001 Connection -> SSH -> Tunnels \u3068\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304d\u3001Tunnles\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\u8868\u793a\u3055\u308c\u305fSSH\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a\u9805\u76ee\u306b\u3001\u4ee5\u4e0b\u8868\u306e\u8a2d\u5b9a\u5024\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u30dd\u30fc\u30c8\u756a\u53f7\u306f\u304a\u4f7f\u3044\u306e\u30b7\u30b9\u30c6\u30e0\u3067\u8a31\u5bb9\u3055\u308c\u3066\u3044\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u4e2d\u304b\u3089\u4efb\u610f\u306e\u5024\u3092\u8a2d\u5b9a\u53ef\u80fd\u3067\u3059\u304c\u3001\u4ed6\u306e\u8a2d\u5b9a\u306f\u56fa\u5b9a\u5024\u3067\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30ed\u30fc\u30ab\u30eb\u306e\u30dd\u30fc\u30c8 \u30b7\u30b9\u30c6\u30e0\u3067\u8a31\u3055\u308c\u3066\u3044\u308b\u4efb\u610f\u306e\u30dd\u30fc\u30c8\u756a\u53f7 (\u753b\u9762\u4f8b: 11022) \u30ea\u30e2\u30fc\u30c8\u5074\u30db\u30b9\u30c8 es.abci.local:22 \u307e\u305f\u306f es:22 (\u753b\u9762\u4f8b: es.abci.local:22 ) \u30dd\u30fc\u30c8 22 (\u56fa\u5b9a\u5024) [Add]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a \u3053\u3053\u3067\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306e\u63a5\u7d9a\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u8a8d\u8a3c\u8a2d\u5b9a\uff08\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\uff09 \u5de6\u306eCategory\u304b\u3089\u3001 Connection -> SSH -> Auth\u3092\u9078\u629e\u3057\u307e\u3059\u3002\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u79d8\u5bc6\u9375\u30d5\u30a1\u30a4\u30eb \u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u79d8\u5bc6\u9375\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9 \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u30ed\u30b0\u30a4\u30f3 \u5de6\u306eCategory\u304b\u3089Session\u3092\u9078\u629e\u3057\u3001\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u60c5\u5831\u3092\u5165\u529b\u3057\u307e\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30db\u30b9\u30c8\u540d as.abci.ai \u5165\u529b\u304c\u5b8c\u4e86\u3057\u305f\u3089[Open]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002 ABCI\u30a2\u30ab\u30a6\u30f3\u30c8\u304a\u3088\u3073\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3057\u3001\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u306b\u6210\u529f\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002ABCI\u306b\u30ed\u30b0\u30a4\u30f3\u4e2d\u306f\u3001\u3053\u306e\u30ed\u30b0\u30a4\u30f3\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7dad\u6301\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Warning \u753b\u9762\u4e0a\u3067\u4f55\u3089\u304b\u306e\u30ad\u30fc\u3092\u5165\u529b\u3059\u308b\u3068SSH\u63a5\u7d9a\u304c\u5207\u65ad\u3055\u308c\u3066\u3057\u307e\u3059\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a \u3053\u3053\u3067\u306f\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u8a8d\u8a3c\u8a2d\u5b9a\uff08\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\uff09 \u65b0\u898f\u306bPuTTY\u3092\u8d77\u52d5\u3057\u3001SSH\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306e\u8a8d\u8a3c\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3068\u540c\u3058\u3067\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306e\u8a8d\u8a3c\u65b9\u6cd5 \u3092\u53c2\u7167\u3057\u3001SSH\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3 \u5de6\u306eCategory\u304b\u3089Session\u3092\u9078\u629e\u3057\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u60c5\u5831\u3092\u5165\u529b\u3057\u307e\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30db\u30b9\u30c8\u540d localhost TCP\u30dd\u30fc\u30c8 SSH\u30c8\u30f3\u30cd\u30eb\u60c5\u5831\u306e\u8a2d\u5b9a \u3067\u8a2d\u5b9a\u3057\u305f\u30dd\u30fc\u30c8\u756a\u53f7 (\u753b\u9762\u4f8b: 11022) \u5165\u529b\u304c\u5b8c\u4e86\u3057\u305f\u3089[Open]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002 \u30ed\u30b0\u30a4\u30f3\u306b\u6210\u529f\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002","title":"PuTTY\u306e\u5229\u7528"},{"location":"tips/putty/#putty","text":"\u3053\u3053\u3067\u306f\u3001Windows\u3067\u5229\u7528\u53ef\u80fd\u306aSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u3042\u308b\u3001PuTTY\u3092\u7528\u3044\u305f\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u624b\u9806\u3092\u793a\u3057\u307e\u3059\u3002OpenSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306a\u3069\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30d9\u30fc\u30b9\u306eSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u5229\u7528\u3057\u305f\u30ed\u30b0\u30a4\u30f3\u624b\u9806\u306f\u3001 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u306f\u3001\u4ee5\u4e0b\u306e\u624b\u9806\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002 PuTTY\u3092\u8d77\u52d5\u3057\u3001SSH\u30c8\u30f3\u30cd\u30eb\u60c5\u5831\u3092\u8a2d\u5b9a \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0( as.abci.ai )\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210 \u5225\u306ePuTTY\u753b\u9762\u3092\u8d77\u52d5\u3057\u3066\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3 Note \u4e8b\u524d\u306b ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u306b\u3066 SSH\u516c\u958b\u9375\u306e\u767b\u9332 \u304c\u5fc5\u8981\u3067\u3059\u3002","title":"PuTTY\u306e\u5229\u7528"},{"location":"tips/putty/#ssh-tunnel-with-putty","text":"PuTTY \u306e\u8d77\u52d5 PuTTY\u3092\u8d77\u52d5\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002 SSH\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a \u5de6\u306eCategory\u304b\u3089\u3001 Connection -> SSH -> Tunnels \u3068\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304d\u3001Tunnles\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\u8868\u793a\u3055\u308c\u305fSSH\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a\u9805\u76ee\u306b\u3001\u4ee5\u4e0b\u8868\u306e\u8a2d\u5b9a\u5024\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u30dd\u30fc\u30c8\u756a\u53f7\u306f\u304a\u4f7f\u3044\u306e\u30b7\u30b9\u30c6\u30e0\u3067\u8a31\u5bb9\u3055\u308c\u3066\u3044\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u4e2d\u304b\u3089\u4efb\u610f\u306e\u5024\u3092\u8a2d\u5b9a\u53ef\u80fd\u3067\u3059\u304c\u3001\u4ed6\u306e\u8a2d\u5b9a\u306f\u56fa\u5b9a\u5024\u3067\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30ed\u30fc\u30ab\u30eb\u306e\u30dd\u30fc\u30c8 \u30b7\u30b9\u30c6\u30e0\u3067\u8a31\u3055\u308c\u3066\u3044\u308b\u4efb\u610f\u306e\u30dd\u30fc\u30c8\u756a\u53f7 (\u753b\u9762\u4f8b: 11022) \u30ea\u30e2\u30fc\u30c8\u5074\u30db\u30b9\u30c8 es.abci.local:22 \u307e\u305f\u306f es:22 (\u753b\u9762\u4f8b: es.abci.local:22 ) \u30dd\u30fc\u30c8 22 (\u56fa\u5b9a\u5024) [Add]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u8a2d\u5b9a\u3092\u8ffd\u52a0\u3057\u307e\u3059\u3002","title":"SSH\u30c8\u30f3\u30cd\u30eb\u60c5\u5831\u306e\u8a2d\u5b9a"},{"location":"tips/putty/#login-to-access-server-with-putty","text":"\u3053\u3053\u3067\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306e\u63a5\u7d9a\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u8a8d\u8a3c\u8a2d\u5b9a\uff08\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\uff09 \u5de6\u306eCategory\u304b\u3089\u3001 Connection -> SSH -> Auth\u3092\u9078\u629e\u3057\u307e\u3059\u3002\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u79d8\u5bc6\u9375\u30d5\u30a1\u30a4\u30eb \u8a8d\u8a3c\u306b\u4f7f\u7528\u3059\u308b\u79d8\u5bc6\u9375\u30d5\u30a1\u30a4\u30eb\u306e\u30d1\u30b9 \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u30ed\u30b0\u30a4\u30f3 \u5de6\u306eCategory\u304b\u3089Session\u3092\u9078\u629e\u3057\u3001\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u60c5\u5831\u3092\u5165\u529b\u3057\u307e\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30db\u30b9\u30c8\u540d as.abci.ai \u5165\u529b\u304c\u5b8c\u4e86\u3057\u305f\u3089[Open]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002 ABCI\u30a2\u30ab\u30a6\u30f3\u30c8\u304a\u3088\u3073\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba\u3092\u5165\u529b\u3057\u3001\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u306b\u6210\u529f\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002ABCI\u306b\u30ed\u30b0\u30a4\u30f3\u4e2d\u306f\u3001\u3053\u306e\u30ed\u30b0\u30a4\u30f3\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7dad\u6301\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Warning \u753b\u9762\u4e0a\u3067\u4f55\u3089\u304b\u306e\u30ad\u30fc\u3092\u5165\u529b\u3059\u308b\u3068SSH\u63a5\u7d9a\u304c\u5207\u65ad\u3055\u308c\u3066\u3057\u307e\u3059\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a"},{"location":"tips/putty/#login-to-interactive-node-with-putty","text":"\u3053\u3053\u3067\u306f\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u8a8d\u8a3c\u8a2d\u5b9a\uff08\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\uff09 \u65b0\u898f\u306bPuTTY\u3092\u8d77\u52d5\u3057\u3001SSH\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306e\u8a8d\u8a3c\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3068\u540c\u3058\u3067\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306e\u8a8d\u8a3c\u65b9\u6cd5 \u3092\u53c2\u7167\u3057\u3001SSH\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3 \u5de6\u306eCategory\u304b\u3089Session\u3092\u9078\u629e\u3057\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u60c5\u5831\u3092\u5165\u529b\u3057\u307e\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30db\u30b9\u30c8\u540d localhost TCP\u30dd\u30fc\u30c8 SSH\u30c8\u30f3\u30cd\u30eb\u60c5\u5831\u306e\u8a2d\u5b9a \u3067\u8a2d\u5b9a\u3057\u305f\u30dd\u30fc\u30c8\u756a\u53f7 (\u753b\u9762\u4f8b: 11022) \u5165\u529b\u304c\u5b8c\u4e86\u3057\u305f\u3089[Open]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002 \u30ed\u30b0\u30a4\u30f3\u306b\u6210\u529f\u3059\u308b\u3068\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306a\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002","title":"\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a"},{"location":"tips/remote-desktop/","text":"\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u5229\u7528 \u3053\u3053\u3067\u306f\u3001VNC (Virtual Network Computing) \u3092\u7528\u3044\u305f\u3001ABCI\u3067\u306e\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u5229\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u3067GUI\u306e\u5229\u7528\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002 \u524d\u6e96\u5099 ABCI\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 \u30ed\u30b0\u30a4\u30f3\u306e\u65b9\u6cd5\u306f\u3001 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 vncserver\u3092\u8d77\u52d5\u3057\u3001VNC\u30b5\u30fc\u30d0\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3069\u306e\u521d\u671f\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ vncserver You will require a password to access your desktops . Password : Verify : Would you like to enter a view - only password ( y / n ) ? n New 'es1.abci.local:1 (username)' desktop is es1 . abci . local : 1 Creating default startup script / home / username / . vnc / xstartup Creating default config / home / username / . vnc / config Starting applications specified in / home / username / . vnc / xstartup Log file is / home / username / . vnc / es4 . abci . local : 1. log \u4e00\u65e6\u7d42\u4e86\u3057\u307e\u3059\u3002 [ username@g0001 ~ ] vncserver - kill : 1 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u3044\u304f\u3064\u304b\u4fee\u6b63\u3057\u307e\u3059\u3002 $HOME/.vnc/xstartup \u3092\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u7de8\u96c6\u3057\u307e\u3059\u3002 1 2 3 4 5 6 7 8 #!/bin/sh unset SESSION_MANAGER unset DBUS_SESSION_BUS_ADDRESS #exec /etc/X11/xinit/xinitrc xrdb $HOME /.Xresources startxfce4 & \u5fc5\u8981\u306b\u5fdc\u3058\u3066 $HOME/.vnc/config \u3067\u30b9\u30af\u30ea\u30fc\u30f3\u30b5\u30a4\u30ba\u3092\u5909\u66f4\u3057\u3066\u304a\u304d\u307e\u3059\u3002 geometry = 2000 x1200 \uff08\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\uff09ABCI\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [ user@localmachine ] $ ssh - J % r @as . abci . ai username @es On-demand\u3001\u30ce\u30fc\u30c9\u5c02\u6709\u30671\u30ce\u30fc\u30c9\u78ba\u4fdd\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [ username@g0001 ~ ] $ qrsh - g grpname - l rt_F = 1 vncserver\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 [ username@g0001 ~ ] vncserver New 'g0001.abci.local:1 (username)' desktop is g0001 . abci . local : 1 Starting applications specified in / home / username / . vnc / xstartup Log file is / home / username / . vnc / g0001 . abci . local : 1. log [ username@g0001 ~ ] g0001.abci.local:1 \u304c\u8d77\u52d5\u3057\u305fVNC\u30b5\u30fc\u30d0\u306e\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u540d\u3067\u3059\u3002\u3053\u306eVNC\u30b5\u30fc\u30d0\u306b\u306f5901\u3068\u3044\u3046\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002:2\u306e\u5834\u5408\u306f5902\u3001:3\u306e\u5834\u5408\u306f5903\u3001\u3068\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u756a\u53f7\u306b5900\u3092\u52a0\u3048\u305f\u30dd\u30fc\u30c8\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002 \u8d77\u52d5\u624b\u9806 \u3053\u3053\u3067\u306f\u3001\u3088\u304f\u5229\u7528\u3055\u308c\u308bSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u306e\u8d77\u52d5\u624b\u9806\u3068\u3001Windows\u3067\u5229\u7528\u3055\u308c\u308bTera Term\u3084PuTTY\u3067\u306e\u8d77\u52d5\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u5229\u7528 Linux\u3001macOS\u3092\u542b\u3080UNIX\u7cfbOS\u3001Windows 10 version 1803 (April 2018 Update)\u4ee5\u964d\u306a\u3069\u3001\u307b\u3068\u3093\u3069\u306ePC\u306b\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089 ssh \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u6e08\u307f\u307e\u3059\u3002 SSH\u30c8\u30f3\u30cd\u30eb\u306e\u8a2d\u5b9a \u30ed\u30fc\u30ab\u30ebPC\u306e\u30dd\u30fc\u30c85901\u3092\u4f7f\u3063\u3066VNC\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5834\u5408\u3001 localhost:5901 \u3068 g0001.abci.local:5901 \u306e\u9593\u306eSSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 ProxyJump\u304c\u5229\u7528\u53ef\u80fd\u306aOpenSSH 7.3\u4ee5\u964d\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067SSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002 [ user@localmachine ] $ ssh - N - L 5901 : g0001 . abci . local : 5901 - J % r @as . abci . ai username @es ProxyJump\u304c\u5229\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3059\u308c\u3070\u540c\u69d8\u306bSSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002 [ user@localmachine ] $ ssh - L 10022 : es : 22 - l username as . abci . ai [ user@localmachine ] $ ssh - p 10022 - N - L 5901 : g0001 . abci . local : 5901 - l username localhost VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u8d77\u52d5 macOS\u3067\u306f\u3001Finder\u306bVNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u7d71\u5408\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u8d77\u52d5\u3067\u304d\u307e\u3059\u3002 [ user@localmachine ] $ open vnc : // localhost : 5901 / macOS\u4ee5\u5916\u306eOS\u3067\u306f\u3001\u5225\u9014VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Tera Term \u3084 PuTTY\u306e\u5229\u7528 SSH\u30c8\u30f3\u30cd\u30eb\u306e\u8a2d\u5b9a Tera Term \u3084 PuTTY \u306a\u3069\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002 Tera Term \u306e\u5834\u5408 [\u8a2d\u5b9a] -> [SSH\u8ee2\u9001] \u3092\u30af\u30ea\u30c3\u30af\u3057SSH\u8ee2\u9001\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u753b\u9762\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u6b21\u306b\u3001[\u8ffd\u52a0]\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u8868\u793a\u3055\u308c\u308b SSH\u8ee2\u9001\u753b\u9762\u3067\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30ed\u30fc\u30ab\u30eb\u306e\u30dd\u30fc\u30c8 \u30b7\u30b9\u30c6\u30e0\u3067\u8a31\u3055\u308c\u3066\u3044\u308b\u4efb\u610f\u306e\u30dd\u30fc\u30c8\u756a\u53f7 \uff08\u4f8b:15901\uff09 \u30ea\u30e2\u30fc\u30c8\u5074\u30db\u30b9\u30c8 \u8a08\u7b97\u30ce\u30fc\u30c9 (\u4f8b:g0001) \u30ea\u30e2\u30fc\u30c8\u5074\u30dd\u30fc\u30c8 VNC\u30b5\u30fc\u30d0\u306e\u30dd\u30fc\u30c8\u756a\u53f7 \uff08\u4f8b:5901\uff09 PuTTY \u306e\u5834\u5408 \u30bf\u30a4\u30c8\u30eb\u30d0\u30fc\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001[Change Settings...]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\u8868\u793a\u3055\u308c\u308b\u8a2d\u5b9a\u30e1\u30cb\u30e5\u30fc\u306eCategory\u304b\u3089\u3001SSH->Tunnels\u3092\u9078\u629e\u3057\u3001\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30ed\u30fc\u30ab\u30eb\u306e\u30dd\u30fc\u30c8 \u30b7\u30b9\u30c6\u30e0\u3067\u8a31\u3055\u308c\u3066\u3044\u308b\u4efb\u610f\u306e\u30dd\u30fc\u30c8\u756a\u53f7 \uff08\u4f8b:15901\uff09 \u30ea\u30e2\u30fc\u30c8\u5074\u30db\u30b9\u30c8\uff1a\u30dd\u30fc\u30c8 \u8a08\u7b97\u30ce\u30fc\u30c9\u3068VNC\u30b5\u30fc\u30d0\u306e\u30dd\u30fc\u30c8\u756a\u53f7 (\u4f8b:g0123:5901) VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u8d77\u52d5 \u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002TigerVNC Client\u306e\u4f8b\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306blocalhost\u306b\"::\"\u3067\u30dd\u30fc\u30c8\u756a\u53f7\u3064\u306a\u3052\u3066\u5165\u529b\u3057\u307e\u3059\u3002 \u7d42\u4e86\u624b\u9806 VNC\u30b5\u30fc\u30d0\u3092\u7d42\u4e86\u3057\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u304b\u3089exit\u3057\u307e\u3059\u3002 [ username @ g0001 ~ ]$ vncserver - list TigerVNC server sessions : X DISPLAY # PROCESS ID :1 5081 [ username @ g0001 ~ ] vncserver - kill : 1 Killing Xvnc process ID XXXXXX [ username @ g0001 ~ ] exit [ username @ es1 ~ ]","title":"\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u5229\u7528"},{"location":"tips/remote-desktop/#_1","text":"\u3053\u3053\u3067\u306f\u3001VNC (Virtual Network Computing) \u3092\u7528\u3044\u305f\u3001ABCI\u3067\u306e\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u5229\u7528\u65b9\u6cd5\u306b\u3064\u3044\u3066\u8aac\u660e\u3057\u307e\u3059\u3002\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u3092\u4f7f\u3046\u3053\u3068\u3067\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u3067GUI\u306e\u5229\u7528\u304c\u53ef\u80fd\u306b\u306a\u308a\u307e\u3059\u3002","title":"\u30ea\u30e2\u30fc\u30c8\u30c7\u30b9\u30af\u30c8\u30c3\u30d7\u306e\u5229\u7528"},{"location":"tips/remote-desktop/#preparation","text":"ABCI\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 \u30ed\u30b0\u30a4\u30f3\u306e\u65b9\u6cd5\u306f\u3001 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3 \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 vncserver\u3092\u8d77\u52d5\u3057\u3001VNC\u30b5\u30fc\u30d0\u306e\u30d1\u30b9\u30ef\u30fc\u30c9\u306a\u3069\u306e\u521d\u671f\u8a2d\u5b9a\u3092\u3057\u307e\u3059\u3002 [ username@es1 ~ ] $ vncserver You will require a password to access your desktops . Password : Verify : Would you like to enter a view - only password ( y / n ) ? n New 'es1.abci.local:1 (username)' desktop is es1 . abci . local : 1 Creating default startup script / home / username / . vnc / xstartup Creating default config / home / username / . vnc / config Starting applications specified in / home / username / . vnc / xstartup Log file is / home / username / . vnc / es4 . abci . local : 1. log \u4e00\u65e6\u7d42\u4e86\u3057\u307e\u3059\u3002 [ username@g0001 ~ ] vncserver - kill : 1 \u8a2d\u5b9a\u30d5\u30a1\u30a4\u30eb\u3092\u3044\u304f\u3064\u304b\u4fee\u6b63\u3057\u307e\u3059\u3002 $HOME/.vnc/xstartup \u3092\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u7de8\u96c6\u3057\u307e\u3059\u3002 1 2 3 4 5 6 7 8 #!/bin/sh unset SESSION_MANAGER unset DBUS_SESSION_BUS_ADDRESS #exec /etc/X11/xinit/xinitrc xrdb $HOME /.Xresources startxfce4 & \u5fc5\u8981\u306b\u5fdc\u3058\u3066 $HOME/.vnc/config \u3067\u30b9\u30af\u30ea\u30fc\u30f3\u30b5\u30a4\u30ba\u3092\u5909\u66f4\u3057\u3066\u304a\u304d\u307e\u3059\u3002 geometry = 2000 x1200 \uff08\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u306a\u3044\u5834\u5408\u306f\uff09ABCI\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [ user@localmachine ] $ ssh - J % r @as . abci . ai username @es On-demand\u3001\u30ce\u30fc\u30c9\u5c02\u6709\u30671\u30ce\u30fc\u30c9\u78ba\u4fdd\u3057\u3066\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002 [ username@g0001 ~ ] $ qrsh - g grpname - l rt_F = 1 vncserver\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002 [ username@g0001 ~ ] vncserver New 'g0001.abci.local:1 (username)' desktop is g0001 . abci . local : 1 Starting applications specified in / home / username / . vnc / xstartup Log file is / home / username / . vnc / g0001 . abci . local : 1. log [ username@g0001 ~ ] g0001.abci.local:1 \u304c\u8d77\u52d5\u3057\u305fVNC\u30b5\u30fc\u30d0\u306e\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u540d\u3067\u3059\u3002\u3053\u306eVNC\u30b5\u30fc\u30d0\u306b\u306f5901\u3068\u3044\u3046\u30dd\u30fc\u30c8\u756a\u53f7\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002:2\u306e\u5834\u5408\u306f5902\u3001:3\u306e\u5834\u5408\u306f5903\u3001\u3068\u30c7\u30a3\u30b9\u30d7\u30ec\u30a4\u756a\u53f7\u306b5900\u3092\u52a0\u3048\u305f\u30dd\u30fc\u30c8\u304c\u5272\u308a\u5f53\u3066\u3089\u308c\u307e\u3059\u3002","title":"\u524d\u6e96\u5099"},{"location":"tips/remote-desktop/#start-vnc","text":"\u3053\u3053\u3067\u306f\u3001\u3088\u304f\u5229\u7528\u3055\u308c\u308bSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u306e\u8d77\u52d5\u624b\u9806\u3068\u3001Windows\u3067\u5229\u7528\u3055\u308c\u308bTera Term\u3084PuTTY\u3067\u306e\u8d77\u52d5\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002","title":"\u8d77\u52d5\u624b\u9806"},{"location":"tips/remote-desktop/#using-an-ssh-client","text":"Linux\u3001macOS\u3092\u542b\u3080UNIX\u7cfbOS\u3001Windows 10 version 1803 (April 2018 Update)\u4ee5\u964d\u306a\u3069\u3001\u307b\u3068\u3093\u3069\u306ePC\u306b\u306f\u3001\u30c7\u30d5\u30a9\u30eb\u30c8\u3067SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u307e\u3059\u3002\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u304b\u3069\u3046\u304b\u3092\u78ba\u8a8d\u3059\u308b\u306b\u306f\u3001\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u304b\u3089 ssh \u30b3\u30de\u30f3\u30c9\u3092\u5b9f\u884c\u3059\u308b\u3060\u3051\u3067\u6e08\u307f\u307e\u3059\u3002","title":"SSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u5229\u7528"},{"location":"tips/remote-desktop/#create-an-ssh-tunnel","text":"\u30ed\u30fc\u30ab\u30ebPC\u306e\u30dd\u30fc\u30c85901\u3092\u4f7f\u3063\u3066VNC\u30b5\u30fc\u30d0\u306b\u63a5\u7d9a\u3067\u304d\u308b\u3088\u3046\u306b\u3059\u308b\u5834\u5408\u3001 localhost:5901 \u3068 g0001.abci.local:5901 \u306e\u9593\u306eSSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 ProxyJump\u304c\u5229\u7528\u53ef\u80fd\u306aOpenSSH 7.3\u4ee5\u964d\u304c\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3055\u308c\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3059\u308b\u3053\u3068\u3067SSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002 [ user@localmachine ] $ ssh - N - L 5901 : g0001 . abci . local : 5901 - J % r @as . abci . ai username @es ProxyJump\u304c\u5229\u7528\u3067\u304d\u306a\u3044\u5834\u5408\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306b\u5b9f\u884c\u3059\u308c\u3070\u540c\u69d8\u306bSSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210\u3067\u304d\u307e\u3059\u3002 [ user@localmachine ] $ ssh - L 10022 : es : 22 - l username as . abci . ai [ user@localmachine ] $ ssh - p 10022 - N - L 5901 : g0001 . abci . local : 5901 - l username localhost","title":"SSH\u30c8\u30f3\u30cd\u30eb\u306e\u8a2d\u5b9a"},{"location":"tips/remote-desktop/#launch-vnc-client","text":"macOS\u3067\u306f\u3001Finder\u306bVNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u304c\u7d71\u5408\u3055\u308c\u3066\u3044\u308b\u305f\u3081\u3001\u4ee5\u4e0b\u306e\u30b3\u30de\u30f3\u30c9\u3067\u8d77\u52d5\u3067\u304d\u307e\u3059\u3002 [ user@localmachine ] $ open vnc : // localhost : 5901 / macOS\u4ee5\u5916\u306eOS\u3067\u306f\u3001\u5225\u9014VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u30a4\u30f3\u30b9\u30c8\u30fc\u30eb\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002","title":"VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u8d77\u52d5"},{"location":"tips/remote-desktop/#tera-term-and-putty","text":"","title":"Tera Term \u3084 PuTTY\u306e\u5229\u7528"},{"location":"tips/remote-desktop/#ssh-tunnel_1","text":"Tera Term \u3084 PuTTY \u306a\u3069\u3067\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3044\u308b\u5834\u5408\u306f\u3001\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a\u3092\u884c\u3044\u307e\u3059\u3002 Tera Term \u306e\u5834\u5408 [\u8a2d\u5b9a] -> [SSH\u8ee2\u9001] \u3092\u30af\u30ea\u30c3\u30af\u3057SSH\u8ee2\u9001\u306e\u30bb\u30c3\u30c8\u30a2\u30c3\u30d7\u753b\u9762\u3092\u8868\u793a\u3057\u307e\u3059\u3002\u6b21\u306b\u3001[\u8ffd\u52a0]\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u8868\u793a\u3055\u308c\u308b SSH\u8ee2\u9001\u753b\u9762\u3067\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30ed\u30fc\u30ab\u30eb\u306e\u30dd\u30fc\u30c8 \u30b7\u30b9\u30c6\u30e0\u3067\u8a31\u3055\u308c\u3066\u3044\u308b\u4efb\u610f\u306e\u30dd\u30fc\u30c8\u756a\u53f7 \uff08\u4f8b:15901\uff09 \u30ea\u30e2\u30fc\u30c8\u5074\u30db\u30b9\u30c8 \u8a08\u7b97\u30ce\u30fc\u30c9 (\u4f8b:g0001) \u30ea\u30e2\u30fc\u30c8\u5074\u30dd\u30fc\u30c8 VNC\u30b5\u30fc\u30d0\u306e\u30dd\u30fc\u30c8\u756a\u53f7 \uff08\u4f8b:5901\uff09 PuTTY \u306e\u5834\u5408 \u30bf\u30a4\u30c8\u30eb\u30d0\u30fc\u3067\u53f3\u30af\u30ea\u30c3\u30af\u3057\u3001[Change Settings...]\u3092\u30af\u30ea\u30c3\u30af\u3057\u307e\u3059\u3002\u8868\u793a\u3055\u308c\u308b\u8a2d\u5b9a\u30e1\u30cb\u30e5\u30fc\u306eCategory\u304b\u3089\u3001SSH->Tunnels\u3092\u9078\u629e\u3057\u3001\u4ee5\u4e0b\u3092\u8a2d\u5b9a\u3057\u307e\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30ed\u30fc\u30ab\u30eb\u306e\u30dd\u30fc\u30c8 \u30b7\u30b9\u30c6\u30e0\u3067\u8a31\u3055\u308c\u3066\u3044\u308b\u4efb\u610f\u306e\u30dd\u30fc\u30c8\u756a\u53f7 \uff08\u4f8b:15901\uff09 \u30ea\u30e2\u30fc\u30c8\u5074\u30db\u30b9\u30c8\uff1a\u30dd\u30fc\u30c8 \u8a08\u7b97\u30ce\u30fc\u30c9\u3068VNC\u30b5\u30fc\u30d0\u306e\u30dd\u30fc\u30c8\u756a\u53f7 (\u4f8b:g0123:5901)","title":"SSH\u30c8\u30f3\u30cd\u30eb\u306e\u8a2d\u5b9a"},{"location":"tips/remote-desktop/#run-vnc-client_1","text":"\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u8d77\u52d5\u3057\u307e\u3059\u3002TigerVNC Client\u306e\u4f8b\u3067\u306f\u3001\u4ee5\u4e0b\u306e\u3088\u3046\u306blocalhost\u306b\"::\"\u3067\u30dd\u30fc\u30c8\u756a\u53f7\u3064\u306a\u3052\u3066\u5165\u529b\u3057\u307e\u3059\u3002","title":"VNC\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306e\u8d77\u52d5"},{"location":"tips/remote-desktop/#stop-vnc","text":"VNC\u30b5\u30fc\u30d0\u3092\u7d42\u4e86\u3057\u3001\u8a08\u7b97\u30ce\u30fc\u30c9\u304b\u3089exit\u3057\u307e\u3059\u3002 [ username @ g0001 ~ ]$ vncserver - list TigerVNC server sessions : X DISPLAY # PROCESS ID :1 5081 [ username @ g0001 ~ ] vncserver - kill : 1 Killing Xvnc process ID XXXXXX [ username @ g0001 ~ ] exit [ username @ es1 ~ ]","title":"\u7d42\u4e86\u624b\u9806"},{"location":"tips/tera-term/","text":"Tera Term\u306e\u5229\u7528 \u3053\u3053\u3067\u306f\u3001Windows\u306a\u5229\u7528\u53ef\u80fd\u306aSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u3042\u308b\u3001Tera Term\u3092\u7528\u3044\u305f\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u624b\u9806\u3092\u793a\u3057\u307e\u3059\u3002OpenSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306a\u3069\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30d9\u30fc\u30b9\u306eSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u5229\u7528\u3057\u305f\u30ed\u30b0\u30a4\u30f3\u624b\u9806\u306f\u3001 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u306f\u3001\u4ee5\u4e0b\u624b\u9806\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002 Tera Term\u3092\u8d77\u52d5\u3057\u3001SSH\u30c8\u30f3\u30cd\u30eb\u60c5\u5831\u3092\u8a2d\u5b9a \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0( as.abci.ai )\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210 \u5225\u306eTera Term\u753b\u9762\u3092\u8d77\u52d5\u3057\u3066\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3 Note \u4e8b\u524d\u306b ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u306b\u3066 SSH\u516c\u958b\u9375\u306e\u767b\u9332 \u304c\u5fc5\u8981\u3067\u3059\u3002 SSH\u30c8\u30f3\u30cd\u30eb\u60c5\u5831\u306e\u8a2d\u5b9a Tera Term \u306e\u8d77\u52d5 Tera Term\u8d77\u52d5\u76f4\u5f8c\u306b\u8868\u793a\u3055\u308c\u308b\u65b0\u3057\u3044\u63a5\u7d9a\u753b\u9762\u306f[\u30ad\u30e3\u30f3\u30bb\u30eb]\u30dc\u30bf\u30f3\u3067\u9589\u3058\u3001\u672a\u63a5\u7d9a\u306eTera Term\u3092\u753b\u9762\u3092\u6b8b\u3057\u307e\u3059\u3002 \u2193 SSH\u30dd\u30fc\u30c8\u8ee2\u9001\u753b\u9762\u306e\u8868\u793a Tera Term\u306e[\u8a2d\u5b9a]\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304d[SSH\u8ee2\u9001]\u3092\u9078\u629e\u3057\u3001SSH\u30dd\u30fc\u30c8\u8ee2\u9001\u753b\u9762\u3092\u8868\u793a\u3057\u307e\u3059\u3002 \u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8ffd\u52a0 [\u8ffd\u52a0]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001SSH\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a\u753b\u9762\u3092\u8868\u793a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 SSH\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a SSH\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a\u753b\u9762\u3067\u4ee5\u4e0b\u306e\u8868\u306e\u8a2d\u5b9a\u5024\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u30ed\u30fc\u30ab\u30eb\u306e\u30dd\u30fc\u30c8\u306f\u304a\u4f7f\u3044\u306e\u30b7\u30b9\u30c6\u30e0\u3067\u8a31\u5bb9\u3055\u308c\u3066\u3044\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u4e2d\u304b\u3089\u4efb\u610f\u306e\u5024\u3092\u8a2d\u5b9a\u53ef\u80fd\u3067\u3059\u304c\u3001\u4ed6\u8a2d\u5b9a\u306f\u56fa\u5b9a\u5024\u3067\u3059\u3002\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001[OK]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u524d\u306e\u753b\u9762\u306b\u623b\u308a\u307e\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30ed\u30fc\u30ab\u30eb\u306e\u30dd\u30fc\u30c8 \u30b7\u30b9\u30c6\u30e0\u3067\u8a31\u3055\u308c\u3066\u3044\u308b\u4efb\u610f\u306e\u30dd\u30fc\u30c8\u756a\u53f7 (\u4f8b: 10022) \u30ea\u30e2\u30fc\u30c8\u5074\u30db\u30b9\u30c8 es.abci.local \u307e\u305f\u306f es (\u56fa\u5b9a\u5024) \u30dd\u30fc\u30c8 22 \uff08\u56fa\u5b9a\u5024\uff09 \u8a2d\u5b9a\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3001[OK]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066Tera Term \u306e\u753b\u9762\u306b\u623b\u308a\u307e\u3059\u3002 Warning Tera Term\u306e\u753b\u9762\u306f\u9589\u3058\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u753b\u9762\u3092\u4f7f\u3063\u3066\u3001\u6b21\u7bc0\u3067\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a\u3092\u884c\u3044\u307e\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a \u3053\u3053\u3067\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306e\u63a5\u7d9a\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u63a5\u7d9a\u60c5\u5831\u306e\u5165\u529b\u753b\u9762\u306e\u8868\u793a \u524d\u7ae0\u3067\u8a2d\u5b9a\u3057\u305fTera Term\u306e[\u30d5\u30a1\u30a4\u30eb]\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304d\u3001[\u65b0\u3057\u3044\u63a5\u7d9a]\u753b\u9762\u3092\u8868\u793a\u3057\u307e\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u65b0\u898f\u63a5\u7d9a \u63a5\u7d9a\u5148\u306b\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\uff08 as.abci.ai \uff09\u3092\u6307\u5b9a\u3057\u3001SSH\u3067\u63a5\u7d9a\u3057\u307e\u3059\u3002\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30db\u30b9\u30c8 as.abci.ai TCP\u30dd\u30fc\u30c8 22 \u30b5\u30fc\u30d3\u30b9 ssh \u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001[OK]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066SSH\u306e\u8a8d\u8a3c\u306b\u79fb\u308a\u307e\u3059\u3002 \u8a8d\u8a3c\uff08\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\uff09 SSH\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30e6\u30fc\u30b6\u540d ABCI\u30a2\u30ab\u30a6\u30f3\u30c8 \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba \u79d8\u5bc6\u9375\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba \u8a8d\u8a3c\u65b9\u6cd5 RSA/DSA/ECDSA\u9375\u3092\u3064\u304b\u3046\u306b\u30c1\u30a7\u30c3\u30af \u79d8\u5bc6\u9375 \u767b\u9332\u3057\u305f\u516c\u958b\u9375\u306e\u79d8\u5bc6\u9375\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9 \u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001[OK]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u306b\u6210\u529f\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002ABCI\u306b\u30ed\u30b0\u30a4\u30f3\u4e2d\u306f\u3001\u3053\u306e\u30ed\u30b0\u30a4\u30f3\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7dad\u6301\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Warning \u753b\u9762\u4e0a\u3067\u4f55\u3089\u304b\u306e\u30ad\u30fc\u3092\u5165\u529b\u3059\u308b\u3068SSH\u63a5\u7d9a\u304c\u5207\u65ad\u3055\u308c\u3066\u3057\u307e\u3059\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a \u3053\u3053\u3067\u306f\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 Tera Term\u306e\u8d77\u52d5\u3068\u63a5\u7d9a\u8a2d\u5b9a \u65b0\u898f\u306bTera Term\u3092\u8d77\u52d5\u3057\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30db\u30b9\u30c8 localhost(\u56fa\u5b9a\uff09 TCP\u30dd\u30fc\u30c8 SSH\u30c8\u30f3\u30cd\u30eb\u60c5\u5831\u306e\u8a2d\u5b9a \u3067\u8a2d\u5b9a\u3057\u305f\u30dd\u30fc\u30c8\u756a\u53f7 (\u753b\u9762\u4f8b: 10022) \u30b5\u30fc\u30d3\u30b9 ssh \uff08\u56fa\u5b9a\uff09 \u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001[OK]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001SSH\u306e\u8a8d\u8a3c\u306b\u79fb\u308a\u307e\u3059\u3002 \u8a8d\u8a3c\uff08\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\uff09 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306e\u8a8d\u8a3c\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3068\u540c\u3058\u3067\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306e\u8a8d\u8a3c\u65b9\u6cd5 \u3092\u53c2\u7167\u3057\u3001SSH\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001[OK]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30ed\u30b0\u30a4\u30f3\u306b\u6210\u529f\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002","title":"Tera Term\u306e\u5229\u7528"},{"location":"tips/tera-term/#tera-term","text":"\u3053\u3053\u3067\u306f\u3001Windows\u306a\u5229\u7528\u53ef\u80fd\u306aSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3067\u3042\u308b\u3001Tera Term\u3092\u7528\u3044\u305f\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u624b\u9806\u3092\u793a\u3057\u307e\u3059\u3002OpenSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u306a\u3069\u30b3\u30de\u30f3\u30c9\u30e9\u30a4\u30f3\u30d9\u30fc\u30b9\u306eSSH\u30af\u30e9\u30a4\u30a2\u30f3\u30c8\u3092\u5229\u7528\u3057\u305f\u30ed\u30b0\u30a4\u30f3\u624b\u9806\u306f\u3001 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a \u3092\u53c2\u7167\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u30ed\u30b0\u30a4\u30f3\u306f\u3001\u4ee5\u4e0b\u624b\u9806\u3067\u5b9f\u65bd\u3057\u307e\u3059\u3002 Tera Term\u3092\u8d77\u52d5\u3057\u3001SSH\u30c8\u30f3\u30cd\u30eb\u60c5\u5831\u3092\u8a2d\u5b9a \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0( as.abci.ai )\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u4f5c\u6210 \u5225\u306eTera Term\u753b\u9762\u3092\u8d77\u52d5\u3057\u3066\u3001SSH\u30c8\u30f3\u30cd\u30eb\u3092\u7528\u3044\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3 Note \u4e8b\u524d\u306b ABCI\u5229\u7528\u30dd\u30fc\u30bf\u30eb \u306b\u3066 SSH\u516c\u958b\u9375\u306e\u767b\u9332 \u304c\u5fc5\u8981\u3067\u3059\u3002","title":"Tera Term\u306e\u5229\u7528"},{"location":"tips/tera-term/#ssh-tunnel","text":"Tera Term \u306e\u8d77\u52d5 Tera Term\u8d77\u52d5\u76f4\u5f8c\u306b\u8868\u793a\u3055\u308c\u308b\u65b0\u3057\u3044\u63a5\u7d9a\u753b\u9762\u306f[\u30ad\u30e3\u30f3\u30bb\u30eb]\u30dc\u30bf\u30f3\u3067\u9589\u3058\u3001\u672a\u63a5\u7d9a\u306eTera Term\u3092\u753b\u9762\u3092\u6b8b\u3057\u307e\u3059\u3002 \u2193 SSH\u30dd\u30fc\u30c8\u8ee2\u9001\u753b\u9762\u306e\u8868\u793a Tera Term\u306e[\u8a2d\u5b9a]\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304d[SSH\u8ee2\u9001]\u3092\u9078\u629e\u3057\u3001SSH\u30dd\u30fc\u30c8\u8ee2\u9001\u753b\u9762\u3092\u8868\u793a\u3057\u307e\u3059\u3002 \u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8ffd\u52a0 [\u8ffd\u52a0]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001SSH\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a\u753b\u9762\u3092\u8868\u793a\u3057\u3066\u304f\u3060\u3055\u3044\u3002 SSH\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a SSH\u30dd\u30fc\u30c8\u8ee2\u9001\u306e\u8a2d\u5b9a\u753b\u9762\u3067\u4ee5\u4e0b\u306e\u8868\u306e\u8a2d\u5b9a\u5024\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u30ed\u30fc\u30ab\u30eb\u306e\u30dd\u30fc\u30c8\u306f\u304a\u4f7f\u3044\u306e\u30b7\u30b9\u30c6\u30e0\u3067\u8a31\u5bb9\u3055\u308c\u3066\u3044\u308b\u30dd\u30fc\u30c8\u756a\u53f7\u306e\u4e2d\u304b\u3089\u4efb\u610f\u306e\u5024\u3092\u8a2d\u5b9a\u53ef\u80fd\u3067\u3059\u304c\u3001\u4ed6\u8a2d\u5b9a\u306f\u56fa\u5b9a\u5024\u3067\u3059\u3002\u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001[OK]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u524d\u306e\u753b\u9762\u306b\u623b\u308a\u307e\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30ed\u30fc\u30ab\u30eb\u306e\u30dd\u30fc\u30c8 \u30b7\u30b9\u30c6\u30e0\u3067\u8a31\u3055\u308c\u3066\u3044\u308b\u4efb\u610f\u306e\u30dd\u30fc\u30c8\u756a\u53f7 (\u4f8b: 10022) \u30ea\u30e2\u30fc\u30c8\u5074\u30db\u30b9\u30c8 es.abci.local \u307e\u305f\u306f es (\u56fa\u5b9a\u5024) \u30dd\u30fc\u30c8 22 \uff08\u56fa\u5b9a\u5024\uff09 \u8a2d\u5b9a\u304c\u8ffd\u52a0\u3055\u308c\u3066\u3044\u308b\u3053\u3068\u3092\u78ba\u8a8d\u3057\u3001[OK]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066Tera Term \u306e\u753b\u9762\u306b\u623b\u308a\u307e\u3059\u3002 Warning Tera Term\u306e\u753b\u9762\u306f\u9589\u3058\u306a\u3044\u3067\u304f\u3060\u3055\u3044\u3002\u3053\u306e\u753b\u9762\u3092\u4f7f\u3063\u3066\u3001\u6b21\u7bc0\u3067\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a\u3092\u884c\u3044\u307e\u3059\u3002","title":"SSH\u30c8\u30f3\u30cd\u30eb\u60c5\u5831\u306e\u8a2d\u5b9a"},{"location":"tips/tera-term/#login-to-access-server","text":"\u3053\u3053\u3067\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306e\u63a5\u7d9a\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 \u63a5\u7d9a\u60c5\u5831\u306e\u5165\u529b\u753b\u9762\u306e\u8868\u793a \u524d\u7ae0\u3067\u8a2d\u5b9a\u3057\u305fTera Term\u306e[\u30d5\u30a1\u30a4\u30eb]\u30e1\u30cb\u30e5\u30fc\u3092\u958b\u304d\u3001[\u65b0\u3057\u3044\u63a5\u7d9a]\u753b\u9762\u3092\u8868\u793a\u3057\u307e\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u65b0\u898f\u63a5\u7d9a \u63a5\u7d9a\u5148\u306b\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\uff08 as.abci.ai \uff09\u3092\u6307\u5b9a\u3057\u3001SSH\u3067\u63a5\u7d9a\u3057\u307e\u3059\u3002\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30db\u30b9\u30c8 as.abci.ai TCP\u30dd\u30fc\u30c8 22 \u30b5\u30fc\u30d3\u30b9 ssh \u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001[OK]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066SSH\u306e\u8a8d\u8a3c\u306b\u79fb\u308a\u307e\u3059\u3002 \u8a8d\u8a3c\uff08\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\uff09 SSH\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u5165\u529b\u3057\u307e\u3059\u3002\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30e6\u30fc\u30b6\u540d ABCI\u30a2\u30ab\u30a6\u30f3\u30c8 \u30d1\u30b9\u30d5\u30ec\u30fc\u30ba \u79d8\u5bc6\u9375\u306e\u30d1\u30b9\u30d5\u30ec\u30fc\u30ba \u8a8d\u8a3c\u65b9\u6cd5 RSA/DSA/ECDSA\u9375\u3092\u3064\u304b\u3046\u306b\u30c1\u30a7\u30c3\u30af \u79d8\u5bc6\u9375 \u767b\u9332\u3057\u305f\u516c\u958b\u9375\u306e\u79d8\u5bc6\u9375\u30d5\u30a1\u30a4\u30eb\u30d1\u30b9 \u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001[OK]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u307e\u3059\u3002\u30ed\u30b0\u30a4\u30f3\u306b\u6210\u529f\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002ABCI\u306b\u30ed\u30b0\u30a4\u30f3\u4e2d\u306f\u3001\u3053\u306e\u30ed\u30b0\u30a4\u30f3\u30bb\u30c3\u30b7\u30e7\u30f3\u3092\u7dad\u6301\u3059\u308b\u5fc5\u8981\u304c\u3042\u308a\u307e\u3059\u3002 Warning \u753b\u9762\u4e0a\u3067\u4f55\u3089\u304b\u306e\u30ad\u30fc\u3092\u5165\u529b\u3059\u308b\u3068SSH\u63a5\u7d9a\u304c\u5207\u65ad\u3055\u308c\u3066\u3057\u307e\u3059\u306e\u3067\u6ce8\u610f\u3057\u3066\u304f\u3060\u3055\u3044\u3002","title":"\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3078\u306e\u63a5\u7d9a"},{"location":"tips/tera-term/#login-to-interactive-node","text":"\u3053\u3053\u3067\u306f\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a\u624b\u9806\u3092\u8aac\u660e\u3057\u307e\u3059\u3002 Tera Term\u306e\u8d77\u52d5\u3068\u63a5\u7d9a\u8a2d\u5b9a \u65b0\u898f\u306bTera Term\u3092\u8d77\u52d5\u3057\u3001\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u63a5\u7d9a\u3057\u307e\u3059\u3002\u8a2d\u5b9a\u306f\u4ee5\u4e0b\u306e\u3068\u304a\u308a\u3067\u3059\u3002 \u9805\u76ee \u753b\u9762\u3068\u8a2d\u5b9a\u5024 \u8a2d\u5b9a\u753b\u9762 \u30db\u30b9\u30c8 localhost(\u56fa\u5b9a\uff09 TCP\u30dd\u30fc\u30c8 SSH\u30c8\u30f3\u30cd\u30eb\u60c5\u5831\u306e\u8a2d\u5b9a \u3067\u8a2d\u5b9a\u3057\u305f\u30dd\u30fc\u30c8\u756a\u53f7 (\u753b\u9762\u4f8b: 10022) \u30b5\u30fc\u30d3\u30b9 ssh \uff08\u56fa\u5b9a\uff09 \u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001[OK]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3001SSH\u306e\u8a8d\u8a3c\u306b\u79fb\u308a\u307e\u3059\u3002 \u8a8d\u8a3c\uff08\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\uff09 \u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306e\u8a8d\u8a3c\u306f\u3001\u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u3068\u540c\u3058\u3067\u3059\u3002 \u30a2\u30af\u30bb\u30b9\u30b5\u30fc\u30d0\u306e\u8a8d\u8a3c\u65b9\u6cd5 \u3092\u53c2\u7167\u3057\u3001SSH\u306e\u8a8d\u8a3c\u60c5\u5831\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002 \u8a2d\u5b9a\u304c\u5b8c\u4e86\u3057\u305f\u3089\u3001[OK]\u30dc\u30bf\u30f3\u3092\u30af\u30ea\u30c3\u30af\u3057\u3066\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u306b\u30ed\u30b0\u30a4\u30f3\u3057\u3066\u304f\u3060\u3055\u3044\u3002\u30ed\u30b0\u30a4\u30f3\u306b\u6210\u529f\u3059\u308b\u3068\u4ee5\u4e0b\u306e\u753b\u9762\u304c\u8868\u793a\u3055\u308c\u307e\u3059\u3002","title":"\u30a4\u30f3\u30bf\u30e9\u30af\u30c6\u30a3\u30d6\u30ce\u30fc\u30c9\u3078\u306e\u63a5\u7d9a"}]}