
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="ABCI 2.0 User Guide, English version">
      
      
      
        <meta name="author" content="AIST">
      
      
        <link rel="canonical" href="https://docs.abci.ai/en/abci-cloudstorage/usage/">
      
      <link rel="icon" href="../../img/favicon.png">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.3">
    
    
      
        <title>Usage - ABCI 2.0 User Guide</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.e35208c4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#ef5552">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
    
      
        
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-118371652-2","auto"),ga("set","anonymizeIp",!0),ga("send","pageview"),document.addEventListener("DOMContentLoaded",function(){document.forms.search&&document.forms.search.query.addEventListener("blur",function(){var e;this.value&&(e=document.location.pathname,ga("send","pageview",e+"?q="+this.value))}),"undefined"!=typeof location$&&location$.subscribe(function(e){ga("send","pageview",e.pathname)})})</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="red" data-md-color-accent="">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#how-to-use-abci-cloud-storage" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="ABCI 2.0 User Guide" class="md-header__button md-logo" aria-label="ABCI 2.0 User Guide" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            ABCI 2.0 User Guide
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Usage
            
          </span>
        </div>
      </div>
    </div>
    
    
      <div class="md-header__option">
        <div class="md-select">
          
          <button class="md-header__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.52 17.52 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11.76-2.04M18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2l-4.5-12m-2.62 7 1.62-4.33L19.12 17h-3.24z"/></svg>
          </button>
          <div class="md-select__inner">
            <ul class="md-select__list">
              
                <li class="md-select__item">
                  <a href="https://docs.abci.ai/en/" hreflang="" class="md-select__link">
                    English
                  </a>
                </li>
                
                <li class="md-select__item">
                  <a href="https://docs.abci.ai/ja/" hreflang="" class="md-select__link">
                    日本語
                  </a>
                </li>
                
            </ul>
          </div>
        </div>
      </div>
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/aistairc/abci-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  

<nav class="md-nav md-nav--primary md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="ABCI 2.0 User Guide" class="md-nav__button md-logo" aria-label="ABCI 2.0 User Guide" data-md-component="logo">
      
  <img src="../../img/logo.png" alt="logo">

    </a>
    ABCI 2.0 User Guide
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/aistairc/abci-docs/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Introduction
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../system-overview/" class="md-nav__link">
        ABCI System Overview
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../getting-started/" class="md-nav__link">
        Getting Started ABCI
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../job-execution/" class="md-nav__link">
        Job Execution
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../storage/" class="md-nav__link">
        Storage
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../environment-modules/" class="md-nav__link">
        Environment Modules
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../python/" class="md-nav__link">
        Python
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../gpu/" class="md-nav__link">
        GPU
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../mpi/" class="md-nav__link">
        MPI
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../containers/" class="md-nav__link">
        Containers
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../development-tools/" class="md-nav__link">
        Development Tools
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_12" type="checkbox" id="__nav_12" >
      
      <label class="md-nav__link" for="__nav_12">
        Appendix
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Appendix" data-md-level="1">
        <label class="md-nav__title" for="__nav_12">
          <span class="md-nav__icon md-icon"></span>
          Appendix
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/installed-software/" class="md-nav__link">
        Appendix. Configuration of Installed Software
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/using-abci-with-hpci/" class="md-nav__link">
        Appendix. Using ABCI with HPCI
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/external-networks/" class="md-nav__link">
        Appendix. Communications with External Networks
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../appendix/ssh-access/" class="md-nav__link">
        Appendix. SSH Access to Compute Nodes
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_13" type="checkbox" id="__nav_13" >
      
      <label class="md-nav__link" for="__nav_13">
        Applications
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Applications" data-md-level="1">
        <label class="md-nav__title" for="__nav_13">
          <span class="md-nav__icon md-icon"></span>
          Applications
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/tensorflow/" class="md-nav__link">
        TensorFlow
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/tensorflow-keras/" class="md-nav__link">
        TensorFlow Keras
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/pytorch/" class="md-nav__link">
        PyTorch
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/mxnet/" class="md-nav__link">
        MXNet
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/chainer/" class="md-nav__link">
        Chainer
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../apps/others/" class="md-nav__link">
        Others
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_14" type="checkbox" id="__nav_14" >
      
      <label class="md-nav__link" for="__nav_14">
        Tips
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Tips" data-md-level="1">
        <label class="md-nav__title" for="__nav_14">
          <span class="md-nav__icon md-icon"></span>
          Tips
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/ngc/" class="md-nav__link">
        NVIDIA NGC
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/remote-desktop/" class="md-nav__link">
        Remote Desktop
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/awscli/" class="md-nav__link">
        AWS CLI
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/putty/" class="md-nav__link">
        PuTTY
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/jupyter-notebook/" class="md-nav__link">
        Jupyter Notebook
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/sregistry-cli/" class="md-nav__link">
        Singularity Global Client
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/spack/" class="md-nav__link">
        Spack
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/datasets/" class="md-nav__link">
        Datasets
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../tips/dl-amazon-ecr/" class="md-nav__link">
        Amazon ECR
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_15" type="checkbox" id="__nav_15" checked>
      
      <label class="md-nav__link" for="__nav_15">
        ABCI Cloud Storage
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="ABCI Cloud Storage" data-md-level="1">
        <label class="md-nav__title" for="__nav_15">
          <span class="md-nav__icon md-icon"></span>
          ABCI Cloud Storage
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Overview
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../cs-account/" class="md-nav__link">
        Accounts and Access keys
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Usage
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Usage
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#load-module" class="md-nav__link">
    Load Module
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#configuration" class="md-nav__link">
    Configuration
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#operations" class="md-nav__link">
    Operations
  </a>
  
    <nav class="md-nav" aria-label="Operations">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#for-the-begining" class="md-nav__link">
    For the Begining
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#create-bucket" class="md-nav__link">
    Create Bucket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-bucket" class="md-nav__link">
    List Bucket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#list-object" class="md-nav__link">
    List Object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#copy-data-upload-download-copy" class="md-nav__link">
    Copy data (Upload, Download, Copy)
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#move-data" class="md-nav__link">
    Move Data
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#synchronize-local-directory-with-abci-cloud-storage" class="md-nav__link">
    Synchronize Local Directory with ABCI Cloud Storage
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-object" class="md-nav__link">
    Delete Object
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#delete-bucket" class="md-nav__link">
    Delete Bucket
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#check-object-owner" class="md-nav__link">
    Check Object Owner
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#mpu" class="md-nav__link">
    MPU
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#uploading-data-with-manual-mpu" class="md-nav__link">
    Uploading Data with Manual MPU
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#abort-mpu" class="md-nav__link">
    Aborting Data Upload with Manual MPU
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../encryption/" class="md-nav__link">
        Data encryption
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../acl/" class="md-nav__link">
        Access Control (1) 
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../policy/" class="md-nav__link">
        Access Control (2) 
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../default-sub-group/" class="md-nav__link">
        Access Control (3) 
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../publishing-datasets/" class="md-nav__link">
        Publishing Datasets
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../caution/" class="md-nav__link">
        Caution
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../s3fs-usage/" class="md-nav__link">
        Using s3fs-fuse
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../abci-datasets/" class="md-nav__link">
        ABCI Datasets
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../abci-singularity-endpoint/" class="md-nav__link">
        ABCI Singularity Endpoint
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../faq/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../known-issues/" class="md-nav__link">
        Known Issues
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../system-updates/" class="md-nav__link">
        System Updates
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="https://abci.ai/en/about_abci/info.html" class="md-nav__link">
        Operation Status
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../contact/" class="md-nav__link">
        Contact
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_23" type="checkbox" id="__nav_23" >
      
      <label class="md-nav__link" for="__nav_23">
        Links
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Links" data-md-level="1">
        <label class="md-nav__title" for="__nav_23">
          <span class="md-nav__icon md-icon"></span>
          Links
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://abci.ai/" class="md-nav__link">
        ABCI Web page
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://docs.abci.ai/portal/en/" class="md-nav__link">
        ABCI User Portal Guide
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://portal.abci.ai/user/project_register_app.php?lang=en" class="md-nav__link">
        ABCI User Portal (Registration)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="https://portal.abci.ai/user/login.php?lang=en" class="md-nav__link">
        ABCI User Portal (Login)
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/aistairc/abci-docs/edit/master/en/docs/abci-cloudstorage/usage.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="how-to-use-abci-cloud-storage">How to Use ABCI Cloud Storage</h1>
<p>This section describes how to use ABCI Cloud Storage as a client tool by using AWS Command Line Interface (AWS CLI).</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Unintended charges may occur if the data upload fails. See <a href="../caution/#notice-mpu-fail">here</a> for a workaround.</p>
</div>
<h2 id="load-module">Load Module</h2>
<p>On the ABCI system, AWS CLI is available both in interactive nodes and in compute nodes. Load the module before using AWS CLI as following.</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">module</span> <span class="nb">load</span> <span class="n">aws</span><span class="o">-</span><span class="n">cli</span>
</code></pre></div>

<p>When using AWS CLI outside ABCI (for example, on your PC), get AWS CLI from <a href="https://github.com/aws/aws-cli">here</a> and install it by following the guide.</p>
<h2 id="configuration">Configuration</h2>
<p>In order to access ABCI Cloud Storage, ABCI users need to use a Cloud Storage Account that is different from ABCI account. Users are allowed to have multiple Cloud Storage Accounts. Access Key which is a pair of Access Key ID and Secret Access Key is issued for each Cloud Storage Account. If a user belongs to multiple ABCI groups and uses ABCI Cloud Storage from multiple groups, multiple Cloud Storage Accounts is issued per group. When accessing ABCI Cloud Storage for the first time, Access Key should be set up in AWS CLI as shown below. Specify <code>us-east-1</code> as region name. </p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="n">configure</span><span class="w"></span>
<span class="n">AWS</span><span class="w"> </span><span class="n">Access</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="o">[</span><span class="n">None</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="n">ACCESS</span><span class="o">-</span><span class="k">KEY</span><span class="o">-</span><span class="n">ID</span><span class="w"></span>
<span class="n">AWS</span><span class="w"> </span><span class="n">Secret</span><span class="w"> </span><span class="n">Access</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="o">[</span><span class="n">None</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="n">SECRET</span><span class="o">-</span><span class="n">ACCESS</span><span class="o">-</span><span class="k">KEY</span><span class="w"></span>
<span class="k">Default</span><span class="w"> </span><span class="n">region</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">[</span><span class="n">None</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="n">us</span><span class="o">-</span><span class="n">east</span><span class="o">-</span><span class="mi">1</span><span class="w"></span>
<span class="k">Default</span><span class="w"> </span><span class="k">output</span><span class="w"> </span><span class="nf">format</span><span class="w"> </span><span class="o">[</span><span class="n">None</span><span class="o">]</span><span class="err">:</span><span class="p">(</span><span class="k">No</span><span class="w"> </span><span class="k">input</span><span class="w"> </span><span class="n">required</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p>A user can switch with the option '--profile' if a user has multiple Cloud Storage Accounts.
In order to configure the Cloud Storage Account 'aaa00000.2', for example, follow the instruction below.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="n">configure</span><span class="w"> </span><span class="o">--</span><span class="n">profile</span><span class="w"> </span><span class="n">aaa00000</span><span class="mf">.2</span><span class="w"></span>
<span class="n">AWS</span><span class="w"> </span><span class="n">Access</span><span class="w"> </span><span class="k">Key</span><span class="w"> </span><span class="n">ID</span><span class="w"> </span><span class="o">[</span><span class="n">None</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="n">aaa00000</span><span class="mf">.2</span><span class="s1">&#39;s ACCESS-KEY-ID</span>
<span class="s1">AWS Secret Access Key [None]: aaa00000.2&#39;</span><span class="n">s</span><span class="w"> </span><span class="n">SECRET</span><span class="o">-</span><span class="n">ACCESS</span><span class="o">-</span><span class="k">KEY</span><span class="w"></span>
<span class="k">Default</span><span class="w"> </span><span class="n">region</span><span class="w"> </span><span class="n">name</span><span class="w"> </span><span class="o">[</span><span class="n">None</span><span class="o">]</span><span class="err">:</span><span class="w"> </span><span class="n">us</span><span class="o">-</span><span class="n">east</span><span class="o">-</span><span class="mi">1</span><span class="w"></span>
<span class="k">Default</span><span class="w"> </span><span class="k">output</span><span class="w"> </span><span class="nf">format</span><span class="w"> </span><span class="o">[</span><span class="n">None</span><span class="o">]</span><span class="err">:</span><span class="p">(</span><span class="k">No</span><span class="w"> </span><span class="k">input</span><span class="w"> </span><span class="n">required</span><span class="p">)</span><span class="w"></span>
</code></pre></div>

<p>When running the AWS commands with the Cloud Storage Account 'aaa00000.2', use the option '--profile' as follows.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="c1">--profile aaa00000.2 --endpoint-url https://s3.abci.ai s3api list-buckets</span>
</code></pre></div>

<p>The configuration is stored in the home directory(i.e. ~/.aws). Therefore, it is not necessarily done in the compute node once it is done in the interacvtive node.</p>
<p>To reissuing or deleting Access Keys, use ABCI User Portal.</p>
<h2 id="operations">Operations</h2>
<p>This section explains basic operations, such as creating buckets and uploading data and so forth.</p>
<h3 id="for-the-begining">For the Begining</h3>
<p>Here is basic knowledge which is necessary so as to use AWS CLI.</p>
<p>The structure of AWS CLI commands is shown below.</p>
<div class="codehilite"><pre><span></span><code><span class="n">aws</span><span class="w"> </span><span class="o">[</span><span class="n">options</span><span class="o">]</span><span class="w"> </span><span class="o">&lt;</span><span class="n">command</span><span class="o">&gt;</span><span class="w"> </span><span class="o">&lt;</span><span class="n">subcommand</span><span class="o">&gt;</span><span class="w"> </span><span class="o">[</span><span class="n">parameters</span><span class="o">]</span><span class="w"></span>
</code></pre></div>

<p>For instance, in a sentence <code>aws --endpoint-url https://s3.abci.ai s3 ls</code>, s3 is a &lt;command&gt; and ls is a &lt;subcommand&gt; (ls command of s3 command or s3 ls command).</p>
<p>The command <code>s3</code> will show the path of an object in S3 URI.
The following example shows how s3 works.</p>
<div class="codehilite"><pre><span></span><code>s3://bucket-1/project-1/docs/fig1.png
</code></pre></div>

<p>In this example, <code>bucket-1</code> means a name of the bucket and <code>project-1/docs/fig1.png</code> is an object key (or a key name). The part <code>project-1/docs/</code> is called prefix which is used for describing object keys as if they are as hierarchic systems as "folders" in file systems.</p>
<p>There are rules for naming buckets.</p>
<ul>
<li>It must be unique across ABCI Cloud Storage.</li>
<li>The numbers of characters should be between 3 and 63.</li>
<li>It can not include underscores (_).</li>
<li>The first character must be a small letter of alphabets or numbers.</li>
<li>A structure such as IP address (e.g. 192.168.0.1) is not allowed.</li>
<li>Using dots(.) is not recommended.</li>
</ul>
<p>To name object keys, UTF-8 characters are available though, there are special characters which should be preferably avoided.</p>
<ul>
<li>There is no problem with using hyphens (-), underscores (_) and periods (.).</li>
<li>Five characters, exclamation mark (!), asterisk (*), apostrophe ('),  left parenthesis ('(') and right parenthesis (')'), are available if they are properly used (e.g. escaping or quoting in shell scripts).</li>
</ul>
<p>Special characters other than the ones mentioned above should be avoided.</p>
<p>Specify https://s3.abci.ai as an endpoint (--endpoint-url).<!-- <code>http://s3.abci.ai</code> is also availble from the interactive node and compute node. --> </p>
<h3 id="create-bucket">Create Bucket</h3>
<p>To create a bucket, use s3 mb command.
A bucket whose name is 'dataset-summer-2012', for example, can be created by running aws commands as following.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">mb</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">summer</span><span class="o">-</span><span class="mi">2012</span><span class="w"></span>
<span class="nl">make_bucket</span><span class="p">:</span><span class="w"> </span><span class="n">dataset</span><span class="o">-</span><span class="n">summer</span><span class="o">-</span><span class="mi">2012</span><span class="w"></span>
</code></pre></div>

<h3 id="list-bucket">List Bucket</h3>
<p>To show the list of buckets created on the ABCI group, run <code>aws --endpoint-url https://s3.abci.ai s3 ls</code>.</p>
<p>For example</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">ls</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">15</span><span class="w"> </span><span class="mi">10</span><span class="err">:</span><span class="mi">47</span><span class="err">:</span><span class="mi">37</span><span class="w"> </span><span class="n">testbucket1</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">15</span><span class="w"> </span><span class="mi">18</span><span class="err">:</span><span class="mi">10</span><span class="err">:</span><span class="mi">37</span><span class="w"> </span><span class="n">testbucket2</span><span class="w"></span>
</code></pre></div>

<h3 id="list-object">List Object</h3>
<p>To show the list of objects in the bucket, run <code>aws --endpoint-url https://s3.abci.ai s3 ls s3://bucket-name</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="w"></span>
<span class="w">                           </span><span class="n">PRE</span><span class="w"> </span><span class="n">pics</span><span class="o">/</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">05</span><span class="w"> </span><span class="mi">17</span><span class="err">:</span><span class="mi">33</span><span class="err">:</span><span class="mi">05</span><span class="w">          </span><span class="mi">4</span><span class="w"> </span><span class="n">test1</span><span class="p">.</span><span class="n">txt</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">05</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">12</span><span class="err">:</span><span class="mi">47</span><span class="w">          </span><span class="mi">4</span><span class="w"> </span><span class="n">test2</span><span class="p">.</span><span class="n">txt</span><span class="w"></span>
</code></pre></div>

<p>In order to list objects that have prefix 'pics/', for example, add prefix after the bucket name.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span><span class="n">pics</span><span class="o">/</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">29</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">55</span><span class="err">:</span><span class="mi">57</span><span class="w">    </span><span class="mi">1048576</span><span class="w"> </span><span class="n">test3</span><span class="p">.</span><span class="n">png</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">29</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">55</span><span class="err">:</span><span class="mi">59</span><span class="w">    </span><span class="mi">1048576</span><span class="w"> </span><span class="n">test4</span><span class="p">.</span><span class="n">png</span><span class="w"></span>
</code></pre></div>

<p>The option '--recursive' can list all objects in a bucket.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="w"> </span><span class="o">--</span><span class="k">recursive</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">05</span><span class="w"> </span><span class="mi">17</span><span class="err">:</span><span class="mi">33</span><span class="err">:</span><span class="mi">05</span><span class="w">          </span><span class="mi">4</span><span class="w"> </span><span class="n">test1</span><span class="p">.</span><span class="n">txt</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">05</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">12</span><span class="err">:</span><span class="mi">47</span><span class="w">          </span><span class="mi">4</span><span class="w"> </span><span class="n">test2</span><span class="p">.</span><span class="n">txt</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">29</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">55</span><span class="err">:</span><span class="mi">57</span><span class="w">    </span><span class="mi">1048576</span><span class="w"> </span><span class="n">pics</span><span class="o">/</span><span class="n">test3</span><span class="p">.</span><span class="n">png</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">29</span><span class="w"> </span><span class="mi">21</span><span class="err">:</span><span class="mi">55</span><span class="err">:</span><span class="mi">59</span><span class="w">    </span><span class="mi">1048576</span><span class="w"> </span><span class="n">pics</span><span class="o">/</span><span class="n">test4</span><span class="p">.</span><span class="n">png</span><span class="w"></span>
</code></pre></div>

<h3 id="copy-data-upload-download-copy">Copy data (Upload, Download, Copy)</h3>
<p>Data can be copied from the file system to a bucket in ABCI Cloud Storage, from a bucket in ABCI Cloud Storage to the file system and from a bucket in ABCI Cloud Storage to another bucket in ABCI Cloud Storage.</p>
<p>Example: Copy the file '0001.jpg' to the bucket 'dataset-c0541'</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">ls</span> <span class="n">images</span>
<span class="mf">0001.j</span><span class="n">pg</span>    <span class="mf">0002.j</span><span class="n">pg</span>    <span class="mf">0003.j</span><span class="n">pg</span>    <span class="mf">0004.j</span><span class="n">pg</span>
<span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">aws</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">abci</span><span class="o">.</span><span class="n">ai</span> <span class="n">s3</span> <span class="n">cp</span> <span class="o">./</span><span class="n">images</span><span class="o">/</span><span class="mf">0001.j</span><span class="n">pg</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="o">/</span>
<span class="n">upload</span><span class="p">:</span> <span class="n">images</span><span class="o">/</span><span class="mf">0001.j</span><span class="n">pg</span> <span class="n">to</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="o">/</span><span class="mf">0001.j</span><span class="n">pg</span>
<span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span>
</code></pre></div>

<p>Example: Copy files in the directory 'images' to the bucket 'dataset-c0542'</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">ls</span> <span class="n">images</span>
<span class="mf">0001.j</span><span class="n">pg</span>    <span class="mf">0002.j</span><span class="n">pg</span>    <span class="mf">0003.j</span><span class="n">pg</span>    <span class="mf">0004.j</span><span class="n">pg</span>
<span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">aws</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">abci</span><span class="o">.</span><span class="n">ai</span> <span class="n">s3</span> <span class="n">cp</span> <span class="n">images</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span> <span class="o">--</span><span class="n">recursive</span>
<span class="n">upload</span><span class="p">:</span> <span class="n">images</span><span class="o">/</span><span class="mf">0001.j</span><span class="n">pg</span> <span class="n">to</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="mf">0001.j</span><span class="n">pg</span>
<span class="n">upload</span><span class="p">:</span> <span class="n">images</span><span class="o">/</span><span class="mf">0002.j</span><span class="n">pg</span> <span class="n">to</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="mf">0002.j</span><span class="n">pg</span>
<span class="n">upload</span><span class="p">:</span> <span class="n">images</span><span class="o">/</span><span class="mf">0003.j</span><span class="n">pg</span> <span class="n">to</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="mf">0003.j</span><span class="n">pg</span>
<span class="n">upload</span><span class="p">:</span> <span class="n">images</span><span class="o">/</span><span class="mf">0004.j</span><span class="n">pg</span> <span class="n">to</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="mf">0004.j</span><span class="n">pg</span>
<span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">aws</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">abci</span><span class="o">.</span><span class="n">ai</span> <span class="n">s3</span> <span class="n">ls</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataet</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">10</span> <span class="mi">19</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">19</span>    <span class="mi">1048576</span> <span class="mf">0001.j</span><span class="n">pg</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">10</span> <span class="mi">19</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">19</span>    <span class="mi">1048576</span> <span class="mf">0002.j</span><span class="n">pg</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">10</span> <span class="mi">19</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">19</span>    <span class="mi">1048576</span> <span class="mf">0003.j</span><span class="n">pg</span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">06</span><span class="o">-</span><span class="mi">10</span> <span class="mi">19</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">19</span>    <span class="mi">1048576</span> <span class="mf">0004.j</span><span class="n">pg</span>
<span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span>
</code></pre></div>

<p>Example: Copy the file 'logo.png' from the bucket 'dataset-tmpl-c0000' to the bucket 'dataset-c0541'</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">cp</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">tmpl</span><span class="o">-</span><span class="n">c0000</span><span class="o">/</span><span class="n">logo</span><span class="p">.</span><span class="n">png</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="o">/</span><span class="n">logo</span><span class="p">.</span><span class="n">png</span><span class="w"></span>
<span class="nl">copy</span><span class="p">:</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">tmpl</span><span class="o">-</span><span class="n">c0000</span><span class="o">/</span><span class="n">logo</span><span class="p">.</span><span class="n">png</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="o">/</span><span class="n">logo</span><span class="p">.</span><span class="n">png</span><span class="w"></span>
</code></pre></div>

<h3 id="move-data">Move Data</h3>
<p>To move objects, use aws mv.
It allows users to move objects from the local file system to a bucket and vice versa.
Time stamps are not be preserved.
This command can handle objects which have specific prefix with option '--recursive'
and files which are stored in specific directories.</p>
<p>The example shown next transfers 'annotaitions.zip' in current directory to a bucket 'dataset-c0541' in ABCI Cloud Storage.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">mv</span><span class="w"> </span><span class="n">annotations</span><span class="p">.</span><span class="n">zip</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="o">/</span><span class="w"></span>
<span class="nl">move</span><span class="p">:</span><span class="w"> </span><span class="p">.</span><span class="o">/</span><span class="n">annotations</span><span class="p">.</span><span class="n">zip</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="o">/</span><span class="n">annotations</span><span class="p">.</span><span class="n">zip</span><span class="w"></span>
</code></pre></div>

<p>The example shown next transfers the objects which have prefix 'sensor-1' in a bucket 'dataset-c0541' to a bucket 'dataset-c0542'.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">mv</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="o">/</span><span class="n">sensor</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="n">sensor</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="w"> </span><span class="o">--</span><span class="k">recursive</span><span class="w"></span>
<span class="nl">move</span><span class="p">:</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="o">/</span><span class="n">sensor</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mf">0001.</span><span class="n">dat</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="n">sensor</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mf">0001.</span><span class="n">dat</span><span class="w"></span>
<span class="nl">move</span><span class="p">:</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="o">/</span><span class="n">sensor</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mf">0003.</span><span class="n">dat</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="n">sensor</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mf">0003.</span><span class="n">dat</span><span class="w"></span>
<span class="nl">move</span><span class="p">:</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="o">/</span><span class="n">sensor</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mf">0004.</span><span class="n">dat</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="n">sensor</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mf">0004.</span><span class="n">dat</span><span class="w"></span>
<span class="nl">move</span><span class="p">:</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="o">/</span><span class="n">sensor</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mf">0002.</span><span class="n">dat</span><span class="w"> </span><span class="k">to</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="n">sensor</span><span class="o">-</span><span class="mi">1</span><span class="o">/</span><span class="mf">0002.</span><span class="n">dat</span><span class="w"></span>
</code></pre></div>

<h3 id="synchronize-local-directory-with-abci-cloud-storage">Synchronize Local Directory with ABCI Cloud Storage</h3>
<p>Here is an example that synchronizes a directory 'sensor2' in current directory and a bucket 'mybucket'. If an option '--delete' is not given, exsiting objects in the bucket will not be deleted and exsiting objects which have same names with the ones in the current directory will be overwritten. When executing same command again, only updated data will be sent.</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">aws</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">abci</span><span class="o">.</span><span class="n">ai</span> <span class="n">s3</span> <span class="n">sync</span> <span class="o">./</span><span class="n">sensor2</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span>
<span class="n">upload</span><span class="p">:</span> <span class="n">sensor2</span><span class="o">/</span><span class="mf">0002.</span><span class="n">dat</span> <span class="n">to</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span><span class="mf">0002.</span><span class="n">dat</span>
<span class="n">upload</span><span class="p">:</span> <span class="n">sensor2</span><span class="o">/</span><span class="mf">0004.</span><span class="n">dat</span> <span class="n">to</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span><span class="mf">0004.</span><span class="n">dat</span>
<span class="n">upload</span><span class="p">:</span> <span class="n">sensor2</span><span class="o">/</span><span class="mf">0001.</span><span class="n">dat</span> <span class="n">to</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span><span class="mf">0001.</span><span class="n">dat</span>
<span class="n">upload</span><span class="p">:</span> <span class="n">sensor2</span><span class="o">/</span><span class="mf">0003.</span><span class="n">dat</span> <span class="n">to</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span><span class="mf">0003.</span><span class="n">dat</span>
</code></pre></div>

<p>The following example sychronizes objects with the prefix 'rev1' in the bucket 'sensor3' to the directory 'testdata.'</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">aws</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">abci</span><span class="o">.</span><span class="n">ai</span> <span class="n">s3</span> <span class="n">sync</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">sensor3</span><span class="o">/</span><span class="n">rev1</span><span class="o">/</span> <span class="n">testdata</span>
<span class="n">download</span><span class="p">:</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">sensor3</span><span class="o">/</span><span class="n">rev1</span><span class="o">/</span><span class="mf">0001.</span><span class="n">zip</span> <span class="n">to</span> <span class="n">testdata</span><span class="o">/</span><span class="mf">0001.</span><span class="n">zip</span>
<span class="n">download</span><span class="p">:</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">sensor3</span><span class="o">/</span><span class="n">rev1</span><span class="o">/</span><span class="mf">0004.</span><span class="n">zip</span> <span class="n">to</span> <span class="n">testdata</span><span class="o">/</span><span class="mf">0004.</span><span class="n">zip</span>
<span class="n">download</span><span class="p">:</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">sensor3</span><span class="o">/</span><span class="n">rev1</span><span class="o">/</span><span class="mf">0003.</span><span class="n">zip</span> <span class="n">to</span> <span class="n">testdata</span><span class="o">/</span><span class="mf">0003.</span><span class="n">zip</span>
<span class="n">download</span><span class="p">:</span> <span class="n">s3</span><span class="p">:</span><span class="o">//</span><span class="n">sensor3</span><span class="o">/</span><span class="n">rev1</span><span class="o">/</span><span class="mf">0002.</span><span class="n">zip</span> <span class="n">to</span> <span class="n">testdata</span><span class="o">/</span><span class="mf">0002.</span><span class="n">zip</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>When executing same command again, data whose size is not changed will be ignored even though the data is actually updated. In that case, the option '--exact-timestamps' enables to syncronize them. This option syncronizes all objects particularly only in the ABCI environment.</p>
</div>
<h3 id="delete-object">Delete Object</h3>
<p>To delete an object, use <code>aws s3 rm &lt;S3Uri&gt; [parameters]</code></p>
<p>For example </p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span><span class="n">readme</span><span class="p">.</span><span class="n">txt</span><span class="w"></span>
<span class="k">delete</span><span class="err">:</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span><span class="n">readme</span><span class="p">.</span><span class="n">txt</span><span class="w"></span>
</code></pre></div>

<p>The option '--recursive' enables to delete objects which are located under specified prefix.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="w"> </span><span class="o">--</span><span class="k">recursive</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">30</span><span class="w"> </span><span class="mi">20</span><span class="err">:</span><span class="mi">46</span><span class="err">:</span><span class="mi">53</span><span class="w">         </span><span class="mi">32</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">txt</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">30</span><span class="w"> </span><span class="mi">20</span><span class="err">:</span><span class="mi">46</span><span class="err">:</span><span class="mi">53</span><span class="w">         </span><span class="mi">32</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">txt</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">31</span><span class="w"> </span><span class="mi">14</span><span class="err">:</span><span class="mi">51</span><span class="err">:</span><span class="mi">50</span><span class="w">        </span><span class="mi">512</span><span class="w"> </span><span class="nc">xml</span><span class="o">/</span><span class="n">c</span><span class="p">.</span><span class="nc">xml</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">31</span><span class="w"> </span><span class="mi">14</span><span class="err">:</span><span class="mi">51</span><span class="err">:</span><span class="mi">54</span><span class="w">        </span><span class="mi">512</span><span class="w"> </span><span class="nc">xml</span><span class="o">/</span><span class="n">d</span><span class="p">.</span><span class="nc">xml</span><span class="w"></span>
<span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">rm</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span><span class="nc">xml</span><span class="w"> </span><span class="o">--</span><span class="k">recursive</span><span class="w"></span>
<span class="k">delete</span><span class="err">:</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span><span class="nc">xml</span><span class="o">/</span><span class="n">c</span><span class="p">.</span><span class="nc">xml</span><span class="w"></span>
<span class="k">delete</span><span class="err">:</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="o">/</span><span class="nc">xml</span><span class="o">/</span><span class="n">d</span><span class="p">.</span><span class="nc">xml</span><span class="w"></span>
<span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">mybucket</span><span class="w"> </span><span class="o">--</span><span class="k">recursive</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">30</span><span class="w"> </span><span class="mi">20</span><span class="err">:</span><span class="mi">46</span><span class="err">:</span><span class="mi">53</span><span class="w">         </span><span class="mi">32</span><span class="w"> </span><span class="n">a</span><span class="p">.</span><span class="n">txt</span><span class="w"></span>
<span class="mi">2019</span><span class="o">-</span><span class="mi">07</span><span class="o">-</span><span class="mi">30</span><span class="w"> </span><span class="mi">20</span><span class="err">:</span><span class="mi">46</span><span class="err">:</span><span class="mi">53</span><span class="w">         </span><span class="mi">32</span><span class="w"> </span><span class="n">b</span><span class="p">.</span><span class="n">txt</span><span class="w"></span>
</code></pre></div>

<h3 id="delete-bucket">Delete Bucket</h3>
<p>The command example shown next deletes the bucket 'dataset-c0541.'</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">rb</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="w"></span>
<span class="nl">remove_bucket</span><span class="p">:</span><span class="w"> </span><span class="n">dataset</span><span class="o">-</span><span class="n">c0541</span><span class="w"></span>
</code></pre></div>

<p>An error will happen when deleting non-empty buckets. By adding the option '--force', both ojects in the bucket and the bucket itself can be deleted.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">rb</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="w"> </span><span class="o">--</span><span class="n">force</span><span class="w"></span>
<span class="k">delete</span><span class="err">:</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="mf">0001.</span><span class="n">jpg</span><span class="w"></span>
<span class="k">delete</span><span class="err">:</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="mf">0002.</span><span class="n">jpg</span><span class="w"></span>
<span class="k">delete</span><span class="err">:</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="mf">0003.</span><span class="n">jpg</span><span class="w"></span>
<span class="k">delete</span><span class="err">:</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="o">/</span><span class="mf">0004.</span><span class="n">jpg</span><span class="w"></span>
<span class="nl">remove_bucket</span><span class="p">:</span><span class="w"> </span><span class="n">dataset</span><span class="o">-</span><span class="n">c0542</span><span class="w"></span>
</code></pre></div>

<h3 id="check-object-owner">Check Object Owner</h3>
<p>To display object owner, use the <code>s3api get-object-acl</code> command. As shown in the example below, BUCKET is the bucket name, OBJECT is the object name and the owner is displayed in "Owner".</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3api</span><span class="w"> </span><span class="k">get</span><span class="o">-</span><span class="k">object</span><span class="o">-</span><span class="n">acl</span><span class="w"> </span><span class="o">--</span><span class="n">bucket</span><span class="w"> </span><span class="n">BUCKET</span><span class="w"> </span><span class="o">--</span><span class="k">key</span><span class="w"> </span><span class="k">OBJECT</span><span class="w"></span>
<span class="err">{</span><span class="w"></span>
<span class="w">    </span><span class="ss">&quot;Owner&quot;</span><span class="err">:</span><span class="w"> </span><span class="err">{</span><span class="w"></span>
<span class="w">        </span><span class="ss">&quot;DisplayName&quot;</span><span class="err">:</span><span class="w"> </span><span class="ss">&quot;ABCIGROUP&quot;</span><span class="p">,</span><span class="w"></span>
<span class="w">        </span><span class="ss">&quot;ID&quot;</span><span class="err">:</span><span class="w"> </span><span class="ss">&quot;xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx&quot;</span><span class="w"></span>
<span class="w">    </span><span class="err">}</span><span class="p">,</span><span class="w"></span>
<span class="w">    </span><span class="ss">&quot;Grants&quot;</span><span class="err">:</span><span class="w"> </span><span class="o">[</span><span class="n"></span>
<span class="n">        {</span>
<span class="n">            &quot;Grantee&quot;: {</span>
<span class="n">                &quot;DisplayName&quot;: &quot;ABCIGROUP&quot;,</span>
<span class="n">                &quot;ID&quot;: &quot;yyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyyy&quot;,</span>
<span class="n">                &quot;Type&quot;: &quot;CanonicalUser&quot;</span>
<span class="n">            },</span>
<span class="n">            &quot;Permission&quot;: &quot;FULL_CONTROL&quot;</span>
<span class="n">        }</span>
<span class="n">    </span><span class="o">]</span><span class="w"></span>
<span class="err">}</span><span class="w"></span>
</code></pre></div>

<h3 id="mpu">MPU</h3>
<p>Uploading from a local file system, client applications upload data efficiently by automatically splitting the data and sending it in parallel. This is called a multipart upload (MPU). MPU is applied when the threshold of data size defined in the client application is exceeded. For instance, the default threshold is <a href="https://docs.aws.amazon.com/cli/latest/topic/s3-config.html#multipart-threshold">8MB</a> for aws-cli and <a href="https://s3tools.org/kb/item13.htm">15MB</a> for s3cmd.</p>
<h3 id="uploading-data-with-manual-mpu">Uploading Data with Manual MPU</h3>
<p>The following describes how to apply MPU manually.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>It is recommended to use MPU automatically by the client application.</p>
</div>
<p>First, using the <code>split</code> command to split the file. In the following example,
15M_test.dat is divided into three parts.</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">split</span><span class="w">  </span><span class="o">-</span><span class="n">n</span><span class="w"> </span><span class="mi">3</span><span class="w"> </span><span class="o">-</span><span class="n">d</span><span class="w"> </span><span class="mi">15</span><span class="n">M_test</span><span class="p">.</span><span class="n">dat</span><span class="w"> </span><span class="n">mpu_part</span><span class="o">-</span><span class="w"></span>
<span class="n">total</span><span class="w"> </span><span class="mi">3199056</span><span class="w"></span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">-----</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="k">group</span><span class="w">   </span><span class="mi">15728640</span><span class="w"> </span><span class="n">Nov</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="mi">15</span><span class="err">:</span><span class="mi">42</span><span class="w"> </span><span class="mi">15</span><span class="n">M_test</span><span class="p">.</span><span class="n">dat</span><span class="w"></span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">-----</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="k">group</span><span class="w">    </span><span class="mi">5242880</span><span class="w"> </span><span class="n">Nov</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="mi">15</span><span class="err">:</span><span class="mi">51</span><span class="w"> </span><span class="n">mpu_part</span><span class="o">-</span><span class="mi">02</span><span class="w"></span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">-----</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="k">group</span><span class="w">    </span><span class="mi">5242880</span><span class="w"> </span><span class="n">Nov</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="mi">15</span><span class="err">:</span><span class="mi">51</span><span class="w"> </span><span class="n">mpu_part</span><span class="o">-</span><span class="mi">01</span><span class="w"></span>
<span class="o">-</span><span class="n">rw</span><span class="o">-</span><span class="n">r</span><span class="o">-----</span><span class="w"> </span><span class="mi">1</span><span class="w"> </span><span class="n">username</span><span class="w"> </span><span class="k">group</span><span class="w">    </span><span class="mi">5242880</span><span class="w"> </span><span class="n">Nov</span><span class="w"> </span><span class="mi">30</span><span class="w"> </span><span class="mi">15</span><span class="err">:</span><span class="mi">51</span><span class="w"> </span><span class="n">mpu_part</span><span class="o">-</span><span class="mi">00</span><span class="w"></span>
<span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"></span>
</code></pre></div>

<p>Then starting MPU with the command <code>s3api create-multipart-upload</code>, specifying the destination bucket and path. The following example creates an object named 'mpu-sample' in the bucket 'testbucket-00'. If successful, <code>UploadId</code> is issued as follows:</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">aws</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">abci</span><span class="o">.</span><span class="n">ai</span> <span class="n">s3api</span> <span class="n">create</span><span class="o">-</span><span class="n">multipart</span><span class="o">-</span><span class="n">upload</span> <span class="o">--</span><span class="n">bucket</span> <span class="n">testbucket</span><span class="o">-</span><span class="mi">00</span> <span class="o">--</span><span class="n">key</span> <span class="n">mpu</span><span class="o">-</span><span class="n">sample</span>

<span class="p">{</span>
    <span class="s2">&quot;Bucket&quot;</span><span class="p">:</span> <span class="s2">&quot;testbucket-00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Key&quot;</span><span class="p">:</span> <span class="s2">&quot;mpu-sample&quot;</span><span class="p">,</span>
    <span class="s2">&quot;UploadId&quot;</span><span class="p">:</span> <span class="s2">&quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;</span>

<span class="p">}</span>
</code></pre></div>

<p>To Upload files splited above use the <code>s3api part-upload</code> command, with the 'UpLoadId' specified above. Note the 'ETag' for later use.</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">aws</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">abci</span><span class="o">.</span><span class="n">ai</span> <span class="n">s3api</span> <span class="n">upload</span><span class="o">-</span><span class="n">part</span> <span class="o">--</span><span class="n">bucket</span> <span class="n">testbucket</span><span class="o">-</span><span class="mi">00</span> <span class="o">--</span><span class="n">key</span> <span class="n">mpu</span><span class="o">-</span><span class="n">sample</span> <span class="o">--</span><span class="n">part</span><span class="o">-</span><span class="n">number</span> <span class="mi">1</span> <span class="o">--</span><span class="n">body</span> <span class="n">mpu_part</span><span class="o">-</span><span class="mi">00</span> <span class="o">--</span><span class="n">upload</span><span class="o">-</span><span class="n">id</span> <span class="n">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</span>
<span class="p">{</span>
    <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">sample1d8560e70ca076c897e0715024</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
<span class="p">}</span>
</code></pre></div>

<p>Similarly, it sequentially uploads the rest of the files corresponding to the values specified by <code>--part-number</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">aws</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">abci</span><span class="o">.</span><span class="n">ai</span> <span class="n">s3api</span> <span class="n">upload</span><span class="o">-</span><span class="n">part</span> <span class="o">--</span><span class="n">bucket</span> <span class="n">testbucket</span><span class="o">-</span><span class="mi">00</span> <span class="o">--</span><span class="n">key</span> <span class="n">mpu</span><span class="o">-</span><span class="n">sample</span> <span class="o">--</span><span class="n">part</span><span class="o">-</span><span class="n">number</span> <span class="mi">2</span> <span class="o">--</span><span class="n">body</span> <span class="n">mpu_part</span><span class="o">-</span><span class="mi">01</span> <span class="o">--</span><span class="n">upload</span><span class="o">-</span><span class="n">id</span> <span class="n">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</span>
<span class="p">{</span>
    <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">samplee36a6ef6ae8f2c0ea3328c5e7c</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
<span class="p">}</span>
<span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">aws</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">abci</span><span class="o">.</span><span class="n">ai</span> <span class="n">s3api</span> <span class="n">upload</span><span class="o">-</span><span class="n">part</span> <span class="o">--</span><span class="n">bucket</span> <span class="n">testbucket</span><span class="o">-</span><span class="mi">00</span> <span class="o">--</span><span class="n">key</span> <span class="n">mpu</span><span class="o">-</span><span class="n">sample</span> <span class="o">--</span><span class="n">part</span><span class="o">-</span><span class="n">number</span> <span class="mi">3</span> <span class="o">--</span><span class="n">body</span> <span class="n">mpu_part</span><span class="o">-</span><span class="mi">02</span> <span class="o">--</span><span class="n">upload</span><span class="o">-</span><span class="n">id</span> <span class="n">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</span>
<span class="p">{</span>
    <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">sample9e391d5673d2bfd8951367eb01</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
<span class="p">}</span>
<span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span>
</code></pre></div>

<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Uploaded data by <code>s3api upload-parts</code> is not displayed but charged, so MPU must be completed or aborted.</p>
</div>
<p>After uploading all the files, create a JSONE file with the ETag value as follows:</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">cat</span><span class="w"> </span><span class="n">mpu_fileparts</span><span class="p">.</span><span class="n">json</span><span class="w"></span>
<span class="err">{</span><span class="w"></span>
<span class="w">    </span><span class="ss">&quot;Parts&quot;</span><span class="err">:</span><span class="o">[</span><span class="n">{</span>
<span class="n">        &quot;ETag&quot;: &quot;sample1d8560e70ca076c897e0715024&quot;,</span>
<span class="n">        &quot;PartNumber&quot;: 1</span>
<span class="n">    },</span>
<span class="n">    {</span>
<span class="n">        &quot;ETag&quot;: &quot;samplee36a6ef6ae8f2c0ea3328c5e7c&quot;,</span>
<span class="n">        &quot;PartNumber&quot;: 2</span>
<span class="n">    },</span>
<span class="n">    {</span>
<span class="n">        &quot;ETag&quot;: &quot;sample9e391d5673d2bfd8951367eb01&quot;,</span>
<span class="n">        &quot;PartNumber&quot;: 3</span>
<span class="n">    }</span><span class="o">]</span><span class="w"></span>
<span class="err">}</span><span class="w"></span>
</code></pre></div>

<p>Finally, to complete MPU use the command <code>s3api complete-multipart-upload</code>. At this time, the object is created that you specify with <code>--key</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">aws</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">abci</span><span class="o">.</span><span class="n">ai</span> <span class="n">s3api</span> <span class="n">complete</span><span class="o">-</span><span class="n">multipart</span><span class="o">-</span><span class="n">upload</span> <span class="o">--</span><span class="n">multipart</span><span class="o">-</span><span class="n">upload</span> <span class="n">file</span><span class="p">:</span><span class="o">//</span><span class="n">mpu_fileparts</span><span class="o">.</span><span class="n">json</span> <span class="o">--</span><span class="n">bucket</span> <span class="n">testbucket</span><span class="o">-</span><span class="mi">00</span> <span class="o">--</span><span class="n">key</span> <span class="n">mpu</span><span class="o">-</span><span class="n">sample</span> <span class="o">--</span><span class="n">upload</span><span class="o">-</span><span class="n">id</span> <span class="n">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</span>
<span class="p">{</span>
    <span class="s2">&quot;Location&quot;</span><span class="p">:</span> <span class="s2">&quot;http://testbucket-00.s3.abci.ai/mpu-sample&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Bucket&quot;</span><span class="p">:</span> <span class="s2">&quot;testbucket-00&quot;</span><span class="p">,</span>
    <span class="s2">&quot;Key&quot;</span><span class="p">:</span> <span class="s2">&quot;mpu-sample&quot;</span><span class="p">,</span>
    <span class="s2">&quot;ETag&quot;</span><span class="p">:</span> <span class="s2">&quot;</span><span class="se">\&quot;</span><span class="s2">6203f5cdbecbe0556e2313691861cb99-3</span><span class="se">\&quot;</span><span class="s2">&quot;</span>
<span class="p">}</span>
</code></pre></div>

<p>You can verify that the object has been created as follows:</p>
<div class="codehilite"><pre><span></span><code><span class="o">[</span><span class="n">username@es1 ~</span><span class="o">]</span><span class="err">$</span><span class="w"> </span><span class="n">aws</span><span class="w"> </span><span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span><span class="w"> </span><span class="nl">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="p">.</span><span class="n">abci</span><span class="p">.</span><span class="n">ai</span><span class="w"> </span><span class="n">s3</span><span class="w"> </span><span class="n">ls</span><span class="w"> </span><span class="nl">s3</span><span class="p">:</span><span class="o">//</span><span class="n">testbucket</span><span class="o">-</span><span class="mi">00</span><span class="o">/</span><span class="w"></span>
<span class="mi">2020</span><span class="o">-</span><span class="mi">12</span><span class="o">-</span><span class="mi">01</span><span class="w"> </span><span class="mi">09</span><span class="err">:</span><span class="mi">28</span><span class="err">:</span><span class="mi">03</span><span class="w">   </span><span class="mi">15728640</span><span class="w"> </span><span class="n">mpu</span><span class="o">-</span><span class="n">sample</span><span class="w"></span>
</code></pre></div>

<h3 id="abort-mpu">Aborting Data Upload with Manual MPU</h3>
<p>First, display MPU list and get <code>UploadId</code> and <code>Key</code> from the list. 
To list MPU, use the <code>s3api list-multipart-uploads</code> command with the bucket name. If there is no MPU left, nothing is displayed.
The following example shows data remaining on the server while uploading the object "data_10gib-1.dat" to 's3://BUCKET/Testdata/'.
The path and object name are displayed in <code>Key</code>.</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">aws</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">abci</span><span class="o">.</span><span class="n">ai</span> <span class="n">s3api</span> <span class="n">list</span><span class="o">-</span><span class="n">multipart</span><span class="o">-</span><span class="n">uploads</span> <span class="o">--</span><span class="n">bucket</span> <span class="n">BUCKET</span>
<span class="p">{</span>
    <span class="s2">&quot;Uploads&quot;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="s2">&quot;UploadId&quot;</span><span class="p">:</span> <span class="s2">&quot;aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Key&quot;</span><span class="p">:</span> <span class="s2">&quot;Testdata/data_10gib-1.dat&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Initiated&quot;</span><span class="p">:</span> <span class="s2">&quot;2019-11-12T09:58:16.242000+00:00&quot;</span><span class="p">,</span>
            <span class="s2">&quot;StorageClass&quot;</span><span class="p">:</span> <span class="s2">&quot;STANDARD&quot;</span><span class="p">,</span>
            <span class="s2">&quot;Owner&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;DisplayName&quot;</span><span class="p">:</span> <span class="s2">&quot;ABCI GROUP&quot;</span><span class="p">,</span>
                <span class="s2">&quot;ID&quot;</span><span class="p">:</span> <span class="s2">&quot;bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb&quot;</span>
            <span class="p">},</span>
            <span class="s2">&quot;Initiator&quot;</span><span class="p">:</span> <span class="p">{</span>
                <span class="s2">&quot;ID&quot;</span><span class="p">:</span> <span class="s2">&quot;arn:aws:iam::123456789123:user/USERNAME&quot;</span><span class="p">,</span>
                <span class="s2">&quot;DisplayName&quot;</span><span class="p">:</span> <span class="s2">&quot;USERNAME&quot;</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">]</span>
<span class="p">}</span>
</code></pre></div>

<p>Then, aborting the MPU, deletes the data on the server.
To abort the MPU, use <code>s3api abort -multipart -upload</code> command with specified <code>UploadId</code> and <code>Key</code> of the MPU. If the command succeeds, a prompt is returned.</p>
<div class="codehilite"><pre><span></span><code><span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span> <span class="n">aws</span> <span class="o">--</span><span class="n">endpoint</span><span class="o">-</span><span class="n">url</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">s3</span><span class="o">.</span><span class="n">abci</span><span class="o">.</span><span class="n">ai</span> <span class="n">s3api</span> <span class="n">abort</span><span class="o">-</span><span class="n">multipart</span><span class="o">-</span><span class="n">upload</span> <span class="o">--</span><span class="n">bucket</span> <span class="n">Testdata</span> <span class="o">--</span><span class="n">key</span> <span class="n">Testdata</span><span class="o">/</span><span class="n">data_10gib</span><span class="o">-</span><span class="mf">1.</span><span class="n">dat</span> <span class="o">--</span><span class="n">upload</span><span class="o">-</span><span class="n">id</span> <span class="n">aaaaaaaaaaaaaaaaaaaaaaaaaaaaaaaa</span>
<span class="p">[</span><span class="n">username</span><span class="err">@</span><span class="n">es1</span> <span class="o">~</span><span class="p">]</span><span class="o">$</span>
</code></pre></div>

<!--  Is s3fs-fuse another ?  -->

<!--  The detail way to use is not described, Cyberduck and WinSCP is described. -->
                
              
              
                


              
            </article>
          </div>
        </div>
        
      </main>
      
        
<footer class="md-footer">
  
    <nav class="md-footer__inner md-grid" aria-label="Footer">
      
        <a href="../cs-account/" class="md-footer__link md-footer__link--prev" rel="prev">
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Accounts and Access keys
            </div>
          </div>
        </a>
      
      
        <a href="../encryption/" class="md-footer__link md-footer__link--next" rel="next">
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Data encryption
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; 2021 National Institute of Advanced Industrial Science and Technology (AIST)
          </div>
        
        Made with
        <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
          Material for MkDocs
        </a>
        
      </div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["toc.integrate"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.fe42c31b.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.4ea5477f.min.js"></script>
      
    
  </body>
</html>